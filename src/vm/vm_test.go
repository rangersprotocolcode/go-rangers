// Copyright 2020 The RangersProtocol Authors
// This file is part of the RangersProtocol library.
//
// The RangersProtocol library is free software: you can redistribute it and/or modify
// it under the terms of the GNU Lesser General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// The RangersProtocol library is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
// GNU Lesser General Public License for more details.
//
// You should have received a copy of the GNU Lesser General Public License
// along with the RangersProtocol library. If not, see <http://www.gnu.org/licenses/>.

package vm

import (
	"encoding/base64"
	"encoding/hex"
	"fmt"
	"math/big"
	"os"
	"testing"
	"time"

	"com.tuntun.rocket/node/src/middleware/types"
	"com.tuntun.rocket/node/src/service"
	"com.tuntun.rocket/node/src/storage/account"

	"com.tuntun.rocket/node/src/utility"

	crypto "com.tuntun.rocket/node/src/eth_crypto"

	"com.tuntun.rocket/node/src/common"
	"com.tuntun.rocket/node/src/middleware/log"
	"github.com/holiman/uint256"
)

func TestVM0(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(0)

	contractCodeBytes := common.Hex2Bytes("60806040523480156200001157600080fd5b50604051620014e9380380620014e983398181016040526200003791908101906200029b565b336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a360008151116200010257600080fd5b80600190805190602001906200011a92919062000122565b505062000385565b8280548282559060005260206000209081019282156200019e579160200282015b828111156200019d5782518260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055509160200191906001019062000143565b5b509050620001ad9190620001b1565b5090565b620001f491905b80821115620001f057600081816101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905550600101620001b8565b5090565b90565b60008151905062000208816200036b565b92915050565b600082601f8301126200022057600080fd5b81516200023762000231826200030e565b620002e0565b915081818352602084019350602081019050838560208402820111156200025d57600080fd5b60005b83811015620002915781620002768882620001f7565b84526020840193506020830192505060018101905062000260565b5050505092915050565b600060208284031215620002ae57600080fd5b600082015167ffffffffffffffff811115620002c957600080fd5b620002d7848285016200020e565b91505092915050565b6000604051905081810181811067ffffffffffffffff821117156200030457600080fd5b8060405250919050565b600067ffffffffffffffff8211156200032657600080fd5b602082029050602081019050919050565b600062000344826200034b565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b620003768162000337565b81146200038257600080fd5b50565b61115480620003956000396000f3fe6080604052600436106100705760003560e01c80638da5cb5b1161004e5780638da5cb5b146100f25780638f32d59b1461011d578063942b765a14610148578063f2fde38b1461017357610070565b80630cb3a7e7146100755780633d172e4e146100b2578063715018a6146100db575b600080fd5b34801561008157600080fd5b5061009c60048036036100979190810190610b67565b61019c565b6040516100a99190610e82565b60405180910390f35b3480156100be57600080fd5b506100d960048036036100d49190810190610afb565b6102cb565b005b3480156100e757600080fd5b506100f0610400565b005b3480156100fe57600080fd5b506101076104d0565b6040516101149190610e23565b60405180910390f35b34801561012957600080fd5b506101326104f9565b60405161013f9190610e82565b60405180910390f35b34801561015457600080fd5b5061015d610550565b60405161016a9190610e3e565b60405180910390f35b34801561017f57600080fd5b5061019a60048036036101959190810190610ad2565b6105de565b005b60006041825110156101e3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101da90610f02565b60405180910390fd5b60006101ef84846105fb565b90507fd4ed1ac4408f2f7d6bc2b542ebb28160c0e473c3fa1305682f2e73f894a6d584816040516102209190610e23565b60405180910390a160008090505b6001805490508110156102be576001818154811061024857fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156102b1576001925050506102c5565b808060010191505061022e565b5060009150505b92915050565b600082511161030f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161030690610ee2565b60405180910390fd5b604181511015610354576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161034b90610f02565b60405180910390fd5b6060826040516020016103679190610e0c565b604051602081830303815290604052905060008180519060200120905061038e818461019c565b1561039a5750506103fc565b60006001816103a991906108b3565b5083600190805190602001906103c09291906108df565b507f3fef57119f9b82a8d19f978f51c87517156d38e22bd58ff18427a8653e457cfc60016040516103f19190610e60565b60405180910390a150505b5050565b6104086104f9565b61041157600080fd5b600073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a360008060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614905090565b606060018054806020026020016040519081016040528092919081815260200182805480156105d457602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001906001019080831161058a575b5050505050905090565b6105e66104f9565b6105ef57600080fd5b6105f88161066c565b50565b60008061061361060e8460006020610764565b610818565b9050600061062b61062685602080610764565b610818565b9050600061063c8560406001610764565b60008151811061064857fe5b602001015160f81c60f81b905061066186848484610826565b935050505092915050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156106a657600080fd5b8073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b606080826040519080825280601f01601f19166020018201604052801561079a5781602001600182028038833980820191505090505b50905060008090505b8381101561080c5785858201815181106107b957fe5b602001015160f81c60f81b8282815181106107d057fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535080806001019150506107a3565b50809150509392505050565b600060208201519050919050565b6000808260f81c905060008360f81c60ff16148061084a575060018360f81c60ff16145b1561085957601b8360f81c0190505b6001868287876040516000815260200160405260405161087c9493929190610e9d565b6020604051602081039080840390855afa15801561089e573d6000803e3d6000fd5b50505060206040510351915050949350505050565b8154818355818111156108da578183600052602060002091820191016108d99190610969565b5b505050565b828054828255906000526020600020908101928215610958579160200282015b828111156109575782518260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550916020019190600101906108ff565b5b509050610965919061098e565b5090565b61098b91905b8082111561098757600081600090555060010161096f565b5090565b90565b6109ce91905b808211156109ca57600081816101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905550600101610994565b5090565b90565b6000813590506109e0816110e3565b92915050565b600082601f8301126109f757600080fd5b8135610a0a610a0582610f4f565b610f22565b91508181835260208401935060208101905083856020840282011115610a2f57600080fd5b60005b83811015610a5f5781610a4588826109d1565b845260208401935060208301925050600181019050610a32565b5050505092915050565b600081359050610a78816110fa565b92915050565b600082601f830112610a8f57600080fd5b8135610aa2610a9d82610f77565b610f22565b91508082526020830160208301858383011115610abe57600080fd5b610ac983828461109a565b50505092915050565b600060208284031215610ae457600080fd5b6000610af2848285016109d1565b91505092915050565b60008060408385031215610b0e57600080fd5b600083013567ffffffffffffffff811115610b2857600080fd5b610b34858286016109e6565b925050602083013567ffffffffffffffff811115610b5157600080fd5b610b5d85828601610a7e565b9150509250929050565b60008060408385031215610b7a57600080fd5b6000610b8885828601610a69565b925050602083013567ffffffffffffffff811115610ba557600080fd5b610bb185828601610a7e565b9150509250929050565b6000610bc78383610beb565b60208301905092915050565b6000610bdf8383610c09565b60208301905092915050565b610bf481611045565b82525050565b610c0381611045565b82525050565b610c1281611045565b82525050565b6000610c2382610fc8565b610c2d8185610ff8565b9350610c3883610fa3565b8060005b83811015610c69578151610c508882610bbb565b9750610c5b83610fde565b925050600181019050610c3c565b5085935050505092915050565b6000610c8182610fc8565b610c8b8185611009565b9350610c9683610fa3565b8060005b83811015610cc7578151610cae8882610bd3565b9750610cb983610fde565b925050600181019050610c9a565b5085935050505092915050565b6000610cdf82610fd3565b610ce98185610ff8565b9350610cf483610fb3565b8060005b83811015610d2c57610d09826110c3565b610d138882610bbb565b9750610d1e83610feb565b925050600181019050610cf8565b5085935050505092915050565b610d4281611057565b82525050565b610d5181611063565b82525050565b6000610d64602683611014565b91507f7570646174654c6973742073686f756c64206174206c65617365206f6e65206160008301527f64647265737300000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000610dca601083611014565b91507f7369676e73206d757374203e3d203635000000000000000000000000000000006000830152602082019050919050565b610e068161108d565b82525050565b6000610e188284610c76565b915081905092915050565b6000602082019050610e386000830184610bfa565b92915050565b60006020820190508181036000830152610e588184610c18565b905092915050565b60006020820190508181036000830152610e7a8184610cd4565b905092915050565b6000602082019050610e976000830184610d39565b92915050565b6000608082019050610eb26000830187610d48565b610ebf6020830186610dfd565b610ecc6040830185610d48565b610ed96060830184610d48565b95945050505050565b60006020820190508181036000830152610efb81610d57565b9050919050565b60006020820190508181036000830152610f1b81610dbd565b9050919050565b6000604051905081810181811067ffffffffffffffff82111715610f4557600080fd5b8060405250919050565b600067ffffffffffffffff821115610f6657600080fd5b602082029050602081019050919050565b600067ffffffffffffffff821115610f8e57600080fd5b601f19601f8301169050602081019050919050565b6000819050602082019050919050565b60008190508160005260206000209050919050565b600081519050919050565b600081549050919050565b6000602082019050919050565b6000600182019050919050565b600082825260208201905092915050565b600081905092915050565b600082825260208201905092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006110508261106d565b9050919050565b60008115159050919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600060ff82169050919050565b82818337600083830152505050565b60006110bc6110b7836110d6565b611025565b9050919050565b60006110cf82546110a9565b9050919050565b60008160001c9050919050565b6110ec81611045565b81146110f757600080fd5b50565b61110381611063565b811461110e57600080fd5b5056fea365627a7a72315820d16fd3ef3d0e1f5d68c6a7f4cf95df165ab94f94757d5fcb268333ac45b7b7a56c6578706572696d656e74616cf564736f6c634300051100400000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000100000000000000000000000002380c84420993b7a3a90111ee3b3ccda15d8a27")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Println(common.ToHex(createResult))
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v\n", createResult)
	fmt.Printf("New create contract createLeftGas:%v,createErr:%v\n", createLeftGas, createErr)

	//invoke add
	input := common.Hex2Bytes("0cb3a7e77de0eb86b9e67ca79cfdd7d1bba6bee1a55a0d3795a14f4e1e005b79360b8133000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000414135caa6c7c1c6a67f4af9ddcd9f6b83d7fec10e996e762e44a8e21b523d331d420a9f70e77a5f7dabf25cfb484ba1c64ffbfc1eebba7c833fe3537816cbda1a0100000000000000000000000000000000000000000000000000000000000000")
	callResult, callLeftGas, callErr := mockCall(contractAddress, input, config)
	fmt.Printf("callResult:%v,callLeftGas:%v,callErr:%v\n", callResult, callLeftGas, callErr)
}

func TestVM1(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	contractCodeBytes := common.Hex2Bytes("60806040526000805534801561001457600080fd5b50610283806100246000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c80630d56562c1461005c5780632beaa90f146100a05780635b3357d2146100be5780636271f50e146100dc578063d4b6f21c14610128575b600080fd5b61009e6004803603602081101561007257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610146565b005b6100a861018a565b6040518082815260200191505060405180910390f35b6100c6610193565b6040518082815260200191505060405180910390f35b610126600480360360808110156100f257600080fd5b81019080803590602001909291908035906020019092919080359060200190929190803590602001909291905050506101d4565b005b61013061020d565b6040518082815260200191505060405180910390f35b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60008054905090565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1631905090565b836000540160008190555082600054036000819055508160005402600081905550806000548161020057fe5b0560008190555050505050565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163190509056fea265627a7a72315820d99c4e269ce7a3842ef1d4ed91588b73c5883a822de11215136baf18c0761dcc64736f6c63430005110032")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", createResult, len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)

	input := common.Hex2Bytes("6271f50e000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000002")
	callResult, callLeftGas, callErr := mockCall(contractAddress, input, config)
	fmt.Printf("callResult:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)
}

func TestVM2(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	contractCodeBytes := common.Hex2Bytes("60806040526000805534801561001457600080fd5b50610283806100246000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c80630d56562c1461005c5780632beaa90f146100a05780635b3357d2146100be5780636271f50e146100dc578063d4b6f21c14610128575b600080fd5b61009e6004803603602081101561007257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610146565b005b6100a861018a565b6040518082815260200191505060405180910390f35b6100c6610193565b6040518082815260200191505060405180910390f35b610126600480360360808110156100f257600080fd5b81019080803590602001909291908035906020019092919080359060200190929190803590602001909291905050506101d4565b005b61013061020d565b6040518082815260200191505060405180910390f35b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60008054905090565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1631905090565b836000540160008190555082600054036000819055508160005402600081905550806000548161020057fe5b0560008190555050505050565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163190509056fea265627a7a72315820d99c4e269ce7a3842ef1d4ed91588b73c5883a822de11215136baf18c0761dcc64736f6c63430005110032")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", createResult, len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)

	input := common.Hex2Bytes("0d56562c000000000000000000000000f89eebcc07e820f5a8330f52111fa51dd9dfb925")
	callResult, callLeftGas, callErr := mockCall(contractAddress, input, config)
	fmt.Printf("callResult:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)

	stateDB := config.State
	addr := common.HexToAddress("0xf89eebcc07e820f5a8330f52111fa51dd9dfb925")
	stateDB.SetBalance(addr, big.NewInt(5))

	input2 := common.Hex2Bytes("5b3357d2")
	callResult2, callLeftGas2, callErr2 := mockCall(contractAddress, input2, config)
	fmt.Printf("callResult:%v,costGas:%d,callErr:%v\n", callResult2, config.GasLimit-callLeftGas2, callErr2)

	input3 := common.Hex2Bytes("d4b6f21c")
	callResult3, callLeftGas3, callErr3 := mockCall(contractAddress, input3, config)
	fmt.Printf("callResult:%v,costGas:%d,callErr:%v\n", callResult3, config.GasLimit-callLeftGas3, callErr3)

}

func TestVM3(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	contractCodeBytes := common.Hex2Bytes("60806040526000805534801561001457600080fd5b50610393806100246000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c80630d56562c146100675780632beaa90f146100ab5780635b3357d2146100c95780636271f50e146100e7578063c667a2f314610133578063d4b6f21c146101fc575b600080fd5b6100a96004803603602081101561007d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061021a565b005b6100b361025e565b6040518082815260200191505060405180910390f35b6100d1610267565b6040518082815260200191505060405180910390f35b610131600480360360808110156100fd57600080fd5b81019080803590602001909291908035906020019092919080359060200190929190803590602001909291905050506102a8565b005b6101e260048036036101c081101561014a57600080fd5b8101908080359060200190929190803590602001909291908035906020019092919080359060200190929190803590602001909291908035906020019092919080359060200190929190803590602001909291908035906020019092919080359060200190929190803590602001909291908035906020019092919080359060200190929190803590602001909291905050506102e1565b604051808215151515815260200191505060405180910390f35b61020461031d565b6040518082815260200191505060405180910390f35b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60008054905090565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1631905090565b83600054016000819055508260005403600081905550816000540260008190555080600054816102d457fe5b0560008190555050505050565b60008b9c50899a508798508596508394508192508d8f1115610306576001905061030b565b600090505b9e9d5050505050505050505050505050565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163190509056fea265627a7a72315820c86eab4397d623e08f37b570d296bd75678ba8161e97d34122d738bb0e76dd3464736f6c63430005110032")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)

	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", createResult, len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)

	input := common.Hex2Bytes("c667a2f3000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000700000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000009000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000b000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000d000000000000000000000000000000000000000000000000000000000000000e")
	callResult, callLeftGas, callErr := mockCall(contractAddress, input, config)
	fmt.Printf("callResult:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)
}

func TestVM4(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	contractCodeBytes := common.Hex2Bytes("6080604052735c602ec7b8de713d6106da7d1db1fd7bfcc2d4d46000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503480156200006557600080fd5b5060405162001c9938038062001c9983398181016040526200008b9190810190620000f2565b600060028190555080600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550506200016c565b600081519050620000ec8162000152565b92915050565b6000602082840312156200010557600080fd5b60006200011584828501620000db565b91505092915050565b60006200012b8262000132565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6200015d816200011e565b81146200016957600080fd5b50565b611b1d806200017c6000396000f3fe6080604052600436106100555760003560e01c8063046b290814610057578063999635a11461006e578063ad88be6e14610097578063b2b57a26146100c0578063da68b4b4146100e9578063eb185c50146100f3575b005b34801561006357600080fd5b5061006c61010f565b005b34801561007a57600080fd5b5061009560048036036100909190810190611327565b61014a565b005b3480156100a357600080fd5b506100be60048036036100b9919081019061123e565b610369565b005b3480156100cc57600080fd5b506100e760048036036100e29190810190611327565b61055c565b005b6100f161074e565b005b61010d600480360361010891908101906111fd565b610796565b005b7f8a75e65e6a8c5a0bc5c906bb7fc1f38cdbdfc0adc92e41b43b3ce83463a8a8c06002546040516101409190611754565b60405180910390a1565b846001600254011461015b57600080fd5b600084511161016957600080fd5b835183511461017757600080fd5b835182511461018557600080fd5b606060008090505b85518110156101c85760606101b5838884815181106101a857fe5b60200260200101516107e1565b905080925050808060010191505061018d565b506060868286866040516020016101e2949392919061160d565b6040516020818303038152906040529050600081805190602001209050610209818561092a565b61021557505050610362565b60008090505b87518110156103125786818151811061023057fe5b602002602001015173ffffffffffffffffffffffffffffffffffffffff166108fc87838151811061025d57fe5b60200260200101519081150290604051600060405180830381858888f19350505050158015610290573d6000803e3d6000fd5b507fe04d47d3054af1f047151ee17798cebe92f604635034315e4fcab7b2d7a66ef98882815181106102be57fe5b60200260200101518883815181106102d257fe5b60200260200101518884815181106102e657fe5b60200260200101516040516102fd93929190611716565b60405180910390a1808060010191505061021b565b506002600081548092919060010191905055507f8a75e65e6a8c5a0bc5c906bb7fc1f38cdbdfc0adc92e41b43b3ce83463a8a8c06002546040516103569190611754565b60405180910390a15050505b5050505050565b856001600254011461037a57600080fd5b600084511161038857600080fd5b835183511461039657600080fd5b83518251146103a457600080fd5b606060008090505b85518110156103e75760606103d4838884815181106103c757fe5b60200260200101516107e1565b90508092505080806001019150506103ac565b50606087828686604051602001610401949392919061160d565b6040516020818303038152906040529050600081805190602001209050610428818561092a565b61043457505050610554565b60008090505b8751811015610504578873ffffffffffffffffffffffffffffffffffffffff1663a9059cbb88838151811061046b57fe5b602002602001015188848151811061047f57fe5b60200260200101516040518363ffffffff1660e01b81526004016104a492919061166a565b602060405180830381600087803b1580156104be57600080fd5b505af11580156104d2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506104f691908101906111d4565b50808060010191505061043a565b506002600081548092919060010191905055507f8a75e65e6a8c5a0bc5c906bb7fc1f38cdbdfc0adc92e41b43b3ce83463a8a8c06002546040516105489190611754565b60405180910390a15050505b505050505050565b846001600254011461056d57600080fd5b600084511161057b57600080fd5b835183511461058957600080fd5b835182511461059757600080fd5b606060008090505b85518110156105da5760606105c7838884815181106105ba57fe5b60200260200101516107e1565b905080925050808060010191505061059f565b506060868286866040516020016105f4949392919061160d565b604051602081830303815290604052905060008180519060200120905061061b818561092a565b61062757505050610747565b60008090505b87518110156106f7576000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a9059cbb88838151811061067f57fe5b602002602001015188848151811061069357fe5b60200260200101516040518363ffffffff1660e01b81526004016106b892919061166a565b600060405180830381600087803b1580156106d257600080fd5b505af11580156106e6573d6000803e3d6000fd5b50505050808060010191505061062d565b506002600081548092919060010191905055507f8a75e65e6a8c5a0bc5c906bb7fc1f38cdbdfc0adc92e41b43b3ce83463a8a8c060025460405161073b9190611754565b60405180910390a15050505b5050505050565b6000341161075b57600080fd5b7fb61b60bb8d6b946262c1546b50b6e216393eb147c9d267ea7d123d9aafd5483a333460405161078c92919061166a565b60405180910390a1565b600034116107a357600080fd5b7f6cf43ed1a9dd396df89c54be8a0dacaf939f1afdc5dc17a37974d01665ad2d478133346040516107d6939291906116d8565b60405180910390a150565b6060808390506060839050606081518351016040519080825280601f01601f1916602001820160405280156108255781602001600182028038833980820191505090505b5090506060819050600080905060008090505b85518110156108a65785818151811061084d57fe5b602001015160f81c60f81b83838060010194508151811061086a57fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508080600101915050610838565b5060008090505b845181101561091b578481815181106108c257fe5b602001015160f81c60f81b8383806001019450815181106108df57fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535080806001019150506108ad565b50829550505050505092915050565b6000610934610da0565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166309a9d76c6040518163ffffffff1660e01b815260040160606040518083038186803b15801561099c57600080fd5b505afa1580156109b0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506109d491908101906111ab565b90507fe821288434e942492293d0b381bb8e705c32fa88ff6a7978ea1a399fde4a7e6d81600060038110610a0457fe5b6020020151604051610a16919061164f565b60405180910390a16000809050610a2b610dc2565b60008090505b8551811015610b45576000610a5988888481518110610a4c57fe5b6020026020010151610b68565b9050600080905060008090505b83811015610ac8578273ffffffffffffffffffffffffffffffffffffffff16858260048110610a9157fe5b602002015173ffffffffffffffffffffffffffffffffffffffff161415610abb5760019150610ac8565b8080600101915050610a66565b506001811415610ad9575050610b38565b81848460048110610ae657fe5b602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050610b278683610bd9565b15610b355784806001019550505b50505b8080600101915050610a31565b5060028210610b5a5760019350505050610b62565b600093505050505b92915050565b600080610b80610b7b8460006020610c51565b610d05565b90506000610b98610b9385602080610c51565b610d05565b90506000610ba98560406001610c51565b600081518110610bb557fe5b602001015160f81c60f81b9050610bce86848484610d13565b935050505092915050565b600080600090505b6004811015610c45578273ffffffffffffffffffffffffffffffffffffffff16848260038110610c0d57fe5b602002015173ffffffffffffffffffffffffffffffffffffffff161415610c38576001915050610c4b565b8080600101915050610be1565b50600090505b92915050565b606080826040519080825280601f01601f191660200182016040528015610c875781602001600182028038833980820191505090505b50905060008090505b83811015610cf9578585820181518110610ca657fe5b602001015160f81c60f81b828281518110610cbd57fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508080600101915050610c90565b50809150509392505050565b600060208201519050919050565b6000808260f81c905060008360f81c60ff161480610d37575060018360f81c60ff16145b15610d4657601b8360f81c0190505b60018682878760405160008152602001604052604051610d699493929190611693565b6020604051602081039080840390855afa158015610d8b573d6000803e3d6000fd5b50505060206040510351915050949350505050565b6040518060600160405280600390602082028038833980820191505090505090565b6040518060800160405280600490602082028038833980820191505090505090565b600081359050610df381611a7e565b92915050565b600081519050610e0881611a7e565b92915050565b600081359050610e1d81611a95565b92915050565b600082601f830112610e3457600080fd5b6003610e47610e428261179c565b61176f565b91508183856020840282011115610e5d57600080fd5b60005b83811015610e8d5781610e738882610df9565b845260208401935060208301925050600181019050610e60565b5050505092915050565b600082601f830112610ea857600080fd5b8135610ebb610eb6826117be565b61176f565b91508181835260208401935060208101905083856020840282011115610ee057600080fd5b60005b83811015610f105781610ef68882610e0e565b845260208401935060208301925050600181019050610ee3565b5050505092915050565b600082601f830112610f2b57600080fd5b8135610f3e610f39826117e6565b61176f565b9150818183526020840193506020810190508360005b83811015610f845781358601610f6a888261109a565b845260208401935060208301925050600181019050610f54565b5050505092915050565b600082601f830112610f9f57600080fd5b8135610fb2610fad8261180e565b61176f565b9150818183526020840193506020810190508360005b83811015610ff85781358601610fde88826110ee565b845260208401935060208301925050600181019050610fc8565b5050505092915050565b600082601f83011261101357600080fd5b813561102661102182611836565b61176f565b9150818183526020840193506020810190508385602084028201111561104b57600080fd5b60005b8381101561107b57816110618882611196565b84526020840193506020830192505060018101905061104e565b5050505092915050565b60008151905061109481611aac565b92915050565b600082601f8301126110ab57600080fd5b81356110be6110b98261185e565b61176f565b915080825260208301602083018583830111156110da57600080fd5b6110e5838284611a21565b50505092915050565b600082601f8301126110ff57600080fd5b813561111261110d8261188a565b61176f565b9150808252602083016020830185838301111561112e57600080fd5b611139838284611a21565b50505092915050565b600082601f83011261115357600080fd5b8135611166611161826118b6565b61176f565b9150808252602083016020830185838301111561118257600080fd5b61118d838284611a21565b50505092915050565b6000813590506111a581611ac3565b92915050565b6000606082840312156111bd57600080fd5b60006111cb84828501610e23565b91505092915050565b6000602082840312156111e657600080fd5b60006111f484828501611085565b91505092915050565b60006020828403121561120f57600080fd5b600082013567ffffffffffffffff81111561122957600080fd5b61123584828501611142565b91505092915050565b60008060008060008060c0878903121561125757600080fd5b600061126589828a01611196565b965050602061127689828a01610de4565b955050604087013567ffffffffffffffff81111561129357600080fd5b61129f89828a01610f8e565b945050606087013567ffffffffffffffff8111156112bc57600080fd5b6112c889828a01610e97565b935050608087013567ffffffffffffffff8111156112e557600080fd5b6112f189828a01611002565b92505060a087013567ffffffffffffffff81111561130e57600080fd5b61131a89828a01610f1a565b9150509295509295509295565b600080600080600060a0868803121561133f57600080fd5b600061134d88828901611196565b955050602086013567ffffffffffffffff81111561136a57600080fd5b61137688828901610f8e565b945050604086013567ffffffffffffffff81111561139357600080fd5b61139f88828901610e97565b935050606086013567ffffffffffffffff8111156113bc57600080fd5b6113c888828901611002565b925050608086013567ffffffffffffffff8111156113e557600080fd5b6113f188828901610f1a565b9150509295509295909350565b600061140a838361143d565b60208301905092915050565b600061142283836115d8565b60208301905092915050565b611437816119eb565b82525050565b6114468161198c565b82525050565b6114558161197a565b82525050565b600061146682611902565b6114708185611948565b935061147b836118e2565b8060005b838110156114ac57815161149388826113fe565b975061149e8361192e565b92505060018101905061147f565b5085935050505092915050565b60006114c48261190d565b6114ce8185611953565b93506114d9836118f2565b8060005b8381101561150a5781516114f18882611416565b97506114fc8361193b565b9250506001810190506114dd565b5085935050505092915050565b611520816119aa565b82525050565b600061153182611923565b61153b818561195e565b935061154b818560208601611a30565b61155481611a6d565b840191505092915050565b600061156a82611923565b611574818561196f565b9350611584818560208601611a30565b80840191505092915050565b600061159b82611918565b6115a5818561195e565b93506115b5818560208601611a30565b6115be81611a6d565b840191505092915050565b6115d2816119d4565b82525050565b6115e1816119d4565b82525050565b6115f86115f3826119d4565b611a63565b82525050565b611607816119de565b82525050565b600061161982876115e7565b602082019150611629828661155f565b9150611635828561145b565b915061164182846114b9565b915081905095945050505050565b6000602082019050611664600083018461144c565b92915050565b600060408201905061167f600083018561142e565b61168c60208301846115c9565b9392505050565b60006080820190506116a86000830187611517565b6116b560208301866115fe565b6116c26040830185611517565b6116cf6060830184611517565b95945050505050565b600060608201905081810360008301526116f28186611526565b9050611701602083018561142e565b61170e60408301846115c9565b949350505050565b600060608201905081810360008301526117308186611590565b905061173f602083018561142e565b61174c60408301846115c9565b949350505050565b600060208201905061176960008301846115c9565b92915050565b6000604051905081810181811067ffffffffffffffff8211171561179257600080fd5b8060405250919050565b600067ffffffffffffffff8211156117b357600080fd5b602082029050919050565b600067ffffffffffffffff8211156117d557600080fd5b602082029050602081019050919050565b600067ffffffffffffffff8211156117fd57600080fd5b602082029050602081019050919050565b600067ffffffffffffffff82111561182557600080fd5b602082029050602081019050919050565b600067ffffffffffffffff82111561184d57600080fd5b602082029050602081019050919050565b600067ffffffffffffffff82111561187557600080fd5b601f19601f8301169050602081019050919050565b600067ffffffffffffffff8211156118a157600080fd5b601f19601f8301169050602081019050919050565b600067ffffffffffffffff8211156118cd57600080fd5b601f19601f8301169050602081019050919050565b6000819050602082019050919050565b6000819050602082019050919050565b600081519050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b6000602082019050919050565b600081905092915050565b600081905092915050565b600082825260208201905092915050565b600081905092915050565b6000611985826119b4565b9050919050565b6000611997826119b4565b9050919050565b60008115159050919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600060ff82169050919050565b60006119f6826119fd565b9050919050565b6000611a0882611a0f565b9050919050565b6000611a1a826119b4565b9050919050565b82818337600083830152505050565b60005b83811015611a4e578082015181840152602081019050611a33565b83811115611a5d576000848401525b50505050565b6000819050919050565b6000601f19601f8301169050919050565b611a878161197a565b8114611a9257600080fd5b50565b611a9e8161198c565b8114611aa957600080fd5b50565b611ab58161199e565b8114611ac057600080fd5b50565b611acc816119d4565b8114611ad757600080fd5b5056fea365627a7a723158207a4a6d7944acd950c4876c6760d5b0fe976a7e962ad8d98f66f589a2afa5eb806c6578706572696d656e74616cf564736f6c63430005110040000000000000000000000000253D2C464d6c0bF52e7ea5E798B87912d99303bd")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", createResult, len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)
	//-------------------CALL 1----------------
	input := common.Hex2Bytes("da68b4b4")

	stateDB := config.State
	addr := common.HexToAddress("0x0f656deb14f9666d3fdf9dff7c1c430c0570223f10900c89c94a79324ad24085")
	stateDB.SetBalance(addr, big.NewInt(5))

	config.Value = big.NewInt(1)
	config.Origin = addr
	callResult, callLeftGas, callErr := mockCall(contractAddress, input, config)
	fmt.Printf("callResult:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)
	//-------CALL 2 ---------------------
	input2 := common.Hex2Bytes("eb185c50000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000056162636465000000000000000000000000000000000000000000000000000000")

	addr = common.HexToAddress("0x0f656deb14f9666d3fdf9dff7c1c430c0570223f10900c89c94a79324ad24084")
	stateDB.SetBalance(addr, big.NewInt(5))

	config.Value = big.NewInt(2)
	config.Origin = addr
	callResult2, callLeftGas2, callErr2 := mockCall(contractAddress, input2, config)
	fmt.Printf("callResult:%v,costGas:%d,callErr:%v\n", callResult2, config.GasLimit-callLeftGas2, callErr2)
}

func TestVM5(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	contractCodeBytes := common.Hex2Bytes("608060405234801561001057600080fd5b50610223806100206000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c80639db8d7d514610030575b600080fd5b61005c6004803603602081101561004657600080fd5b810190808035906020019092919050505061005e565b005b60606040518060200161007090610106565b6020820181038252601f19601f820116604052509050600081518381602085016000f59150507fb03c53b28e78a88e31607a27e1fa48234dce28d5d9d9ec7b295aeb02e674a1e18184604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019250505060405180910390a1505050565b60e5806101138339019056fe6080604052736a47c06bcfabc079e4c3b196a47f3b5a2fa998b96000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555073ead5853f4d54d0718c568a589f0087c5eb385645600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600060025534801560bd57600080fd5b50600160025401600281905550600073ffffffffffffffffffffffffffffffffffffffff16fffea165627a7a72305820819896a9eac1488592d8328ef846692c4cb6c760d247250e56013d5ca20d6e760029")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", createResult, len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)

	input := common.Hex2Bytes("9db8d7d50000000000000000000000000000000000000000000000000000000000000001")
	callResult, callLeftGas, callErr := mockCall(contractAddress, input, config)
	fmt.Printf("callResult:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)
}

func TestCreate2Address(t *testing.T) {
	salt := uint256.NewInt()
	salt.SetUint64(1)

	addr := common.HexToAddress("0x616fe1518d70c3d3a4d10c89005f29db05979b31000000000000000000000000")

	code := common.Hex2Bytes("6080604052736a47c06bcfabc079e4c3b196a47f3b5a2fa998b96000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555073ead5853f4d54d0718c568a589f0087c5eb385645600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600060025534801560bd57600080fd5b50600160025401600281905550600073ffffffffffffffffffffffffffffffffffffffff16fffe")
	codeAndHash := &codeAndHash{code: code}

	fmt.Printf("code:%v\n", codeAndHash.Hash().Bytes())
	fmt.Printf("addr:%v\n", addr.Bytes())
	fmt.Printf("salt:%v\n", salt.Bytes32())
	contractAddr := crypto.CreateAddress2(addr, common.Hash(salt.Bytes32()), codeAndHash.Hash().Bytes())
	fmt.Printf("create2 contract addr:%v", contractAddr.Bytes())
}

func TestVM6(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	contractCodeBytes := common.Hex2Bytes("6080604052348015600f57600080fd5b506103ac8061001f6000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c8063f8a8fd6d14610030575b600080fd5b610038610052565b604051808215151515815260200191505060405180910390f35b600080600360050690507f3a406d3871dab9676f7dbfa824f81f599698603527e1521006603c9118171e18816040518082815260200191505060405180910390a16000600460050790507f3a406d3871dab9676f7dbfa824f81f599698603527e1521006603c9118171e18816040518082815260200191505060405180910390a1600081831390507f3a406d3871dab9676f7dbfa824f81f599698603527e1521006603c9118171e18816040518082815260200191505060405180910390a160008060011890507f3a406d3871dab9676f7dbfa824f81f599698603527e1521006603c9118171e18816040518082815260200191505060405180910390a160003090507fe821288434e942492293d0b381bb8e705c32fa88ff6a7978ea1a399fde4a7e6d81604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a160003290507f3a406d3871dab9676f7dbfa824f81f599698603527e1521006603c9118171e18816040518082815260200191505060405180910390a160003a90507f3a406d3871dab9676f7dbfa824f81f599698603527e1521006603c9118171e18816040518082815260200191505060405180910390a16000600140905060004190507f3a406d3871dab9676f7dbfa824f81f599698603527e1521006603c9118171e18816040518082815260200191505060405180910390a160004390507f3a406d3871dab9676f7dbfa824f81f599698603527e1521006603c9118171e18816040518082815260200191505060405180910390a160004290507f3a406d3871dab9676f7dbfa824f81f599698603527e1521006603c9118171e18816040518082815260200191505060405180910390a160004490507f3a406d3871dab9676f7dbfa824f81f599698603527e1521006603c9118171e18816040518082815260200191505060405180910390a160004590507f3a406d3871dab9676f7dbfa824f81f599698603527e1521006603c9118171e18816040518082815260200191505060405180910390a160019d50505050505050505050505050509056fea265627a7a723158208f072ad16ca9bcf60e7483559e58f66b1dd625c0eb10201e3846e1c9dbdd62e064736f6c63430005110032")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", createResult, len(createResult))
	fmt.Printf("New create contract createResult:%s,%d\n", string(createResult), len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)

	//input := common.Hex2Bytes("f8a8fd6d")
	//callResult, callLeftGas, callErr := mockCall(contractAddress, input, config)
	//fmt.Printf("callResult:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)
}

func TestVM7(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.Origin = common.HexToAddress("0x407988d14785a6ae45e3106b4f9799c0ab0af3d0c85447ce1ddb09f089872257")
	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	////部署NonFungibleMock合约
	contractCodeBytes := common.Hex2Bytes("6060604052341561000f57600080fd5b6108328061001e6000396000f300606060405260043610610099576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063095ea7b31461009e5780631051db34146100e057806318160ddd1461010d57806323b872dd146101365780634707f44f146101975780636352211e146101ed57806370a08231146102505780639cbf9e361461029d578063a9059cbb146102c6575b600080fd5b34156100a957600080fd5b6100de600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050610308565b005b34156100eb57600080fd5b6100f3610373565b604051808215151515815260200191505060405180910390f35b341561011857600080fd5b61012061037c565b6040518082815260200191505060405180910390f35b341561014157600080fd5b610195600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050610388565b005b34156101a257600080fd5b6101d7600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050610409565b6040518082815260200191505060405180910390f35b34156101f857600080fd5b61020e60048080359060200190919050506104f8565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561025b57600080fd5b610287600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610535565b6040518082815260200191505060405180910390f35b34156102a857600080fd5b6102b06105f4565b6040518082815260200191505060405180910390f35b34156102d157600080fd5b610306600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001909190505061069b565b005b6103123382610706565b151561031d57600080fd5b816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050565b60006001905090565b60008080549050905090565b6103923382610747565b151561039d57600080fd5b6103a78382610706565b15156103b257600080fd5b816001600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505050565b6000806000809150600090505b61041e61037c565b8110156104eb578473ffffffffffffffffffffffffffffffffffffffff1660016000808481548110151561044e57fe5b906000526020600020900160000154815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156104de57838214156104d5576000818154811015156104bf57fe5b90600052602060002090016000015492506104f0565b81806001019250505b8080600101915050610416565b600092505b505092915050565b60006001600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b6000806000809150600090505b61054a61037c565b8110156105ea578373ffffffffffffffffffffffffffffffffffffffff1660016000808481548110151561057a57fe5b906000526020600020900160000154815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156105dd5781806001019250505b8080600101915050610542565b8192505050919050565b60008060016000805490500190506000805480600101828161061691906107b3565b9160005260206000209001600060206040519081016040528085815250909190915060008201518160000155505050336001600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505090565b6106a53382610706565b15156106b057600080fd5b816001600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050565b60008273ffffffffffffffffffffffffffffffffffffffff16610728836104f8565b73ffffffffffffffffffffffffffffffffffffffff1614905092915050565b60008273ffffffffffffffffffffffffffffffffffffffff166002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614905092915050565b8154818355818115116107da578183600052602060002091820191016107d991906107df565b5b505050565b61080391905b808211156107ff57600080820160009055506001016107e5565b5090565b905600a165627a7a72305820430c247aedd9e4dbe363a3bfe30144f010f5de1d6e9674b31a082e5b3cbf18080029")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", createResult, len(createResult))
	fmt.Printf("New create contract createResult:%s,%d\n", common.ToHex(createResult), len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)

	////部署ClockAuction(NonFungibleMock.address,0)合约
	////nonFungibleMockAddress := common.HexToAddress("0x9db09e8b334726a9500932b7b878e41eddb4b069")
	//
	//contractCodeBytes1 := common.Hex2Bytes("606060405260008060146101000a81548160ff021916908315150217905550341561002957600080fd5b6040516040806116c9833981016040528080519060200190919080519060200190919050506000336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555061271082111515156100a157600080fd5b816002819055508290508073ffffffffffffffffffffffffffffffffffffffff16631051db346000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b151561011757600080fd5b6102c65a03f1151561012857600080fd5b50505060405180519050151561013d57600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505050611539806101906000396000f3006060604052600436106100d0576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806327ebe40a146100dd5780633f4ba83a1461013a578063454a2ab3146101675780635c975abb1461017f5780635fd8c710146101ac57806378bd7935146101c157806383b5ff8b146102405780638456cb5914610269578063878eb368146102965780638da5cb5b146102b957806396b5a7551461030e578063c55d0f5614610331578063dd1b7a0f14610368578063f2fde38b146103bd575b34156100db57600080fd5b005b34156100e857600080fd5b610138600480803590602001909190803590602001909190803590602001909190803590602001909190803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506103f6565b005b341561014557600080fd5b61014d61051c565b604051808215151515815260200191505060405180910390f35b61017d60048080359060200190919050506105e1565b005b341561018a57600080fd5b610192610615565b604051808215151515815260200191505060405180910390f35b34156101b757600080fd5b6101bf610628565b005b34156101cc57600080fd5b6101e2600480803590602001909190505061073a565b604051808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018581526020018481526020018381526020018281526020019550505050505060405180910390f35b341561024b57600080fd5b61025361085d565b6040518082815260200191505060405180910390f35b341561027457600080fd5b61027c610863565b604051808215151515815260200191505060405180910390f35b34156102a157600080fd5b6102b7600480803590602001909190505061092a565b005b34156102c457600080fd5b6102cc6109fc565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561031957600080fd5b61032f6004808035906020019091905050610a21565b005b341561033c57600080fd5b6103526004808035906020019091905050610abd565b6040518082815260200191505060405180910390f35b341561037357600080fd5b61037b610afa565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156103c857600080fd5b6103f4600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610b20565b005b6103fe61148f565b600060149054906101000a900460ff1615151561041a57600080fd5b846fffffffffffffffffffffffffffffffff8110151561043957600080fd5b846fffffffffffffffffffffffffffffffff8110151561045857600080fd5b8467ffffffffffffffff811115151561047057600080fd5b61047a338a610bf5565b151561048557600080fd5b61048f338a610ce1565b60a0604051908101604052808673ffffffffffffffffffffffffffffffffffffffff168152602001896fffffffffffffffffffffffffffffffff168152602001886fffffffffffffffffffffffffffffffff1681526020018767ffffffffffffffff1681526020014267ffffffffffffffff1681525093506105118985610df1565b505050505050505050565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561057957600080fd5b600060149054906101000a900460ff16151561059457600080fd5b60008060146101000a81548160ff0219169083151502179055507f7805862f689e2f13df9f062ff482ad3ad112aca9e0847911ed832e158c525b3360405160405180910390a16001905090565b600060149054906101000a900460ff161515156105fd57600080fd5b6106078134610fd6565b50610612338261112d565b50565b600060149054906101000a900460ff1681565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614806106d557508073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16145b15156106e057600080fd5b8073ffffffffffffffffffffffffffffffffffffffff166108fc3073ffffffffffffffffffffffffffffffffffffffff16319081150290604051600060405180830381858888f19350505050151561073757600080fd5b50565b60008060008060008060036000888152602001908152602001600020905061076181611209565b151561076c57600080fd5b8060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168160010160009054906101000a90046fffffffffffffffffffffffffffffffff168260010160109054906101000a90046fffffffffffffffffffffffffffffffff168360020160009054906101000a900467ffffffffffffffff168460020160089054906101000a900467ffffffffffffffff16836fffffffffffffffffffffffffffffffff169350826fffffffffffffffffffffffffffffffff1692508167ffffffffffffffff1691508067ffffffffffffffff169050955095509550955095505091939590929450565b60025481565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156108c057600080fd5b600060149054906101000a900460ff161515156108dc57600080fd5b6001600060146101000a81548160ff0219169083151502179055507f6985a02210a168e66602d3235cb6db0e70f92b3ba4d376a33c0f3d9434bff62560405160405180910390a16001905090565b60008060149054906101000a900460ff16151561094657600080fd5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156109a157600080fd5b6003600083815260200190815260200160002090506109bf81611209565b15156109ca57600080fd5b6109f8828260000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16611237565b5050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600080600360008481526020019081526020016000209150610a4282611209565b1515610a4d57600080fd5b8160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610aae57600080fd5b610ab88382611237565b505050565b600080600360008481526020019081526020016000209050610ade81611209565b1515610ae957600080fd5b610af281611285565b915050919050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610b7b57600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515610bf257806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b50565b60008273ffffffffffffffffffffffffffffffffffffffff16600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16636352211e846000604051602001526040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b1515610ca757600080fd5b6102c65a03f11515610cb857600080fd5b5050506040518051905073ffffffffffffffffffffffffffffffffffffffff1614905092915050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166323b872dd8330846040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050600060405180830381600087803b1515610dd957600080fd5b6102c65a03f11515610dea57600080fd5b5050505050565b603c816060015167ffffffffffffffff1610151515610e0f57600080fd5b806003600084815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060208201518160010160006101000a8154816fffffffffffffffffffffffffffffffff02191690836fffffffffffffffffffffffffffffffff16021790555060408201518160010160106101000a8154816fffffffffffffffffffffffffffffffff02191690836fffffffffffffffffffffffffffffffff16021790555060608201518160020160006101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060808201518160020160086101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055509050507fa9c8dfcda5664a5a124c713e386da27de87432d5b668e79458501eb296389ba78282602001516fffffffffffffffffffffffffffffffff1683604001516fffffffffffffffffffffffffffffffff16846060015167ffffffffffffffff166040518085815260200184815260200183815260200182815260200194505050505060405180910390a15050565b600080600080600080600360008981526020019081526020016000209450610ffd85611209565b151561100857600080fd5b61101185611285565b935083871015151561102257600080fd5b8460000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16925061105288611378565b60008411156110ac5761106484611434565b915081840390508273ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f1935050505015156110ab57600080fd5b5b7f4fcc30d90a842164dd58501ab874a101a3749c3d4747139cefe7c876f4ccebd2888533604051808481526020018381526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001935050505060405180910390a1839550505050505092915050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a9059cbb83836040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050600060405180830381600087803b15156111f157600080fd5b6102c65a03f1151561120257600080fd5b5050505050565b6000808260020160089054906101000a900467ffffffffffffffff1667ffffffffffffffff16119050919050565b61124082611378565b61124a818361112d565b7f2809c7e17bf978fbc7194c0a694b638c4215e9140cacc6c38ca36010b45697df826040518082815260200191505060405180910390a15050565b600080600090508260020160089054906101000a900467ffffffffffffffff1667ffffffffffffffff164211156112de578260020160089054906101000a900467ffffffffffffffff1667ffffffffffffffff16420390505b6113708360010160009054906101000a90046fffffffffffffffffffffffffffffffff166fffffffffffffffffffffffffffffffff168460010160109054906101000a90046fffffffffffffffffffffffffffffffff166fffffffffffffffffffffffffffffffff168560020160009054906101000a900467ffffffffffffffff1667ffffffffffffffff168461144f565b915050919050565b60036000828152602001908152602001600020600080820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556001820160006101000a8154906fffffffffffffffffffffffffffffffff02191690556001820160106101000a8154906fffffffffffffffffffffffffffffffff02191690556002820160006101000a81549067ffffffffffffffff02191690556002820160086101000a81549067ffffffffffffffff0219169055505050565b6000612710600254830281151561144757fe5b049050919050565b600080600080858510151561146657869350611484565b87870392508585840281151561147857fe5b05915081880190508093505b505050949350505050565b60a060405190810160405280600073ffffffffffffffffffffffffffffffffffffffff16815260200160006fffffffffffffffffffffffffffffffff16815260200160006fffffffffffffffffffffffffffffffff168152602001600067ffffffffffffffff168152602001600067ffffffffffffffff16815250905600a165627a7a723058202a417c3fcb6ee2edbadd37a58b3bb637866a091f687fa2832d5c2b227b81f21200290000000000000000000000009db09e8b334726a9500932b7b878e41eddb4b0690000000000000000000000000000000000000000000000000000000000000000")
	//createResult1, contractAddress1, createLeftGas1, createErr1 := mockCreate(contractCodeBytes1, config)
	//fmt.Printf("New create contract address:%s\n", contractAddress1.GetHexString())
	//fmt.Printf("New create contract createResult:%v,%d\n", createResult1, len(createResult1))
	//fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas1, createErr1)
	//
	//auctionAddress := common.HexToAddress("0x1261365b2f50501ce0629c933a55f153599f953f")
	//b := config.State.GetCode(auctionAddress)
	//fmt.Printf("b:%v\n", b)
	//input := common.Hex2Bytes("8da5cb5b")
	//callResult, callLeftGas, callErr := mockCall(auctionAddress, input, config)
	//fmt.Printf("callResult:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)

}

func TestVM8(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	contractCodeBytes := common.Hex2Bytes("6080604052348015600f57600080fd5b5060606040518060400160405280600781526020017f6e66744e616d6500000000000000000000000000000000000000000000000000815250905060606040518060400160405280600981526020017f6e667453796d626f6c0000000000000000000000000000000000000000000000815250905060006103e790506000838383e090505050505060518060a46000396000f3fe6080604052600080fdfea264697066735822122062d45ee11410a296edf3c7ca4865bf7a3617239b50bf8aa4a0e080acc5e3234b64736f6c6375302e372e352b636f6d6d69742e65623737656430380045")

	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", createResult, len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)

	//input := common.Hex2Bytes("f8a8fd6d")
	//callResult, callLeftGas, callErr := mockCall(contractAddress, input, config)
	//fmt.Printf("callResult:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)
}

func TestVM9(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.Origin = common.HexToAddress("0x407988d14785a6ae45e3106b4f9799c0ab0af3d0c85447ce1ddb09f089872257")
	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	contractCodeBytes := common.Hex2Bytes("6080604052348015600f57600080fd5b507f783c97346bdcede2b50fe39d9f5696111f799637a564a872dd07a494c0d3f9996040518080602001828103825260058152602001807f616263646500000000000000000000000000000000000000000000000000000081525060200191505060405180910390a1603e8060856000396000f3fe6080604052600080fdfea265627a7a72315820f65b0dea3b304ca914cde52db0f108dc3c8b304e252470889d732b2eaf42ffa064736f6c63430005110032")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", createResult, len(createResult))
	fmt.Printf("New create contract createResult:%s,%d\n", common.ToHex(createResult), len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)
}

func TestSolidity(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.Origin = common.HexToAddress("0x407988d14785a6ae45e3106b4f9799c0ab0af3d0c85447ce1ddb09f089872257")
	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	contractCodeBytes := common.Hex2Bytes("608060405234801561001057600080fd5b506060600267ffffffffffffffff8111801561002b57600080fd5b506040519080825280601f01601f19166020018201604052801561005e5781602001600182028036833780820191505090505b509050600160f81b8160008151811061007357fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600160f81b816001815181106100b457fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053506060601f67ffffffffffffffff811180156100fd57600080fd5b506040519080825280601f01601f1916602001820160405280156101305781602001600182028036833780820191505090505b509050600260f81b8160008151811061014557fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600260f81b81601e8151811061018657fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053506060601f67ffffffffffffffff811180156101cf57600080fd5b506040519080825280601f01601f1916602001820160405280156102025781602001600182028036833780820191505090505b509050600360f81b8160008151811061021757fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600360f81b81601e8151811061025857fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600061ff0184848460405180806020018060200180602001848103845287818151815260200191508051906020019080838360005b838110156102d75780820151818401526020810190506102bc565b50505050905090810190601f1680156103045780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b8381101561033d578082015181840152602081019050610322565b50505050905090810190601f16801561036a5780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b838110156103a3578082015181840152602081019050610388565b50505050905090810190601f1680156103d05780820380516001836020036101000a031916815260200191505b509650505050505050602060405180830381855afa1580156103f6573d6000803e3d6000fd5b5050506040513d602081101561040b57600080fd5b81019080805190602001909291905050509050600061ff0285858560405180806020018060200180602001848103845287818151815260200191508051906020019080838360005b8381101561046e578082015181840152602081019050610453565b50505050905090810190601f16801561049b5780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b838110156104d45780820151818401526020810190506104b9565b50505050905090810190601f1680156105015780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b8381101561053a57808201518184015260208101905061051f565b50505050905090810190601f1680156105675780820380516001836020036101000a031916815260200191505b509650505050505050602060405180830381855afa15801561058d573d6000803e3d6000fd5b5050506040513d60208110156105a257600080fd5b8101908080519060200190929190505050905050505050506028806105c86000396000f3fe6080604052600080fdfea164736f6c6375302e372e352b636f6d6d69742e6562373765643038001c")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", createResult, len(createResult))
	fmt.Printf("New create contract createResult:%s,%d\n", common.ToHex(createResult), len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)
}

func TestProxyStake(t *testing.T) {
	os.RemoveAll("storage0")
	os.RemoveAll("logs")
	common.Init(0, "1.ini", "dev")
	service.InitMinerManager()
	service.InitRefundManager(nil, nil)

	common.DefaultLogger = log.GetLoggerByIndex(log.DefaultConfig, "")

	stake := "608060405260008055348015601357600080fd5b5060d2806100226000396000f3fe60806040526004361060265760003560e01c80633ccfd60b14602b578063a50ec326146033575b600080fd5b6031603b565b005b60396059565b005b3073ffffffffffffffffffffffffffffffffffffffff16600054ef50565b60003411606557600080fd5b346000819055503073ffffffffffffffffffffffffffffffffffffffff16600054ee5056fea2646970667358221220206422aa1f766ea9357aeb0fe9b1d3baf9f148f66aa4c98a1894a035ac33d88f64736f6c6375302e372e352b636f6d6d69742e65623737656430380045"
	proxy := "608060405234801561001057600080fd5b506040516101f83803806101f88339818101604052602081101561003357600080fd5b8101908080519060200190929190505050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156100ca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806101d66022913960400191505060405180910390fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505060bd806101196000396000f3fe608060405273ffffffffffffffffffffffffffffffffffffffff600054167fa619486e0000000000000000000000000000000000000000000000000000000060003514156050578060005260206000f35b3660008037600080366000845af43d6000803e60008114156070573d6000fd5b3d6000f3fea2646970667358221220ba60d75047cb5df003cac406e46e94ee88bf10ba6dbce28baeeb7956f522cdf564736f6c6375302e372e352b636f6d6d69742e65623737656430380045496e76616c69642073696e676c65746f6e20616464726573732070726f7669646564"

	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.Origin = common.HexToAddress("0x407988d14785a6ae45e3106b4f9799c0ab0af3d0c85447ce1ddb09f089872257")
	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	contractCodeBytes := common.Hex2Bytes(stake)
	_, contractAddress, _, createErr := mockCreate(contractCodeBytes, config)
	if nil != createErr {
		t.Fatal(createErr)
	}
	padder := []byte{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
	proxybytes := common.Hex2Bytes(proxy)
	proxybytes = append(proxybytes, padder...)
	proxybytes = append(proxybytes, contractAddress.Bytes()...)

	_, contractAddress2, _, createErr2 := mockCreate(contractCodeBytes, config)
	if nil != createErr2 {
		t.Fatal(createErr2)
	}
	fmt.Println(contractAddress2.GetHexString())

	// mock miner
	miner := types.Miner{}
	miner.Stake = 190000
	miner.Id = common.FromHex("0x450233af5bf35351a7f5f75ddc919481f3cbccc5c8acca94f5f655d6481a1637")
	miner.Account = common.FromHex("0x1261365b2f50501ce0629c933a55f153599f953f")
	miner.Type = common.MinerTypeProposer
	service.MinerManagerImpl.InsertMiner(&miner, config.State)
	root, err := config.State.Commit(true)
	if err != nil {
		t.Fatal(err)
	}
	err = config.AccountDatabase.TrieDB().Commit(root, false)
	if err != nil {
		t.Fatal(err)
	}
	config.State, err = account.NewAccountDB(root, config.AccountDatabase)
	if err != nil {
		t.Fatal(err)
	}

	config.State.SetBalance(config.Origin, utility.Uint64ToBigInt(10000))
	config.Value = big.NewInt(100)
	callResult, _, callErr := mockCall(contractAddress2, common.FromHex("a50ec326"), config)
	if callErr != nil {
		t.Fatal(callErr)
	}

	config.Value = nil
	callResult, _, callErr = mockCall(contractAddress2, common.FromHex("3ccfd60b"), config)
	if callErr != nil {
		t.Fatal(callErr)
	}

	fmt.Println(common.ToHex(callResult))

}

func TestStakeAndUnStake(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	common.DefaultLogger = log.GetLoggerByIndex(log.DefaultConfig, "")
	config.Origin = common.HexToAddress("0x407988d14785a6ae45e3106b4f9799c0ab0af3d0c85447ce1ddb09f089872257")
	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	contractCodeBytes := common.Hex2Bytes("6080604052348015600f57600080fd5b50737c8b97af5d3f745564a7ae035a5228bc3d1034e573ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff16eaee503073ffffffffffffffffffffffffffffffffffffffff166002ee503073ffffffffffffffffffffffffffffffffffffffff166003ef503073ffffffffffffffffffffffffffffffffffffffff16ec503073ffffffffffffffffffffffffffffffffffffffff16eb506051806100cb6000396000f3fe6080604052600080fdfea26469706673582212206a7ed8a8de5387f83eea85f343f38f2f5d68711fcecaa2ca44830e11e3238aa764736f6c6375302e372e352b636f6d6d69742e65623737656430380045")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", createResult, len(createResult))
	fmt.Printf("New create contract createResult:%s,%d\n", common.ToHex(createResult), len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)
}

func TestEIP3074(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	common.DefaultLogger = log.GetLoggerByIndex(log.DefaultConfig, "")
	config.Origin = common.HexToAddress("0x407988d14785a6ae45e3106b4f9799c0ab0af3d0c85447ce1ddb09f089872257")
	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	contractCodeBytes := common.Hex2Bytes("608060405234801561001057600080fd5b506000737c8b97af5d3f745564a7ae035a5228bc3d1034e5905060006001905060006002905060006003905060007f112233445566778899001122334455667788990011223344556677889900112260001b9050848484848460405160200161007c9493929190610235565b6040516020818303038152906040528051906020019091f650600060019050600060029050600080600267ffffffffffffffff8111156100bf576100be61027a565b5b6040519080825280601f01601f1916602001820160405280156100f15781602001600182028036833780820191505090505b509050600160f81b8160008151811061010d5761010c6102a9565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600260f81b81600181518110610155576101546102a9565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053506000602067ffffffffffffffff8111156101a1576101a061027a565b5b6040519080825280601f01601f1916602001820160405280156101d35781602001600182028036833780820191505090505b509050848a8585858580519180519060200191602001929692959094919392f750505050505050505050506102d8565b6000819050919050565b61021681610203565b82525050565b6000819050919050565b61022f8161021c565b82525050565b600060808201905061024a600083018761020d565b610257602083018661020d565b610264604083018561020d565b6102716060830184610226565b95945050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6052806102e66000396000f3fe6080604052600080fdfea26469706673582212202160fa17fab3d0cddc87fda1ffd9f08aa240fc9d11c9c728d18588090e4c488d64736f6c6376302e382e31312b636f6d6d69742e64376630333934330046")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", createResult, len(createResult))
	fmt.Printf("New create contract createResult:%s,%d\n", common.ToHex(createResult), len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)
}

func TestPrintF(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	common.LocalChainConfig.ChainId = "9500"
	config.Origin = common.HexToAddress("0x407988d14785a6ae45e3106b4f9799c0ab0af3d0c85447ce1ddb09f089872257")
	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)
	contractCodeBytes := common.Hex2Bytes("608060405234801561001057600080fd5b50737c8b97af5d3f745564a7ae035a5228bc3d1034e560006040518060400160405280600a81526020017f416464726573732025760000000000000000000000000000000000000000000081525060036002ed50505050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60016040518060400160405280600a81526020017f496e74656765722025760000000000000000000000000000000000000000000081525060036002ed50505050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60026040518060400160405280601181526020017f526174696f6e616c4e756d62657220257600000000000000000000000000000081525060036002ed50505050506040518060400160405280600481526020017f746573740000000000000000000000000000000000000000000000000000000081525060036040518060400160405280601081526020017f537472696e674c69746572616c2025760000000000000000000000000000000081525060036002ed5050505050600160046040518060400160405280600781526020017f426f6f6c2025760000000000000000000000000000000000000000000000000081525060036002ed5050505050600267ffffffffffffffff8111801561020257600080fd5b506040519080825280601f01601f1916602001820160405280156102355781602001600182028036833780820191505090505b5060066040518060400160405280600881526020017f417272617920257600000000000000000000000000000000000000000000000081525060036002ed50505050507f070000000000000000000000000000000000000000000000000000000000000760001b60086040518060400160405280600d81526020017f466978656442797465732025760000000000000000000000000000000000000081525060036002ed50505050506051806102ec6000396000f3fe6080604052600080fdfea26469706673582212207d2326af0d496d957f1fb15b058c17cdc7a37c00fc0977f64fae396522b7005b64736f6c6375302e372e352b636f6d6d69742e65623737656430380045")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", createResult, len(createResult))
	fmt.Printf("New create contract createResult:%s,%d\n", common.ToHex(createResult), len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)
}

func TestUniPass(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.Origin = common.HexToAddress("0x407988d14785a6ae45e3106b4f9799c0ab0af3d0c85447ce1ddb09f089872257")
	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	contractCodeBytes := common.Hex2Bytes("608060405234801561001057600080fd5b506060600267ffffffffffffffff8111801561002b57600080fd5b506040519080825280601f01601f19166020018201604052801561005e5781602001600182028036833780820191505090505b509050600160f81b8160008151811061007357fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600160f81b816001815181106100b457fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053506060601f67ffffffffffffffff811180156100fd57600080fd5b506040519080825280601f01601f1916602001820160405280156101305781602001600182028036833780820191505090505b509050600260f81b8160008151811061014557fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600260f81b81601e8151811061018657fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053506060601f67ffffffffffffffff811180156101cf57600080fd5b506040519080825280601f01601f1916602001820160405280156102025781602001600182028036833780820191505090505b509050600360f81b8160008151811061021757fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600360f81b81601e8151811061025857fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535060007f070000000000000000000000000000000000000000000000000000000000000760001b9050600061ff01828685604051808481526020018060200180602001838103835285818151815260200191508051906020019080838360005b838110156103015780820151818401526020810190506102e6565b50505050905090810190601f16801561032e5780820380516001836020036101000a031916815260200191505b50838103825284818151815260200191508051906020019080838360005b8381101561036757808201518184015260208101905061034c565b50505050905090810190601f1680156103945780820380516001836020036101000a031916815260200191505b5095505050505050602060405180830381855afa1580156103b9573d6000803e3d6000fd5b5050506040513d60208110156103ce57600080fd5b81019080805190602001909291905050509050600061ff02838786604051808481526020018060200180602001838103835285818151815260200191508051906020019080838360005b83811015610433578082015181840152602081019050610418565b50505050905090810190601f1680156104605780820380516001836020036101000a031916815260200191505b50838103825284818151815260200191508051906020019080838360005b8381101561049957808201518184015260208101905061047e565b50505050905090810190601f1680156104c65780820380516001836020036101000a031916815260200191505b5095505050505050602060405180830381855afa1580156104eb573d6000803e3d6000fd5b5050506040513d602081101561050057600080fd5b81019080805190602001909291905050509050606085ec90505050505050505060518061052e6000396000f3fe6080604052600080fdfea264697066735822122065bbe005bdaf4daf65e1780fde4083a364db9dab3687e2781896990fe5eeedd364736f6c6375302e372e352b636f6d6d69742e65623737656430380045")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", createResult, len(createResult))
	fmt.Printf("New create contract createResult:%s,%d\n", common.ToHex(createResult), len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)
}

func TestUniPassAll(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.Origin = common.HexToAddress("0x407988d14785a6ae45e3106b4f9799c0ab0af3d0c85447ce1ddb09f089872257")
	config.GasLimit = 50300000
	config.GasPrice = big.NewInt(1)

	contractCodeBytes := common.Hex2Bytes("60806040523480156200001157600080fd5b50600060025560408051610120810190915261010080825262006abc6020830139805162000048916003916020909101906200004f565b50620000fb565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282620000875760008555620000d2565b82601f10620000a257805160ff1916838001178555620000d2565b82800160010185558215620000d2579182015b82811115620000d2578251825591602001919060010190620000b5565b50620000e0929150620000e4565b5090565b5b80821115620000e05760008155600101620000e5565b6169b1806200010b6000396000f3fe608060405234801561001057600080fd5b50600436106101375760003560e01c8063adc879e9116100b8578063cb5651c71161007c578063cb5651c714610291578063cea6ab98146102a4578063d4a67bc1146102cb578063e7e428b8146102de578063f103928c146102f1578063f851a4401461030457610137565b8063adc879e91461022e578063b05e779214610243578063b274492314610256578063b865d7bf14610269578063bff1f9e11461027c57610137565b80634b1933e3116100ff5780634b1933e3146101b357806376c31c61146101d35780639bc200b4146101e6578063a5cbbe7b146101f9578063a6d38d021461020c57610137565b80631272c5961461013c578063184afee5146101515780631af0585a146101645780632bd4d6921461017757806342526e4e1461018a575b600080fd5b61014f61014a3660046135ad565b61031a565b005b61014f61015f3660046138d7565b61062e565b61014f610172366004613a1e565b6107c0565b61014f610185366004613a94565b610b79565b61019d610198366004613c84565b610d9a565b6040516101aa9190614167565b60405180910390f35b6101c66101c13660046137d5565b610da1565b6040516101aa9190614194565b61014f6101e1366004613946565b610e75565b61014f6101f4366004613bfd565b6110cf565b61014f610207366004613691565b611370565b61021f61021a366004613c84565b61149b565b6040516101aa9392919061419f565b610236611547565b6040516101aa9190615906565b61014f610251366004613d28565b611550565b61014f61026436600461372a565b611673565b61014f610277366004613b5c565b6119ce565b610284611c90565b6040516101aa9190613e1b565b61014f61029f3660046135dd565b611c96565b6102b76102b23660046135ad565b611f83565b6040516101aa989796959493929190614250565b61014f6102d9366004613852565b612196565b61014f6102ec3660046138d7565b612389565b6101c66102ff366004613afd565b61272a565b61030c61284a565b6040516101aa9291906158ed565b60008181526020819052604090205461034e5760405162461bcd60e51b8152600401610345906146c7565b60405180910390fd5b600081815260208190526040902060060154600160a01b900460ff16151560011461038b5760405162461bcd60e51b8152600401610345906149c7565b600081815260208190526040902060090154426202a300909101106103c25760405162461bcd60e51b8152600401610345906149c7565b600081815260208190526040902060068101805460ff60a01b19169055600a015460ff161561044c576000818152602081815260408220600381018054600181810183559185529290932060078201805460029485029092019182556008909201805492949193610444938584019361010090821615026000190116046132b1565b5050506105b6565b6000805b60008381526020819052604090206003015481101561055157600083815260208190526040902060030180548290811061048657fe5b906000526020600020906002020160010180546001816001161561010002031660029004905060001415610549576000838152602081905260409020600781015460039091018054839081106104d857fe5b6000918252602080832060029092029091019290925584815290819052604090206003810180546008909201918390811061050f57fe5b9060005260206000209060020201600101908054600181600116156101000203166002900461053f9291906132b1565b5060019150610551565b600101610450565b50806105b45760008281526020818152604082206003810180546001818101835591855292909320600782018054600294850290920191825560089092018054929491936105b0938584019361010090821615026000190116046132b1565b5050505b505b6000818152602081905260408120600781018281559190829082906105de9060080182613344565b50506000600283015550600301805460ff191690556040517f09a2079356a237a448879240633063d555c93710eee983341f940fbe2ca962c790610623908390613e1b565b60405180910390a150565b60005b815181101561068757606082828151811061064857fe5b6020026020010151905061065d8a868361272a565b151560011461067e5760405162461bcd60e51b8152600401610345906156ac565b50600101610631565b5060045460009060ff1660028a8a8a8a620100018b6040516020016106b39897969594939291906140b2565b6040516020818303038152906040528051906020012090506106d7818787876128de565b15156001146106f85760405162461bcd60e51b815260040161034590614a47565b6002805460038054604080516020601f6000196101006001871615020190941696909604928301869004860281018601909152818152610794948694939192908301828280156107895780601f1061075e57610100808354040283529160200191610789565b820191906000526020600020905b81548152906001019060200180831161076c57829003601f168201915b5050505050866128de565b15156001146107b55760405162461bcd60e51b815260040161034590614df8565b505050505050505050565b6000888152602081905260409020546107eb5760405162461bcd60e51b81526004016103459061534c565b866108085760405162461bcd60e51b8152600401610345906152de565b60028511156108295760405162461bcd60e51b815260040161034590614ac9565b600084511161084a5760405162461bcd60e51b815260040161034590614f17565b600283111561086b5760405162461bcd60e51b81526004016103459061492f565b600082511161088c5760405162461bcd60e51b815260040161034590614fe4565b60008151116108ad5760405162461bcd60e51b815260040161034590614d15565b60008881526020819052604090206001908101540186146108e05760405162461bcd60e51b815260040161034590615383565b6000806000805b60008c815260208190526040902060030154811015610a3557866000808e8152602001908152602001600020600301828154811061092157fe5b90600052602060002090600202016000015414801561098b575085805190602001206000808e8152602001908152602001600020600301828154811061096357fe5b90600052602060002090600202016001016040516109819190613e62565b6040518091039020145b1561099557600193505b886000808e815260200190815260200160002060030182815481106109b657fe5b906000526020600020906002020160000154148015610a20575087805190602001206000808e815260200190815260200160002060030182815481106109f857fe5b9060005260206000209060020201600101604051610a169190613e62565b6040518091039020145b15610a2d57600192508091505b6001016108e7565b506001831515148015610a4a57506001821515145b610a665760405162461bcd60e51b8152600401610345906158a7565b60045460009060ff1660038d8d8d8d620100018e604051602001610a919897969594939291906140b2565b604051602081830303815290604052805190602001209050610ab5818888886128de565b1515600114610ad65760405162461bcd60e51b815260040161034590614990565b60008c8152602081905260409020600301805483908110610af357fe5b60009182526020822060029091020181815590610b136001830182613344565b505060008c81526020819052604090819020600190810180549091019055517fa1cd7cd5effcfb31cfd4a8ac01908a3beb45654a3cf90ea1a90920452d2dd0da90610b63908e908c908c90614310565b60405180910390a1505050505050505050505050565b606081516001600160401b0381118015610b9257600080fd5b50604051908082528060200260200182016040528015610bbc578160200160208202803683370190505b50905060008060005b8451811015610d60576000806000610bef888581518110610be257fe5b602002602001015161149b565b919450925090506001831515148015610c565750600289604051610c139190613e24565b602060405180830381855afa158015610c30573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190610c5391906135c5565b82145b15610c6657600190940193610c6e565b505050610d58565b6000805b60008c815260208190526040902060050154811015610ccb5760008c8152602081905260409020600501805482908110610ca857fe5b9060005260206000200154831415610cc35760019150610ccb565b600101610c72565b50600181151514610cee5760405162461bcd60e51b8152600401610345906155ba565b60005b87811015610d3457888181518110610d0557fe5b6020026020010151831415610d2c5760405162461bcd60e51b8152600401610345906147a1565b600101610cf1565b5081888881518110610d4257fe5b6020908102919091010152505060019094019350505b600101610bc5565b50600086815260208190526040902060040154811015610d925760405162461bcd60e51b8152600401610345906154fb565b505050505050565b6014015190565b600080805b600088815260208190526040902060030154811015610e6a57856000808a81526020019081526020016000206003018281548110610de057fe5b906000526020600020906002020160000154148015610e4a575084805190602001206000808a81526020019081526020016000206003018281548110610e2257fe5b9060005260206000209060020201600101604051610e409190613e62565b6040518091039020145b15610e6257610e5b878787876128de565b9150610e6a565b600101610da6565b509695505050505050565b600089815260208190526040902054610ea05760405162461bcd60e51b8152600401610345906154c4565b87610ebd5760405162461bcd60e51b815260040161034590614cde565b6002861115610ede5760405162461bcd60e51b81526004016103459061459d565b6000855111610eff5760405162461bcd60e51b81526004016103459061545f565b6000845111610f205760405162461bcd60e51b8152600401610345906153ba565b6002831115610f415760405162461bcd60e51b815260040161034590614709565b6000825111610f625760405162461bcd60e51b815260040161034590614536565b6000815111610f835760405162461bcd60e51b8152600401610345906152b1565b6000898152602081905260409020600190810154018714610fb65760405162461bcd60e51b815260040161034590614b37565b610fc38987878686612ae8565b505060045460009060ff1660018b8b8b8b620100018c604051602001610ff09897969594939291906140b2565b604051602081830303815290604052805190602001209050611014818888886128de565b15156001146110355760405162461bcd60e51b8152600401610345906150f9565b611041818585856128de565b15156001146110625760405162461bcd60e51b815260040161034590615229565b61106d8a8888612d7b565b60008a81526020819052604090819020600190810180549091019055517f5e28cae393d92a6a95a211db386f2974f0ea546e3eb2eb397760cc116d1bde06906110bb908c908a908a90614310565b60405180910390a150505050505050505050565b600087815260208190526040902054156110fb5760405162461bcd60e51b815260040161034590615044565b600086511161111c5760405162461bcd60e51b81526004016103459061485e565b60028560ff1611156111405760405162461bcd60e51b815260040161034590614ee0565b60008451116111615760405162461bcd60e51b815260040161034590614d42565b60008351116111825760405162461bcd60e51b815260040161034590614f47565b60008251116111a35760405162461bcd60e51b815260040161034590615839565b60008151116111c45760405162461bcd60e51b815260040161034590614c11565b60045460009060ff16818960028a6040516111df9190613e24565b602060405180830381855afa1580156111fc573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061121f91906135c5565b85604051602001611234959493929190613ed2565b60405160208183030381529060405280519060200120905061125b818760ff1687876128de565b151560011461127c5760405162461bcd60e51b815260040161034590615607565b6002805460038054604080516020601f60001961010060018716150201909416969096049283018690048602810186019091528181526112e2948694939192908301828280156107895780601f1061075e57610100808354040283529160200191610789565b15156001146113035760405162461bcd60e51b815260040161034590614c48565b600061130e89612eda565b905061131f898860ff168884612fd8565b60018054810190556040517fd3587726a4a867f63b2cf55a7e6471a8c4f04ec15eb83cff3b0dfd940be6cc139061135d908b908b908790869061420b565b60405180910390a1505050505050505050565b8561138d5760405162461bcd60e51b815260040161034590614e7c565b60028311156113ae5760405162461bcd60e51b815260040161034590614fad565b60008251116113cf5760405162461bcd60e51b8152600401610345906153f1565b60008151116113f05760405162461bcd60e51b81526004016103459061563e565b6004805460009160ff909116908989898961140c57600061140f565b60015b60405160200161142496959493929190614064565b604051602081830303815290604052805190602001209050611448818585856128de565b6114645760405162461bcd60e51b815260040161034590615746565b5050506000948552506020849052604090932060028101805460ff1916941515949094179093555050600190810180549091019055565b6000806000606061ff03856040516114b3919061434d565b600060405180830381855afa1580156114d0573d6000803e3d6000fd5b5050506040513d6000823e601f3d908101601f191682016040526114f79190810190613cb6565b90508051604014611512575060009250829150819050611540565b61152761152282600060206130ee565b61318d565b9250611538611522826020806130ee565b915060019350505b9193909250565b60045460ff1681565b60045460405160009161156f9160ff909116908790879060200161412a565b60408051808303601f1901815282825280516020918201206002805460038054600181161561010002600019011692909204601f810185900485028701850190955284865291955061161e94869492939092908301828280156116135780601f106115e857610100808354040283529160200191611613565b820191906000526020600020905b8154815290600101906020018083116115f657829003601f168201915b5050505050856128de565b151560011461163f5760405162461bcd60e51b81526004016103459061508b565b61164b818686866128de565b151560011461166c5760405162461bcd60e51b815260040161034590614d71565b5050505050565b60008881526020819052604090205461169e5760405162461bcd60e51b815260040161034590614a92565b866116bb5760405162461bcd60e51b8152600401610345906150c2565b60028411156116dc5760405162461bcd60e51b815260040161034590614827565b60008351116116fd5760405162461bcd60e51b815260040161034590615870565b600082511161171e5760405162461bcd60e51b8152600401610345906148f8565b600081511161173f5760405162461bcd60e51b81526004016103459061476a565b60008881526020819052604090206001908101540186146117725760405162461bcd60e51b815260040161034590614ba3565b600088815260208190526040902060060154600160a01b900460ff16156117ab5760405162461bcd60e51b8152600401610345906157f7565b6000805b60008a81526020819052604090206003015481101561186557856000808c815260200190815260200160002060030182815481106117e957fe5b906000526020600020906002020160000154148015611853575084805190602001206000808c8152602001908152602001600020600301828154811061182b57fe5b90600052602060002090600202016001016040516118499190613e62565b6040518091039020145b1561185d57600191505b6001016117af565b5080156118845760405162461bcd60e51b81526004016103459061440f565b600089815260208190526040902060040154825110156118b65760405162461bcd60e51b815260040161034590614498565b6118c1898484610b79565b60045460009060ff1660068b8b8b8b8b620100018c6040516020016118ee99989796959493929190613fe0565b604051602081830303815290604052805190602001209050611912818787876128de565b61192e5760405162461bcd60e51b8152600401610345906157b4565b60008a81526020818152604090912060068101805460ff60a01b1916600160a01b17905560078101889055865161196d9260089092019188019061338b565b5060008a81526020819052604090819020426009820155600a8101805460ff19168a1515179055600190810180549091019055517fd6a7dfe68542b7a5e44c520ac0e66ebd706a3170fd8c8dd2f5aa36c9365d4d8a906110bb908c90613e1b565b600087815260208190526040902054156119fa5760405162461bcd60e51b8152600401610345906147e5565b6000865111611a1b5760405162461bcd60e51b815260040161034590615675565b6000855111611a3c5760405162461bcd60e51b8152600401610345906151bb565b6002841115611a5d5760405162461bcd60e51b815260040161034590614893565b6000835111611a7e5760405162461bcd60e51b815260040161034590614966565b6000825111611a9f5760405162461bcd60e51b815260040161034590614740565b6000815111611ac05760405162461bcd60e51b815260040161034590614eb3565b6000806000611ace8861149b565b91945092509050600183151514611af75760405162461bcd60e51b815260040161034590615542565b81600286604051611b089190613e24565b602060405180830381855afa158015611b25573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190611b4891906135c5565b14611b655760405162461bcd60e51b81526004016103459061460b565b808a14611b845760405162461bcd60e51b815260040161034590614360565b60045460009060ff16818c60028d604051611b9f9190613e24565b602060405180830381855afa158015611bbc573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190611bdf91906135c5565b88604051602001611bf4959493929190613ed2565b604051602081830303815290604052805190602001209050611c18818989896128de565b1515600114611c395760405162461bcd60e51b81526004016103459061513e565b6000611c448c612eda565b9050611c528c8a8a84612fd8565b60018054810190556040517f53fb3b1ca8f2a8824bf8612b3224858853b3916969b6637f23647c106304e6fb90610b63908e908e908a90869061420b565b60015481565b600088815260208190526040902054611cc15760405162461bcd60e51b815260040161034590615701565b86611cde5760405162461bcd60e51b81526004016103459061548f565b6000855111611cff5760405162461bcd60e51b815260040161034590614a10565b610100841115611d215760405162461bcd60e51b8152600401610345906143ce565b6002831115611d425760405162461bcd60e51b81526004016103459061526f565b6000825111611d635760405162461bcd60e51b815260040161034590615184565b6000815111611d845760405162461bcd60e51b815260040161034590614bda565b6000888152602081905260409020600190810154018614611db75760405162461bcd60e51b815260040161034590614397565b60005b600089815260208190526040902060050154811015611e4e576000805b8751811015611e3957878181518110611dec57fe5b60200260200101516000808d81526020019081526020016000206004016001018481548110611e1757fe5b90600052602060002001541415611e315760019150611e39565b600101611dd7565b5080611e455750611e4e565b50600101611dba565b5060045460009060ff1660058a8a8a8a8a604051602001611e759796959493929190613f61565b604051602081830303815290604052805190602001209050611e99818585856128de565b611eb55760405162461bcd60e51b815260040161034590614642565b600089815260208190526040812060048101879055611ed991600590910190613407565b60005b8651811015611f34576000808b8152602001908152602001600020600401600101878281518110611f0957fe5b6020908102919091018101518254600181810185556000948552929093209092019190915501611edc565b5060008981526020819052604090819020600190810180549091019055517f75882316f77e21f4ae2934e0615432d3125cdeaac7b5a48390adf5fa2764bae79061135d908b90899089906141b7565b600060208181529181526040908190208054600182015460028301548451808601865260048501805482526005860180548851818b0281018b019099528089529598949760ff90941696959294919385830193909283018282801561200757602002820191906000526020600020905b815481526020019060010190808311611ff3575b5050509190925250505060068201546040805160a081018252600785018054606083019081526008870180548551602060026101006001851615026000190190931692909204601f810183900483028201830190975286815297986001600160a01b03881698600160a01b90980460ff169790968694938693608087019392908301828280156120d85780601f106120ad576101008083540402835291602001916120d8565b820191906000526020600020905b8154815290600101906020018083116120bb57829003601f168201915b50505091909252505050815260028281015460208084019190915260039093015460ff161515604092830152600b8501805483516101006001831615026000190190911692909204601f8101859004850283018501909352828252939493909290919083018282801561218c5780601f106121615761010080835404028352916020019161218c565b820191906000526020600020905b81548152906001019060200180831161216f57829003601f168201915b5050505050905088565b6000868152602081905260409020546121c15760405162461bcd60e51b815260040161034590614b6e565b846121de5760405162461bcd60e51b8152600401610345906145d4565b60028311156121ff5760405162461bcd60e51b815260040161034590614b00565b60008251116122205760405162461bcd60e51b815260040161034590615428565b60008151116122415760405162461bcd60e51b815260040161034590615014565b600086815260208190526040902060060154600160a01b900460ff16151560011461227e5760405162461bcd60e51b815260040161034590614683565b60045460009060ff1660098888886040516020016122a0959493929190613f1d565b6040516020818303038152906040528051906020012090506122c4818585856128de565b6122e05760405162461bcd60e51b815260040161034590614f76565b600087815260208190526040812060068101805460ff60a01b19169055600781018281559190829082906123179060080182613344565b50506000600283018190556003909201805460ff19169055508781526020819052604090819020600190810180549091019055517fe8673681aeab7238cdb5ff50ee8adc5e5eb429a81b31dd9dda55e469b46942ca90612378908990613e1b565b60405180910390a150505050505050565b6000888152602081905260409020546123b45760405162461bcd60e51b815260040161034590614456565b866123d15760405162461bcd60e51b8152600401610345906151f2565b60028511156123f25760405162461bcd60e51b81526004016103459061577d565b60008451116124135760405162461bcd60e51b8152600401610345906148c1565b60008351116124345760405162461bcd60e51b815260040161034590614566565b60008251116124555760405162461bcd60e51b815260040161034590615583565b60008151116124765760405162461bcd60e51b8152600401610345906144f5565b60008881526020819052604090206001908101540186146124a95760405162461bcd60e51b815260040161034590614e45565b60005b60008981526020819052604090206003015481101561256357856000808b815260200190815260200160002060030182815481106124e657fe5b906000526020600020906002020160000154148015612550575084805190602001206000808b8152602001908152602001600020600301828154811061252857fe5b90600052602060002090600202016001016040516125469190613e62565b6040518091039020145b1561255b5750612720565b6001016124ac565b50612574888888888888888861062e565b6000805b60008a8152602081905260409020600301548110156126695760008a81526020819052604090206003018054829081106125ae57fe5b90600052602060002090600202016001018054600181600116156101000203166002900490506000141561266157866000808c815260200190815260200160002060030182815481106125fd57fe5b906000526020600020906002020160000181905550856000808c8152602001908152602001600020600301828154811061263357fe5b9060005260206000209060020201600101908051906020019061265792919061338b565b5060019150612669565b600101612578565b50806126d257612677613425565b50604080518082018252878152602080820188815260008d8152808352938420600301805460018181018355918652948390208451600290960201948555905180519394859490936126cd93850192019061338b565b505050505b60008981526020819052604090819020600190810180549091019055517f2e16dda54471b1eb041d7a2c71f2cf7e11ecfd66138b239033fc216d871aa56d9061135d908b9089908990614310565b5050505050505050565b6000806000806127398561149b565b919450925090506001831515146127625760405162461bcd60e51b815260040161034590614da8565b6000805b6000898152602081905260409020600501548110156127bf57600089815260208190526040902060050180548290811061279c57fe5b90600052602060002001548314156127b757600191506127bf565b600101612766565b506001811515146127d7576000945050505050612843565b6002876040516127e79190613e24565b602060405180830381855afa158015612804573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061282791906135c5565b831461283a576000945050505050612843565b60019450505050505b9392505050565b600280546003805460408051602060018416156101000260001901909316869004601f810184900484028201840190925281815293949392918301828280156128d45780601f106128a9576101008083540402835291602001916128d4565b820191906000526020600020905b8154815290600101906020018083116128b757829003601f168201915b5050505050905082565b600080846129b45760006002876040516020016128fb9190613e1b565b60408051601f198184030181529082905261291591613e24565b602060405180830381855afa158015612932573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061295591906135c5565b905061ff0281858760405161296c939291906141e0565b602060405180830381855afa158015612989573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906129ac9190613591565b915050612add565b6001851415612a7c5782516041146129de5760405162461bcd60e51b815260040161034590615315565b60006040518060400160405280601c81526020017f19457468657265756d205369676e6564204d6573736167653a0a33320000000081525087604051602001612a28929190613e40565b6040516020818303038152906040528051906020012090506000612a4c8286613194565b9050612a5786610d9a565b6001600160a01b0316816001600160a01b03161415612a7557600192505b5050612add565b6002851415612add5761ff01868486604051612a9a939291906141e0565b602060405180830381855afa158015612ab7573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190612ada9190613591565b90505b90505b949350505050565b600060606000806000606060005b60008c815260208190526040902060030154811015612d3e57886000808e81526020019081526020016000206003018281548110612b3057fe5b906000526020600020906002020160000154148015612b9a575087805190602001206000808e81526020019081526020016000206003018281548110612b7257fe5b9060005260206000209060020201600101604051612b909190613e62565b6040518091039020145b15612ca15760008c815260208190526040902060030180546001965082908110612bc057fe5b90600052602060002090600202016000015492506000808d81526020019081526020016000206003018181548110612bf457fe5b90600052602060002090600202016001018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015612c995780601f10612c6e57610100808354040283529160200191612c99565b820191906000526020600020905b815481529060010190602001808311612c7c57829003601f168201915b505050505091505b8a6000808e81526020019081526020016000206003018281548110612cc257fe5b906000526020600020906002020160000154148015612d2c575089805190602001206000808e81526020019081526020016000206003018281548110612d0457fe5b9060005260206000209060020201600101604051612d229190613e62565b6040518091039020145b15612d3657600193505b600101612af6565b506001841515148015612d4f575082155b612d6b5760405162461bcd60e51b815260040161034590614c8c565b909a909950975050505050505050565b6000805b600085815260208190526040902060030154811015612e70576000858152602081905260409020600301805482908110612db557fe5b906000526020600020906002020160010180546001816001161561010002031660029004905060001415612e6857836000808781526020019081526020016000206003018281548110612e0457fe5b906000526020600020906002020160000181905550826000808781526020019081526020016000206003018281548110612e3a57fe5b90600052602060002090600202016001019080519060200190612e5e92919061338b565b5060019150612e70565b600101612d7f565b5080612ed457612e7e613425565b50604080518082018252848152602080820185815260008881528083529384206003018054600181810183559186529483902084516002909602019485559051805193948594909361272093850192019061338b565b50505050565b6000606060405180602001612eee9061343f565b6020820181038252601f19601f820116604052509050600081518481602085016000f5915050803b612f1f57600080fd5b604051606090612f35903090879060240161417b565b60408051601f198184030181529181526020820180516001600160e01b0316630b302c9560e21b179052519091506000906001600160a01b03841690612f7c908490613e24565b6000604051808303816000865af19150503d8060008114612fb9576040519150601f19603f3d011682016040523d82523d6000602084013e612fbe565b606091505b5050905080612fcc57600080fd5b5090925050505b919050565b60008481526020818152604082206001600482018190556005820180548083018255908552928420909201879055868352868155810155831415613037576000848152602081905260409020600201805460ff19166001179055613051565b6000848152602081905260409020600201805460ff191690555b613059613425565b5060408051808201825284815260208082018581526000888152808352938420600301805460018181018355918652948390208451600290960201948555905180519394859490936130af93850192019061338b565b5050506000948552506020849052604090932060060180546001600160a01b0319166001600160a01b039094169390931760ff60a01b19169092555050565b606080826001600160401b038111801561310757600080fd5b506040519080825280601f01601f191660200182016040528015613132576020820181803683370190505b50905060005b8381101561318457858582018151811061314e57fe5b602001015160f81c60f81b82828151811061316557fe5b60200101906001600160f81b031916908160001a905350600101613138565b50949350505050565b6020015190565b6000806131a761152284600060206130ee565b905060006131ba611522856020806130ee565b905060006131cb85604060016130ee565b6000815181106131d757fe5b01602001516001600160f81b03191690506131f4868484846131fe565b9695505050505050565b600060f882901c8015806132165750600160f884901c145b15613225578260f81c601b0190505b7f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0841115613257576000915050612ae0565b6001868287876040516000815260200160405260405161327a949392919061432f565b6020604051602081039080840390855afa15801561329c573d6000803e3d6000fd5b5050604051601f190151979650505050505050565b828054600181600116156101000203166002900490600052602060002090601f0160209004810192826132e75760008555613334565b82601f106132f85780548555613334565b8280016001018555821561333457600052602060002091601f016020900482015b82811115613334578254825591600101919060010190613319565b5061334092915061344c565b5090565b50805460018160011615610100020316600290046000825580601f1061336a5750613388565b601f016020900490600052602060002090810190613388919061344c565b50565b828054600181600116156101000203166002900490600052602060002090601f0160209004810192826133c15760008555613334565b82601f106133da57805160ff1916838001178555613334565b82800160010185558215613334579182015b828111156133345782518255916020019190600101906133ec565b5080546000825590600052602060002090810190613388919061344c565b604051806040016040528060008152602001606081525090565b610fba806159b083390190565b5b80821115613340576000815560010161344d565b600082601f830112613471578081fd5b813561348461347f82615937565b615914565b8181529150602080830190848101818402860182018710156134a557600080fd5b60005b848110156134c4578135845292820192908201906001016134a8565b505050505092915050565b600082601f8301126134df578081fd5b81356134ed61347f82615937565b818152915060208083019084810160005b848110156134c457613515888484358a0101613532565b845292820192908201906001016134fe565b8035612fd3816159a1565b600082601f830112613542578081fd5b813561355061347f82615954565b915080825283602082850101111561356757600080fd5b8060208401602084013760009082016020015292915050565b803560ff81168114612fd357600080fd5b6000602082840312156135a2578081fd5b8151612843816159a1565b6000602082840312156135be578081fd5b5035919050565b6000602082840312156135d6578081fd5b5051919050565b600080600080600080600080610100898b0312156135f9578384fd5b88359750602089013596506040890135955060608901356001600160401b0380821115613624578586fd5b6136308c838d01613461565b965060808b0135955060a08b0135945060c08b0135915080821115613653578384fd5b61365f8c838d01613532565b935060e08b0135915080821115613674578283fd5b506136818b828c01613532565b9150509295985092959890939650565b600080600080600080600060e0888a0312156136ab578283fd5b87359650602088013595506040880135945060608801356136cb816159a1565b93506080880135925060a08801356001600160401b03808211156136ed578384fd5b6136f98b838c01613532565b935060c08a013591508082111561370e578283fd5b5061371b8a828b01613532565b91505092959891949750929550565b600080600080600080600080610100898b031215613746578384fd5b88359750602089013596506040890135955061376460608a01613527565b94506080890135935060a08901356001600160401b0380821115613786578485fd5b6137928c838d01613532565b945060c08b01359150808211156137a7578384fd5b6137b38c838d01613532565b935060e08b01359150808211156137c8578283fd5b506136818b828c016134cf565b600080600080600060a086880312156137ec578283fd5b85359450602086013593506040860135925060608601356001600160401b0380821115613817578283fd5b61382389838a01613532565b93506080880135915080821115613838578283fd5b5061384588828901613532565b9150509295509295909350565b60008060008060008060c0878903121561386a578384fd5b8635955060208701359450604087013593506060870135925060808701356001600160401b038082111561389c578384fd5b6138a88a838b01613532565b935060a08901359150808211156138bd578283fd5b506138ca89828a01613532565b9150509295509295509295565b600080600080600080600080610100898b0312156138f3578182fd5b8835975060208901359650604089013595506060890135945060808901356001600160401b0380821115613925578384fd5b6139318c838d01613532565b955060a08b0135915080821115613786578384fd5b60008060008060008060008060006101208a8c031215613964578283fd5b8935985060208a0135975060408a0135965060608a0135955060808a01356001600160401b0380821115613996578485fd5b6139a28d838e01613532565b965060a08c01359150808211156139b7578485fd5b6139c38d838e01613532565b955060c08c0135945060e08c01359150808211156139df578283fd5b6139eb8d838e01613532565b93506101008c0135915080821115613a01578283fd5b50613a0e8c828d01613532565b9150509295985092959850929598565b600080600080600080600080610100898b031215613a3a578182fd5b8835975060208901359650604089013595506060890135945060808901356001600160401b0380821115613a6c578384fd5b613a788c838d01613532565b955060a08b0135945060c08b0135915080821115613653578384fd5b600080600060608486031215613aa8578081fd5b8335925060208401356001600160401b0380821115613ac5578283fd5b613ad187838801613532565b93506040860135915080821115613ae6578283fd5b50613af3868287016134cf565b9150509250925092565b600080600060608486031215613b11578081fd5b8335925060208401356001600160401b0380821115613b2e578283fd5b613b3a87838801613532565b93506040860135915080821115613b4f578283fd5b50613af386828701613532565b600080600080600080600060e0888a031215613b76578081fd5b8735965060208801356001600160401b0380821115613b93578283fd5b613b9f8b838c01613532565b975060408a0135915080821115613bb4578283fd5b613bc08b838c01613532565b965060608a0135955060808a0135915080821115613bdc578283fd5b613be88b838c01613532565b945060a08a01359150808211156136ed578283fd5b600080600080600080600060e0888a031215613c17578081fd5b8735965060208801356001600160401b0380821115613c34578283fd5b613c408b838c01613532565b9750613c4e60408b01613580565b965060608a0135915080821115613c63578283fd5b613c6f8b838c01613532565b955060808a0135915080821115613bdc578283fd5b600060208284031215613c95578081fd5b81356001600160401b03811115613caa578182fd5b612ae084828501613532565b600060208284031215613cc7578081fd5b81516001600160401b03811115613cdc578182fd5b8201601f81018413613cec578182fd5b8051613cfa61347f82615954565b818152856020838501011115613d0e578384fd5b613d1f826020830160208601615975565b95945050505050565b60008060008060808587031215613d3d578182fd5b8435935060208501356001600160401b0380821115613d5a578384fd5b613d6688838901613532565b94506040870135915080821115613d7b578384fd5b613d8788838901613532565b93506060870135915080821115613d9c578283fd5b50613da987828801613532565b91505092959194509250565b6000815180845260208085019450808401835b83811015613de457815187529582019590820190600101613dc8565b509495945050505050565b60008151808452613e07816020860160208601615975565b601f01601f19169290920160200192915050565b90815260200190565b60008251613e36818460208701615975565b9190910192915050565b60008351613e52818460208801615975565b9190910191825250602001919050565b6000808354600180821660008114613e815760018114613e9857613ec7565b60ff198316865260028304607f1686019350613ec7565b600283048786526020808720875b83811015613ebf5781548a820152908501908201613ea6565b505050860193505b509195945050505050565b600060ff60f81b808860f81b168352808760f81b166001840152508460028301528360228301528251613f0c816042850160208701615975565b919091016042019695505050505050565b60f895861b6001600160f81b031990811682529490951b90931660018501526002840191909152602283015260e01b6001600160e01b031916604282015260460190565b600060ff60f81b808a60f81b1683526001818a60f81b168185015288600285015287602285015263ffffffff60e01b8760e01b1660428501526046840186516020808901865b83811015613fc2578151855293820193908201908501613fa7565b5050505060f89590951b909116845290920198975050505050505050565b600060ff60f81b808c60f81b168352808b60f81b16600184015289600284015288602284015263ffffffff60e01b808960e01b16604285015287151560f81b6046850152818760f81b166047850152808660e01b1660488501525050825161404f81604c850160208701615975565b91909101604c019a9950505050505050505050565b60f896871b6001600160f81b0319908116825295871b861660018201526002810194909452602284019290925260e01b6001600160e01b031916604283015290921b16604682015260470190565b600060ff60f81b808b60f81b168352808a60f81b16600184015288600284015287602284015263ffffffff60e01b808860e01b166042850152818760f81b166046850152808660e01b1660478501525050825161411681604b850160208701615975565b91909101604b019998505050505050505050565b600060ff60f81b808660f81b168352808560f81b166001840152508251614158816002850160208701615975565b91909101600201949350505050565b6001600160a01b0391909116815260200190565b6001600160a01b03929092168252602082015260400190565b901515815260200190565b92151583526020830191909152604082015260600190565b6000848252606060208301526141d06060830185613db5565b9050826040830152949350505050565b6000848252606060208301526141f96060830185613def565b82810360408401526131f48185613def565b6000858252608060208301526142246080830186613def565b82810360408401526142368186613def565b91505060018060a01b038316606083015295945050505050565b60006101008a83528960208401528815156040840152806060840152875181840152506020870151604061012084015261428e610140840182613db5565b905060018060a01b038716608084015285151560a084015282810360c08401528451606082528051606083015260208101519050604060808301526142d660a0830182613def565b90506020860151602083015260408601511515604083015283810360e08501526143008186613def565b9c9b505050505050505050505050565b600084825283602083015260606040830152613d1f6060830184613def565b93845260ff9290921660208401526040830152606082015260800190565b6000602082526128436020830184613def565b6020808252601b908201527f726567697374657220656d61696c2066726f6d20696e76616c69640000000000604082015260600190565b6020808252601f908201527f7570646174655265636f76657279456d61696c206e6f6e6365206572726f7200604082015260600190565b60208082526021908201527f7570646174655265636f76657279456d61696c207468726573686f6c642065726040820152603960f91b606082015260800190565b60208082526027908201527f73746172745265636f76657279206e65774b6579657869737420616c726561646040820152661e48195e1a5cdd60ca1b606082015260800190565b60208082526022908201527f717569636b4164644c6f63616c4b65792075736572206973206e6f74206578696040820152611cdd60f21b606082015260800190565b60208082526038908201527f73746172745265636f7665727920636865636b20656d61696c4865616465727360408201527f2e6c656e677468203c20757365722e7468726573686f6c640000000000000000606082015260800190565b60208082526021908201527f717569636b4164644c6f63616c4b657920656d61696c486561646572732065726040820152603960f91b606082015260800190565b60208082526016908201527530b2322637b1b0b625b2bc9039b4b3a5b2bc9032b93960511b604082015260600190565b6020808252601e908201527f717569636b4164644c6f63616c4b6579206e65774b6579536967206572720000604082015260600190565b6020808252601a908201527f6164644c6f63616c4b6579206e65776b65795479706520657272000000000000604082015260600190565b6020808252601b908201527f63616e63656c5265636f7665727920757365726e616d65206572720000000000604082015260600190565b6020808252601e908201527f726567697374657220656d61696c207375626a65637420696e76616c69640000604082015260600190565b60208082526021908201527f7570646174655265636f76657279456d61696c20766572696679206661696c656040820152601960fa1b606082015260800190565b60208082526024908201527f63616e63656c5265636f766572792069735265636f766572696e672069732066604082015263616c736560e01b606082015260800190565b60208082526022908201527f636f6d706c6574655265636f766572792075736572206973206e6f74206578696040820152611cdd60f21b606082015260800190565b6020808252601a908201527f6164644c6f63616c4b6579207369674b65795479706520657272000000000000604082015260600190565b60208082526010908201526f3932b3b4b9ba32b91039b4b39032b93960811b604082015260600190565b6020808252601e908201527f73746172745265636f7665727920656d61696c48656164657273206572720000604082015260600190565b60208082526024908201527f5f73746172745265636f76657279436865636b2068617320726570656174206960408201526374656d7360e01b606082015260800190565b60208082526022908201527f726567697374657220656d61696c20686173206265656e207265676973746572604082015261195960f21b606082015260800190565b6020808252601c908201527f73746172745265636f76657279206e65774b6579547970652065727200000000604082015260600190565b6020808252818101527f717569636b5265676973746572206f726967696e557365726e616d6520657272604082015260600190565b6020808252601490820152733932b3b4b9ba32b91035b2bcaa3cb8329032b93960611b604082015260600190565b6020808252601b908201527f717569636b4164644c6f63616c4b6579206e65774b6579206572720000000000604082015260600190565b6020808252601b908201527f73746172745265636f76657279206e65774b6579536967206572720000000000604082015260600190565b6020808252601a908201527f64656c4c6f63616c4b6579207369674b65795479706520657272000000000000604082015260600190565b60208082526010908201526f3932b3b4b9ba32b91035b2bc9032b93960811b604082015260600190565b60208082526019908201527f64656c4c6f63616c4b657920766572696679206661696c656400000000000000604082015260600190565b60208082526029908201527f636f6d706c6574655265636f766572792069735265636f766572696e67206973604082015268206e6f74207472756560b81b606082015260800190565b6020808252601e908201527f7570646174655265636f76657279456d61696c20656d61696c73206572720000604082015260600190565b6020808252602b908201527f5f717569636b4164644c6f63616c4b6579436865636b20766572696679206e6560408201526a1ddad95e4819985a5b195960aa1b606082015260800190565b6020808252601f908201527f73746172745265636f766572792075736572206973206e6f7420657869737400604082015260600190565b6020808252601a908201527f64656c4c6f63616c4b65792064656c4b65795479706520657272000000000000604082015260600190565b6020808252601d908201527f63616e63656c5265636f76657279207369674b65795479706520657272000000604082015260600190565b60208082526019908201527f6164644c6f63616c4b6579206e6f6e636520696e76616c696400000000000000604082015260600190565b6020808252818101527f63616e63656c5265636f766572792075736572206973206e6f74206578697374604082015260600190565b60208082526019908201527f73746172745265636f76657279206e6f6e6365206572726f7200000000000000604082015260600190565b6020808252601b908201527f7570646174655265636f76657279456d61696c20736967206572720000000000604082015260600190565b60208082526018908201527f717569636b526567697374657220736f75726365206572720000000000000000604082015260600190565b60208082526024908201527f717569636b5265676973746572207665726966792061646d696e6b65792066616040820152631a5b195960e21b606082015260800190565b60208082526032908201527f5f6164644c6f63616c4b6579436865636b207369676b6579206e6f74206578696040820152711cdd081bdc881b995ddad95e48195e1a5cdd60721b606082015260800190565b60208082526018908201527f6164644c6f63616c4b657920757365726e616d65206572720000000000000000604082015260600190565b6020808252601390820152723232b62637b1b0b625b2bc9039b4b39032b93960691b604082015260600190565b60208082526015908201527438bab4b1b5a932b3b4b9ba32b91035b2bc9032b93960591b604082015260600190565b6020808252601d908201527f73657441646d696e20766572696679206e65776b6579206661696c6564000000604082015260600190565b60208082526030908201527f5f717569636b4164644c6f63616c4b6579436865636b3220646b696d2076657260408201526f1a599a58d85d1a5bdb8819985a5b195960821b606082015260800190565b6020808252602d908201527f5f717569636b4164644c6f63616c4b6579436865636b2076657269667920616460408201526c1b5a5b9ad95e4819985a5b1959609a1b606082015260800190565b6020808252601c908201527f717569636b4164644c6f63616c4b6579206e6f6e6365206572726f7200000000604082015260600190565b6020808252601d908201527f757064617465517569636b4c6f67696e20757365726e616d6520657272000000604082015260600190565b6020808252601390820152723932b3b4b9ba32b91039b7bab931b29032b93960691b604082015260600190565b60208082526019908201527f717569636b5265676973746572206b6579547970652065727200000000000000604082015260600190565b6020808252601690820152753232b62637b1b0b625b2bc903232b625b2bc9032b93960511b604082015260600190565b60208082526015908201527438bab4b1b5a932b3b4b9ba32b91039b4b39032b93960591b604082015260600190565b6020808252601c908201527f63616e63656c5265636f7665727920766572696679206661696c656400000000604082015260600190565b6020808252601f908201527f757064617465517569636b4c6f67696e207369674b6579547970652065727200604082015260600190565b6020808252601690820152753232b62637b1b0b625b2bc9039b4b3a5b2bc9032b93960511b604082015260600190565b60208082526016908201527531b0b731b2b62932b1b7bb32b93c9039b4b39032b93960511b604082015260600190565b60208082526027908201527f717569636b526567697374657220656d61696c20686173206265656e207265676040820152661a5cdd195c995960ca1b606082015260800190565b6020808252601d908201527f73657441646d696e20766572696679206f6c646b6579206661696c6564000000604082015260600190565b6020808252601a908201527f73746172745265636f7665727920757365726e616d6520657272000000000000604082015260600190565b60208082526025908201527f6164644c6f63616c4b6579207665726966796c6f63616c206e65776b65792066604082015264185a5b195960da1b606082015260800190565b60208082526026908201527f7265676973746572207369676e617475726520766572696669636174696f6e2060408201526519985a5b195960d21b606082015260800190565b6020808252601e908201527f7570646174655265636f76657279456d61696c207369674b6579206572720000604082015260600190565b60208082526018908201527f726567697374657220656d61696c486561646572206572720000000000000000604082015260600190565b6020808252601d908201527f717569636b4164644c6f63616c4b657920757365726e616d6520657272000000604082015260600190565b60208082526026908201527f6164644c6f63616c4b6579207665726966796c6f63616c206f6c64206b65792060408201526519985a5b195960d21b606082015260800190565b60208082526022908201527f7570646174655265636f76657279456d61696c207369674b6579547970652065604082015261393960f11b606082015260800190565b60208082526013908201527230b2322637b1b0b625b2bc9039b4b39032b93960691b604082015260600190565b60208082526018908201527f64656c4c6f63616c4b657920757365726e616d65206572720000000000000000604082015260600190565b60208082526019908201527f7665726966796c6f63616c20736967206d757374203d20363500000000000000604082015260600190565b6020808252601d908201527f64656c4c6f63616c4b65792075736572206973206e6f74206578697374000000604082015260600190565b60208082526017908201527f64656c4c6f63616c4b6579206e6f6e6365206572726f72000000000000000000604082015260600190565b60208082526019908201527f6164644c6f63616c4b6579206e65774b65795369672065727200000000000000604082015260600190565b6020808252601b908201527f757064617465517569636b4c6f67696e207369674b6579206572720000000000604082015260600190565b60208082526019908201527f63616e63656c5265636f76657279207369674b65792065727200000000000000604082015260600190565b60208082526016908201527530b2322637b1b0b625b2bc903732bba5b2bc9032b93960511b604082015260600190565b6020808252818101527f7570646174655265636f76657279456d61696c20757365726e616d6520657272604082015260600190565b6020808252601d908201527f6164644c6f63616c4b65792075736572206973206e6f74206578697374000000604082015260600190565b60208082526027908201527f5f73746172745265636f76657279436865636b2076616c6964617465446b696d6040820152660819985a5b195960ca1b606082015260800190565b60208082526021908201527f726567697374657220646b696d20766572696669636174696f6e206661696c656040820152601960fa1b606082015260800190565b6020808252601d908201527f717569636b4164644c6f63616c4b65792061646d696e53696720657272000000604082015260600190565b6020808252602d908201527f5f73746172745265636f76657279436865636b20656d61696c4865616465722060408201526c6e6f7420696e20656d61696c7360981b606082015260800190565b6020808252601b908201527f717569636b526567697374657220766572696679206661696c65640000000000604082015260600190565b60208082526018908201527f757064617465517569636b4c6f67696e20736967206572720000000000000000604082015260600190565b6020808252601b908201527f7265676973746572206f726967696e557365726e616d65206572720000000000604082015260600190565b60208082526035908201527f5f717569636b4164644c6f63616c4b6579436865636b205f717569636b416464604082015274131bd8d85b12d95e50da1958dacc8819985a5b1959605a1b606082015260800190565b60208082526025908201527f7570646174655265636f76657279456d61696c2075736572206973206e6f7420604082015264195e1a5cdd60da1b606082015260800190565b6020808252601e908201527f757064617465517569636b4c6f67696e20766572696679206661696c65640000604082015260600190565b6020808252601f908201527f717569636b4164644c6f63616c4b6579206e65774b6579547970652065727200604082015260600190565b60208082526023908201527f73746172745265636f7665727920766572696679206e6577206b6579206661696040820152621b195960ea1b606082015260800190565b60208082526022908201527f73746172745265636f766572792069735265636f766572696e67206973207472604082015261756560f01b606082015260800190565b6020808252601a908201527f717569636b52656769737465722061646d696e53696720657272000000000000604082015260600190565b60208082526018908201527f73746172745265636f76657279206e65774b6579206572720000000000000000604082015260600190565b60208082526026908201527f64656c4c6f63616c4b6579207369674b6579206f722064656c4b6579206e6f7460408201526508195e1a5cdd60d21b606082015260800190565b600083825260406020830152612ae06040830184613def565b60ff91909116815260200190565b6040518181016001600160401b038111828210171561592f57fe5b604052919050565b60006001600160401b0382111561594a57fe5b5060209081020190565b60006001600160401b0382111561596757fe5b50601f01601f191660200190565b60005b83811015615990578181015183820152602001615978565b83811115612ed45750506000910152565b801515811461338857600080fdfe608060405234801561001057600080fd5b50610f9a806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063adc879e91161005b578063adc879e9146100db578063b081de9a146100f0578063f62602a814610103578063fb4803f21461011657610088565b80632cc0b2541461008d578063517741fb146100a25780638b723fa6146100c057806398f25e43146100c8575b600080fd5b6100a061009b366004610869565b61012b565b005b6100aa6101a9565b6040516100b79190610c23565b60405180910390f35b6100aa6101af565b6100a06100d63660046108d3565b6101b5565b6100e3610361565b6040516100b79190610f00565b6100a06100fe3660046109d0565b61036a565b6100a061011136600461097c565b610539565b61011e610697565b6040516100b79190610beb565b6000546001600160a01b03161561015d5760405162461bcd60e51b815260040161015490610e18565b60405180910390fd5b6001600160a01b0382166101835760405162461bcd60e51b815260040161015490610e48565b600080546001600160a01b0319166001600160a01b039390931692909217909155600155565b60015481565b60025481565b85600254600101146101d95760405162461bcd60e51b815260040161015490610de1565b60035460009060ff1630600289886040516020016101fb959493929190610b81565b60408051601f19818403018152908290528051602090910120600054600154634b1933e360e01b84529193506001600160a01b031691634b1933e39161024b918590899089908990600401610c2c565b60206040518083038186803b15801561026357600080fd5b505afa158015610277573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061029b9190610894565b15156001146102bc5760405162461bcd60e51b815260040161015490610d7e565b60006060876001600160a01b0316876040516102d89190610a9f565b6000604051808303816000865af19150503d8060008114610315576040519150601f19603f3d011682016040523d82523d6000602084013e61031a565b606091505b50915091508161032957600080fd5b80511561034d57808060200190518101906103449190610894565b61034d57600080fd5b505060028054600101905550505050505050565b60035460ff1681565b6040516370a0823160e01b815284906001600160a01b038816906370a0823190610398903090600401610beb565b60206040518083038186803b1580156103b057600080fd5b505afa1580156103c4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103e891906108bb565b10156104065760405162461bcd60e51b815260040161015490610d49565b866002546001011461042a5760405162461bcd60e51b815260040161015490610de1565b60035460009060ff163060018a8a8a8a6040516020016104509796959493929190610b19565b60408051601f19818403018152908290528051602090910120600054600154634b1933e360e01b84529193506001600160a01b031691634b1933e3916104a0918590899089908990600401610c2c565b60206040518083038186803b1580156104b857600080fd5b505afa1580156104cc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104f09190610894565b15156001146105115760405162461bcd60e51b815260040161015490610ca6565b6105266001600160a01b0388163088886106a6565b5050600280546001019055505050505050565b834710156105595760405162461bcd60e51b815260040161015490610d12565b856002546001011461057d5760405162461bcd60e51b815260040161015490610c6f565b60035460009060ff1630828989896040516020016105a096959493929190610abb565b60408051601f19818403018152908290528051602090910120600054600154634b1933e360e01b84529193506001600160a01b031691634b1933e3916105f0918590899089908990600401610c2c565b60206040518083038186803b15801561060857600080fd5b505afa15801561061c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106409190610894565b15156001146106615760405162461bcd60e51b815260040161015490610daa565b6040516001600160a01b0387169086156108fc029087906000818181858888f19350505050158015610526573d6000803e3d6000fd5b6000546001600160a01b031681565b6106fe846323b872dd60e01b8585856040516024016106c793929190610bff565b60408051601f198184030181529190526020810180516001600160e01b03166001600160e01b031990931692909217909152610704565b50505050565b610716826001600160a01b03166107e9565b6107325760405162461bcd60e51b815260040161015490610ec9565b60006060836001600160a01b03168360405161074e9190610a9f565b6000604051808303816000865af19150503d806000811461078b576040519150601f19603f3d011682016040523d82523d6000602084013e610790565b606091505b5091509150816107b25760405162461bcd60e51b815260040161015490610cdd565b8051156106fe57808060200190518101906107cd9190610894565b6106fe5760405162461bcd60e51b815260040161015490610e7f565b3b151590565b600082601f8301126107ff578081fd5b813567ffffffffffffffff8082111561081457fe5b604051601f8301601f19168101602001828111828210171561083257fe5b60405282815292508284830160200186101561084d57600080fd5b8260208601602083013760006020848301015250505092915050565b6000806040838503121561087b578182fd5b823561088681610f3a565b946020939093013593505050565b6000602082840312156108a5578081fd5b815180151581146108b4578182fd5b9392505050565b6000602082840312156108cc578081fd5b5051919050565b60008060008060008060c087890312156108eb578182fd5b8635955060208701356108fd81610f3a565b9450604087013567ffffffffffffffff80821115610919578384fd5b6109258a838b016107ef565b9550606089013594506080890135915080821115610941578384fd5b61094d8a838b016107ef565b935060a0890135915080821115610962578283fd5b5061096f89828a016107ef565b9150509295509295509295565b60008060008060008060c08789031215610994578182fd5b8635955060208701356109a681610f3a565b94506040870135935060608701359250608087013567ffffffffffffffff80821115610941578384fd5b600080600080600080600060e0888a0312156109ea578081fd5b8735965060208801356109fc81610f3a565b95506040880135610a0c81610f3a565b9450606088013593506080880135925060a088013567ffffffffffffffff80821115610a36578283fd5b610a428b838c016107ef565b935060c08a0135915080821115610a57578283fd5b50610a648a828b016107ef565b91505092959891949750929550565b60008151808452610a8b816020860160208601610f0e565b601f01601f19169290920160200192915050565b60008251610ab1818460208701610f0e565b9190910192915050565b60f896871b6001600160f81b03199081168252606096871b6001600160601b031990811660018401529590971b909616601587015260e09290921b6001600160e01b031916601686015290921b16601a830152602e820152604e0190565b60f897881b6001600160f81b03199081168252606097881b6001600160601b031990811660018401529690981b909716601588015260e09390931b6001600160e01b031916601687015290841b8316601a86015290921b16602e830152604282015260620190565b6001600160f81b031960f887811b821683526001600160601b0319606088901b16600184015285901b1660158201526001600160e01b031960e084901b1660168201528151600090610bda81601a850160208701610f0e565b91909101601a019695505050505050565b6001600160a01b0391909116815260200190565b6001600160a01b039384168152919092166020820152604081019190915260600190565b90815260200190565b600086825285602083015284604083015260a06060830152610c5160a0830185610a73565b8281036080840152610c638185610a73565b98975050505050505050565b60208082526017908201527f7472616e736665724574682077726f6e67206e6f6e6365000000000000000000604082015260600190565b6020808252601b908201527f7472616e73666572546f6b656e20766572696679206661696c65640000000000604082015260600190565b6020808252818101527f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564604082015260600190565b6020808252601a908201527f7472616e73666572457468206e6f7420656e6f75676820657468000000000000604082015260600190565b6020808252818101527f7472616e73666572546f6b656e206e6f7420656e6f7567682062616c616e6365604082015260600190565b60208082526012908201527118d85b1b081d995c9a599e4819985a5b195960721b604082015260600190565b60208082526019908201527f7472616e7366657245746820766572696679206661696c656400000000000000604082015260600190565b60208082526019908201527f7472616e73666572546f6b656e2077726f6e67206e6f6e636500000000000000604082015260600190565b602080825260169082015275696e69742063616e206f6e6c792072756e206f6e636560501b604082015260600190565b60208082526019908201527f696e697420706172612063616e206e6f74206265207a65726f00000000000000604082015260600190565b6020808252602a908201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6040820152691bdd081cdd58d8d9595960b21b606082015260800190565b6020808252601f908201527f5361666545524332303a2063616c6c20746f206e6f6e2d636f6e747261637400604082015260600190565b60ff91909116815260200190565b60005b83811015610f29578181015183820152602001610f11565b838111156106fe5750506000910152565b6001600160a01b0381168114610f4f57600080fd5b5056fea2646970667358221220b6ae73a2011a28aacecc1e188699b2aaadf327ca55b82fe5293a244522b07b4164736f6c6375302e372e352b636f6d6d69742e65623737656430380045a264697066735822122035a20fad4617dd60ecf8181410ee1d3ee7bc6ff36fa12feaffff44d2d82c985064736f6c6375302e372e352b636f6d6d69742e65623737656430380045d22e0abc7b19d838e954cbc6f616029686b14f2fb6848c80bcd8c8cff9a491b0da7ea160a1c93452b8c45a6a5bcec62bca0dcf181c07b9727a13dad51b719ff55c24ae0c7ae3f7868679496ec950a286922492afc61e9b3350f80501aa0cceac01e1595e09f85cab0e57902ee698c2d83c4faf663294dfe57f4b10158779bf2e0e3c78fcc52afa9eb53fcd26a69dba8c189b039ae52aab834751ab35b3dfd9f56cc7536db3e1261f94292085efba61f3495ff29c8a9f58aca9ccbb9ab157a5ef847e0250a5107c20696249d136c9fad902caa92bdc69d68819aff0807f7674a94cdd6bfcd67422f7eb27f8ca9c0919f06ffc3c76ade1ca75f17275c3b8ab7c6f")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", common.ToHex(createResult), len(createResult))
	fmt.Printf("New create contract createResult:%s,%d\n", common.ToHex(createResult), len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)

	callBytes := common.FromHex("0xb865d7bf1cfbf93a4a271538eed0fcaf31508e7fe567e67129ae118e6848d857892d5a1100000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000048000000000000000000000000000000000000000000000000000000000000004c0000000000000000000000000000000000000000000000000000000000000054000000000000000000000000000000000000000000000000000000000000000087a7a7a7a7a7a7a7a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000321444b494d2d5369676e61747572653a20763d313b20613d7273612d7368613235363b20633d72656c617865642f72656c617865643b20643d756e69706173732e69643b0d0a20713d646e732f7478743b20733d6574683b2062683d4b47394e4f6b3755394b5570734a7642394344577a4f5771444b70326b37415639654b514a594b456337303d3b0d0a20683d66726f6d3a7375626a6563743a646174653a6d6573736167652d69643a746f3a6d696d652d76657273696f6e3a636f6e74656e742d747970653a636f6e74656e742d7472616e736665722d656e636f64696e673b0d0a20623d50514530627243564179463563483374682f70454b4c52474168326748426231625662326450654b74494f4c6f3067436577662f316f50427343637664317a436f414979717770614c0d0a202b6d6b79586d6d374d654172784d346c59455663636c37326b413577314e6e5751644872437a6474747a6851547a69694833776862345358376269586a2f5865446d745832515650512f4a0d0a204b6c47463947685250545152314145664c7730415843733d0d0a436f6e74656e742d547970653a20746578742f68746d6c3b20636861727365743d7574662d380d0a46726f6d3a20307839393233656533316333363831396433373161396535373631393839363530366562633361303933406d61696c2e756e69706173732e6d650d0a546f3a206c335f74657374406d61696c2e636b622e70770d0a5375626a6563743a203078376632366333633564316365396533376566316263303932356365336366316632353766303766313637613363336232613433656266326666643466393161630d0a4d6573736167652d49443a203c32613462306566612d306366362d323566632d663863312d373639623633326436633039406d61696c2e756e69706173732e6d653e0d0a436f6e74656e742d5472616e736665722d456e636f64696e673a20376269740d0a446174653a205468752c2031302046656220323032322030383a34373a3438202b303030300d0a4d494d452d56657273696f6e3a20312e300d0a0d0a3c623e556e697061737320546573743c2f623e0d0a0a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000149923ee31c36819d371a9e57619896506ebc3a0930000000000000000000000000000000000000000000000000000000000000000000000000000000000000041c805cf72aca5ff7e1f25b3fbed45bd0d023862557423ba9118dbb5824db2314c4ffe6b8718540a9b374c6b6c96faf400478c9ba28cd6eef4f6e02248aa8dcd9f1c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e756e69706173732d77616c6c6574000000000000000000000000000000000000")
	result, gas, err := mockCall(contractAddress, callBytes, config)
	if nil != err {
		t.Fatal(err)
	}
	fmt.Println(result)
	fmt.Println(gas)
}

func TestAddress(t *testing.T) {
	addr := common.HexToAddress("0xbfaf6e5211f2c4aff8eeccf0bdf6965cb7d37e88bb6244ab08c77bf055497302")
	fmt.Printf("addr:%v\n", addr.Bytes()[:20])
	i := new(uint256.Int).SetBytes(addr.Bytes()[:20])
	fmt.Printf("i:%v\n", i.Bytes32())

	a := i.Bytes20()
	address := common.Address{}
	copy(address[:], a[:])
	fmt.Printf("address:%v\n", address.Bytes())
	fmt.Printf("addr:%v\n", addr.Bytes()[:20])
}

func TestConvertAddress(t *testing.T) {
	//new := []byte{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  234 ,234 ,95 ,168, 10, 140 ,4, 214, 122 ,50 ,136, 179 ,33, 19, 100, 28 ,242, 17 ,101, 62}
	//new := []byte{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 39, 170, 71, 139, 53, 89, 84, 23, 188, 185, 14, 245, 111, 23, 78, 224, 90, 229, 108, 40}
	//new := []byte{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 181, 14, 173, 231 ,17, 233 ,234, 204, 62 ,32, 210 ,114, 33 ,12 ,98 ,133, 62, 45 ,77, 211}
	//new := []byte{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,88 ,36 ,172, 14 ,186 ,150, 250, 173, 207 ,241 ,33 ,209 ,38 ,11, 54, 230 ,246 ,67 ,207, 86}
	//new := []byte{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,137, 101 ,199, 110 ,10, 16, 56, 98, 182, 236, 117 ,130, 170 ,31, 190 ,10 ,225 ,78, 214, 48}
	new := []byte{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 118, 77, 0, 133, 48, 54, 31, 85, 36, 107, 199, 154, 98, 255, 12, 72, 188, 90, 166}
	newAddr := common.BytesToAddress(new)
	fmt.Printf("newAddr:%v\n", newAddr.GetHexString())
}

func TestByteToInt(t *testing.T) {
	//new := []byte{0, 0, 0, 0, 0, 0, 0, 0 ,0, 0 ,0 ,0, 0 ,0, 0 ,0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 35, 134, 242 ,111, 193 ,0, 0}
	//new := []byte{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 141, 126, 164, 198, 128, 0}
	new := []byte{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 241, 228, 202, 163, 130, 95}
	i := big.NewInt(0)
	i.SetBytes(new)
	fmt.Printf("i:%v\n", i.String())

}
func TestERC20(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.Origin = common.HexToAddress("0x50f4a728b5e5ddc053e4386e8ce7bce3171fd3e7")

	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	config.State.SetBalance(config.Origin, big.NewInt(1000))

	var input, callResult []byte
	var callLeftGas uint64
	var callErr error
	mixContract := common.HexToAddress("0xbfdb68fde47566caa49bfdc18f20c61eceb11005")

	//部署mixToken 0xbfdb68fde47566caa49bfdc18f20c61eceb11005
	codeBinary := "60806040523480156200001157600080fd5b506040518060400160405280600981526020017f4d69786d617276656c00000000000000000000000000000000000000000000008152506040518060400160405280600381526020017f4d4958000000000000000000000000000000000000000000000000000000000081525060128260039080519060200190620000989291906200058f565b508160049080519060200190620000b19291906200058f565b5080600560006101000a81548160ff021916908360ff16021790555050505033600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555062000122336200014560201b60201c565b6200013f336a084595161401484a0000006200026460201b60201c565b62000635565b600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161462000209576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f21676f7665726e616e636500000000000000000000000000000000000000000081525060200191505060405180910390fd5b6001600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1662000324576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260078152602001807f216d696e7465720000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b6200033682826200033a60201b60201c565b5050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415620003de576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f45524332303a206d696e7420746f20746865207a65726f20616464726573730081525060200191505060405180910390fd5b620003fa816002546200050660201b62000ffd1790919060201c565b6002819055506200045981600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546200050660201b62000ffd1790919060201c565b600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a35050565b60008082840190508381101562000585576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620005d257805160ff191683800117855562000603565b8280016001018555821562000603579182015b8281111562000602578251825591602001919060010190620005e5565b5b50905062000612919062000616565b5090565b5b808211156200063157600081600090555060010162000617565b5090565b6118f180620006456000396000f3fe608060405234801561001057600080fd5b506004361061010b5760003560e01c80635aa6e675116100a2578063a457c2d711610071578063a457c2d714610503578063a9059cbb14610567578063ab033ea9146105cb578063dd62ed3e1461060f578063f46eccc4146106875761010b565b80635aa6e675146103b057806370a08231146103e457806395d89b411461043c578063983b2d56146104bf5761010b565b80633092afd5116100de5780633092afd514610299578063313ce567146102dd57806339509351146102fe57806340c10f19146103625761010b565b806306fdde0314610110578063095ea7b31461019357806318160ddd146101f757806323b872dd14610215575b600080fd5b6101186106e1565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561015857808201518184015260208101905061013d565b50505050905090810190601f1680156101855780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101df600480360360408110156101a957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610783565b60405180821515815260200191505060405180910390f35b6101ff6107a1565b6040518082815260200191505060405180910390f35b6102816004803603606081101561022b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506107ab565b60405180821515815260200191505060405180910390f35b6102db600480360360208110156102af57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610883565b005b6102e56109a1565b604051808260ff16815260200191505060405180910390f35b61034a6004803603604081101561031457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506109b8565b60405180821515815260200191505060405180910390f35b6103ae6004803603604081101561037857600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610a6a565b005b6103b8610b37565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b610426600480360360208110156103fa57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610b5d565b6040518082815260200191505060405180910390f35b610444610ba6565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610484578082015181840152602081019050610469565b50505050905090810190601f1680156104b15780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b610501600480360360208110156104d557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610c48565b005b61054f6004803603604081101561051957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610d66565b60405180821515815260200191505060405180910390f35b6105b36004803603604081101561057d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610e32565b60405180821515815260200191505060405180910390f35b61060d600480360360208110156105e157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610e50565b005b6106716004803603604081101561062557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610f57565b6040518082815260200191505060405180910390f35b6106c96004803603602081101561069d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610fdd565b60405180821515815260200191505060405180910390f35b606060038054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156107795780601f1061074e57610100808354040283529160200191610779565b820191906000526020600020905b81548152906001019060200180831161075c57829003601f168201915b5050505050905090565b6000610797610790611085565b848461108d565b6001905092915050565b6000600254905090565b60006107b8848484611283565b610878846107c4611085565b61087385604051806060016040528060288152602001611826602891396000808b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000610829611085565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461153d9092919063ffffffff16565b61108d565b600190509392505050565b600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610946576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f21676f7665726e616e636500000000000000000000000000000000000000000081525060200191505060405180910390fd5b6000600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b6000600560009054906101000a900460ff16905090565b6000610a606109c5611085565b84610a5b856000806109d5611085565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610ffd90919063ffffffff16565b61108d565b6001905092915050565b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16610b29576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260078152602001807f216d696e7465720000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b610b3382826115fd565b5050565b600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b606060048054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c3e5780601f10610c1357610100808354040283529160200191610c3e565b820191906000526020600020905b815481529060010190602001808311610c2157829003601f168201915b5050505050905090565b600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610d0b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f21676f7665726e616e636500000000000000000000000000000000000000000081525060200191505060405180910390fd5b6001600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b6000610e28610d73611085565b84610e238560405180606001604052806025815260200161189760259139600080610d9c611085565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461153d9092919063ffffffff16565b61108d565b6001905092915050565b6000610e46610e3f611085565b8484611283565b6001905092915050565b600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610f13576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f21676f7665726e616e636500000000000000000000000000000000000000000081525060200191505060405180910390fd5b80600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60008060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b60066020528060005260406000206000915054906101000a900460ff1681565b60008082840190508381101561107b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415611113576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260248152602001806118736024913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611199576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806117de6022913960400191505060405180910390fd5b806000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040518082815260200191505060405180910390a3505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415611309576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602581526020018061184e6025913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141561138f576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001806117bb6023913960400191505060405180910390fd5b6113fb8160405180606001604052806026815260200161180060269139600160008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461153d9092919063ffffffff16565b600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061149081600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610ffd90919063ffffffff16565b600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b60008383111582906115ea576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b838110156115af578082015181840152602081019050611594565b50505050905090810190601f1680156115dc5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5060008385039050809150509392505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156116a0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f45524332303a206d696e7420746f20746865207a65726f20616464726573730081525060200191505060405180910390fd5b6116b581600254610ffd90919063ffffffff16565b60028190555061170d81600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610ffd90919063ffffffff16565b600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505056fe45524332303a207472616e7366657220746f20746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f206164647265737345524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636545524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636545524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737345524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa264697066735822122091d1e3f0d76ee20dad361c07b4a494000543ec8b2ef80285be2e5157aa0fa88f64736f6c634300060c0033"
	// "60806040523480156200001157600080fd5b506040518060400160405280600981526020017f4d69786d617276656c00000000000000000000000000000000000000000000008152506040518060400160405280600381526020017f4d4958000000000000000000000000000000000000000000000000000000000081525060128260039080519060200190620000989291906200058d565b508160049080519060200190620000b19291906200058d565b5080600560006101000a81548160ff021916908360ff16021790555050505033600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555062000122336200014560201b60201c565b6200013f336a084595161401484a0000006200026460201b60201c565b62000633565b600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161462000209576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f21676f7665726e616e636500000000000000000000000000000000000000000081525060200191505060405180910390fd5b6001600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1662000324576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260078152602001807f216d696e7465720000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b6200033682826200033a60201b60201c565b5050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415620003de576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f45524332303a206d696e7420746f20746865207a65726f20616464726573730081525060200191505060405180910390fd5b620003fa816002546200050460201b620010001790919060201c565b60028190555062000458816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546200050460201b620010001790919060201c565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a35050565b60008082840190508381101562000583576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620005d057805160ff191683800117855562000601565b8280016001018555821562000601579182015b8281111562000600578251825591602001919060010190620005e3565b5b50905062000610919062000614565b5090565b5b808211156200062f57600081600090555060010162000615565b5090565b6118ef80620006436000396000f3fe608060405234801561001057600080fd5b506004361061010b5760003560e01c80635aa6e675116100a2578063a457c2d711610071578063a457c2d714610503578063a9059cbb14610567578063ab033ea9146105cb578063dd62ed3e1461060f578063f46eccc4146106875761010b565b80635aa6e675146103b057806370a08231146103e457806395d89b411461043c578063983b2d56146104bf5761010b565b80633092afd5116100de5780633092afd514610299578063313ce567146102dd57806339509351146102fe57806340c10f19146103625761010b565b806306fdde0314610110578063095ea7b31461019357806318160ddd146101f757806323b872dd14610215575b600080fd5b6101186106e1565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561015857808201518184015260208101905061013d565b50505050905090810190601f1680156101855780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101df600480360360408110156101a957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610783565b60405180821515815260200191505060405180910390f35b6101ff6107a1565b6040518082815260200191505060405180910390f35b6102816004803603606081101561022b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506107ab565b60405180821515815260200191505060405180910390f35b6102db600480360360208110156102af57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610884565b005b6102e56109a2565b604051808260ff16815260200191505060405180910390f35b61034a6004803603604081101561031457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506109b9565b60405180821515815260200191505060405180910390f35b6103ae6004803603604081101561037857600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610a6c565b005b6103b8610b39565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b610426600480360360208110156103fa57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610b5f565b6040518082815260200191505060405180910390f35b610444610ba7565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610484578082015181840152602081019050610469565b50505050905090810190601f1680156104b15780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b610501600480360360208110156104d557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610c49565b005b61054f6004803603604081101561051957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610d67565b60405180821515815260200191505060405180910390f35b6105b36004803603604081101561057d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610e34565b60405180821515815260200191505060405180910390f35b61060d600480360360208110156105e157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610e52565b005b6106716004803603604081101561062557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610f59565b6040518082815260200191505060405180910390f35b6106c96004803603602081101561069d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610fe0565b60405180821515815260200191505060405180910390f35b606060038054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156107795780601f1061074e57610100808354040283529160200191610779565b820191906000526020600020905b81548152906001019060200180831161075c57829003601f168201915b5050505050905090565b6000610797610790611088565b8484611090565b6001905092915050565b6000600254905090565b60006107b8848484611287565b610879846107c4611088565b6108748560405180606001604052806028815260200161182460289139600160008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600061082a611088565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461153d9092919063ffffffff16565b611090565b600190509392505050565b600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610947576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f21676f7665726e616e636500000000000000000000000000000000000000000081525060200191505060405180910390fd5b6000600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b6000600560009054906101000a900460ff16905090565b6000610a626109c6611088565b84610a5d85600160006109d7611088565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461100090919063ffffffff16565b611090565b6001905092915050565b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16610b2b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260078152602001807f216d696e7465720000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b610b3582826115fd565b5050565b600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b606060048054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c3f5780601f10610c1457610100808354040283529160200191610c3f565b820191906000526020600020905b815481529060010190602001808311610c2257829003601f168201915b5050505050905090565b600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610d0c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f21676f7665726e616e636500000000000000000000000000000000000000000081525060200191505060405180910390fd5b6001600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b6000610e2a610d74611088565b84610e25856040518060600160405280602581526020016118956025913960016000610d9e611088565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461153d9092919063ffffffff16565b611090565b6001905092915050565b6000610e48610e41611088565b8484611287565b6001905092915050565b600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610f15576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f21676f7665726e616e636500000000000000000000000000000000000000000081525060200191505060405180910390fd5b80600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b60066020528060005260406000206000915054906101000a900460ff1681565b60008082840190508381101561107e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415611116576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260248152602001806118716024913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141561119c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806117dc6022913960400191505060405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040518082815260200191505060405180910390a3505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141561130d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602581526020018061184c6025913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611393576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001806117b96023913960400191505060405180910390fd5b6113fe816040518060600160405280602681526020016117fe602691396000808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461153d9092919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550611491816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461100090919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b60008383111582906115ea576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b838110156115af578082015181840152602081019050611594565b50505050905090810190601f1680156115dc5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5060008385039050809150509392505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156116a0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f45524332303a206d696e7420746f20746865207a65726f20616464726573730081525060200191505060405180910390fd5b6116b58160025461100090919063ffffffff16565b60028190555061170c816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461100090919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505056fe45524332303a207472616e7366657220746f20746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f206164647265737345524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636545524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636545524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737345524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa26469706673582212206bcc014fa94a13b23a66eb50f566266aeefcd5a3f652526cba894f975217690064736f6c634300060c0033"
	imTokenCodeBytes := common.Hex2Bytes(codeBinary)
	_, mixTokenContractAddress, _, createErr := mockCreate(imTokenCodeBytes, config)
	fmt.Printf("Create mixToken contract address:%v,createErr:%v\n", mixTokenContractAddress.GetHexString(), createErr)

	//mixTokenContract.transfer(pool.address, 1000);
	input = common.Hex2Bytes("a9059cbb0000000000000000000000007303204139749c46f8256c13ddae1e1a8a47c2a200000000000000000000000000000000000000000000000000000000000003e8")
	callResult, callLeftGas, callErr = mockCall(mixContract, input, config)
	fmt.Printf("mix transfer 1000 to pool result:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)
}

func TestDefiDemo(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.Origin = common.HexToAddress("0x50f4a728b5e5ddc053e4386e8ce7bce3171fd3e7")
	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	config.State.SetBalance(config.Origin, big.NewInt(1000))

	var input, callResult []byte
	var callLeftGas uint64
	var callErr error
	lpContract := common.HexToAddress("0xd8c59bbc68b982fab30435d8379c48afe1bd067f")
	mixContract := common.HexToAddress("0xbfdb68fde47566caa49bfdc18f20c61eceb11005")
	poolContract := common.HexToAddress("0x7303204139749c46f8256c13ddae1e1a8a47c2a2")

	//部署LpToken 0xd8c59bbc68b982fab30435d8379c48afe1bd067f
	lpTokenCodeBytes := common.Hex2Bytes("606060405260408051908101604052600d81527f57726170706564204574686572000000000000000000000000000000000000006020820152600090805161004b9291602001906100b1565b5060408051908101604052600481527f5745544800000000000000000000000000000000000000000000000000000000602082015260019080516100939291602001906100b1565b506002805460ff1916601217905534156100ac57600080fd5b61014c565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106100f257805160ff191683800117855561011f565b8280016001018555821561011f579182015b8281111561011f578251825591602001919060010190610104565b5061012b92915061012f565b5090565b61014991905b8082111561012b5760008155600101610135565b90565b6106c28061015b6000396000f3006060604052600436106100ae5763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166306fdde0381146100b8578063095ea7b31461014257806318160ddd1461017857806323b872dd1461019d5780632e1a7d4d146101c5578063313ce567146101db57806370a082311461020457806395d89b4114610223578063a9059cbb14610236578063d0e30db0146100ae578063dd62ed3e14610258575b6100b661027d565b005b34156100c357600080fd5b6100cb6102d3565b60405160208082528190810183818151815260200191508051906020019080838360005b838110156101075780820151838201526020016100ef565b50505050905090810190601f1680156101345780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561014d57600080fd5b610164600160a060020a0360043516602435610371565b604051901515815260200160405180910390f35b341561018357600080fd5b61018b6103dd565b60405190815260200160405180910390f35b34156101a857600080fd5b610164600160a060020a03600435811690602435166044356103eb565b34156101d057600080fd5b6100b6600435610531565b34156101e657600080fd5b6101ee6105df565b60405160ff909116815260200160405180910390f35b341561020f57600080fd5b61018b600160a060020a03600435166105e8565b341561022e57600080fd5b6100cb6105fa565b341561024157600080fd5b610164600160a060020a0360043516602435610665565b341561026357600080fd5b61018b600160a060020a0360043581169060243516610679565b600160a060020a033316600081815260036020526040908190208054349081019091557fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c915190815260200160405180910390a2565b60008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156103695780601f1061033e57610100808354040283529160200191610369565b820191906000526020600020905b81548152906001019060200180831161034c57829003601f168201915b505050505081565b600160a060020a03338116600081815260046020908152604080832094871680845294909152808220859055909291907f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259085905190815260200160405180910390a350600192915050565b600160a060020a0330163190565b600160a060020a0383166000908152600360205260408120548290101561041157600080fd5b33600160a060020a031684600160a060020a03161415801561045b5750600160a060020a038085166000908152600460209081526040808320339094168352929052205460001914155b156104c257600160a060020a03808516600090815260046020908152604080832033909416835292905220548290101561049457600080fd5b600160a060020a03808516600090815260046020908152604080832033909416835292905220805483900390555b600160a060020a038085166000818152600360205260408082208054879003905592861680825290839020805486019055917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9085905190815260200160405180910390a35060019392505050565b600160a060020a0333166000908152600360205260409020548190101561055757600080fd5b600160a060020a033316600081815260036020526040908190208054849003905582156108fc0290839051600060405180830381858888f19350505050151561059f57600080fd5b33600160a060020a03167f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b658260405190815260200160405180910390a250565b60025460ff1681565b60036020526000908152604090205481565b60018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156103695780601f1061033e57610100808354040283529160200191610369565b60006106723384846103eb565b9392505050565b6004602090815260009283526040808420909152908252902054815600a165627a7a7230582061a0f876a7e6a3343d73ff166107d03a1ea1a6348b0f1f231e0514b464b35e450029")
	_, lpTokenContractAddress, _, createErr := mockCreate(lpTokenCodeBytes, config)
	fmt.Printf("Create lpToken contract address:%v,createErr:%v\n", lpTokenContractAddress.GetHexString(), createErr)

	//部署mixToken 0xbfdb68fde47566caa49bfdc18f20c61eceb11005
	imTokenCodeBytes := common.Hex2Bytes("60806040523480156200001157600080fd5b506040518060400160405280600981526020017f4d69786d617276656c00000000000000000000000000000000000000000000008152506040518060400160405280600381526020017f4d4958000000000000000000000000000000000000000000000000000000000081525060128260039080519060200190620000989291906200058d565b508160049080519060200190620000b19291906200058d565b5080600560006101000a81548160ff021916908360ff16021790555050505033600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555062000122336200014560201b60201c565b6200013f336a084595161401484a0000006200026460201b60201c565b62000633565b600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161462000209576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f21676f7665726e616e636500000000000000000000000000000000000000000081525060200191505060405180910390fd5b6001600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1662000324576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260078152602001807f216d696e7465720000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b6200033682826200033a60201b60201c565b5050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415620003de576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f45524332303a206d696e7420746f20746865207a65726f20616464726573730081525060200191505060405180910390fd5b620003fa816002546200050460201b620010001790919060201c565b60028190555062000458816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546200050460201b620010001790919060201c565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a35050565b60008082840190508381101562000583576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620005d057805160ff191683800117855562000601565b8280016001018555821562000601579182015b8281111562000600578251825591602001919060010190620005e3565b5b50905062000610919062000614565b5090565b5b808211156200062f57600081600090555060010162000615565b5090565b6118ef80620006436000396000f3fe608060405234801561001057600080fd5b506004361061010b5760003560e01c80635aa6e675116100a2578063a457c2d711610071578063a457c2d714610503578063a9059cbb14610567578063ab033ea9146105cb578063dd62ed3e1461060f578063f46eccc4146106875761010b565b80635aa6e675146103b057806370a08231146103e457806395d89b411461043c578063983b2d56146104bf5761010b565b80633092afd5116100de5780633092afd514610299578063313ce567146102dd57806339509351146102fe57806340c10f19146103625761010b565b806306fdde0314610110578063095ea7b31461019357806318160ddd146101f757806323b872dd14610215575b600080fd5b6101186106e1565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561015857808201518184015260208101905061013d565b50505050905090810190601f1680156101855780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101df600480360360408110156101a957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610783565b60405180821515815260200191505060405180910390f35b6101ff6107a1565b6040518082815260200191505060405180910390f35b6102816004803603606081101561022b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506107ab565b60405180821515815260200191505060405180910390f35b6102db600480360360208110156102af57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610884565b005b6102e56109a2565b604051808260ff16815260200191505060405180910390f35b61034a6004803603604081101561031457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506109b9565b60405180821515815260200191505060405180910390f35b6103ae6004803603604081101561037857600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610a6c565b005b6103b8610b39565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b610426600480360360208110156103fa57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610b5f565b6040518082815260200191505060405180910390f35b610444610ba7565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610484578082015181840152602081019050610469565b50505050905090810190601f1680156104b15780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b610501600480360360208110156104d557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610c49565b005b61054f6004803603604081101561051957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610d67565b60405180821515815260200191505060405180910390f35b6105b36004803603604081101561057d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610e34565b60405180821515815260200191505060405180910390f35b61060d600480360360208110156105e157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610e52565b005b6106716004803603604081101561062557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610f59565b6040518082815260200191505060405180910390f35b6106c96004803603602081101561069d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610fe0565b60405180821515815260200191505060405180910390f35b606060038054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156107795780601f1061074e57610100808354040283529160200191610779565b820191906000526020600020905b81548152906001019060200180831161075c57829003601f168201915b5050505050905090565b6000610797610790611088565b8484611090565b6001905092915050565b6000600254905090565b60006107b8848484611287565b610879846107c4611088565b6108748560405180606001604052806028815260200161182460289139600160008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600061082a611088565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461153d9092919063ffffffff16565b611090565b600190509392505050565b600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610947576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f21676f7665726e616e636500000000000000000000000000000000000000000081525060200191505060405180910390fd5b6000600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b6000600560009054906101000a900460ff16905090565b6000610a626109c6611088565b84610a5d85600160006109d7611088565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461100090919063ffffffff16565b611090565b6001905092915050565b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16610b2b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260078152602001807f216d696e7465720000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b610b3582826115fd565b5050565b600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b606060048054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c3f5780601f10610c1457610100808354040283529160200191610c3f565b820191906000526020600020905b815481529060010190602001808311610c2257829003601f168201915b5050505050905090565b600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610d0c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f21676f7665726e616e636500000000000000000000000000000000000000000081525060200191505060405180910390fd5b6001600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b6000610e2a610d74611088565b84610e25856040518060600160405280602581526020016118956025913960016000610d9e611088565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461153d9092919063ffffffff16565b611090565b6001905092915050565b6000610e48610e41611088565b8484611287565b6001905092915050565b600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610f15576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600b8152602001807f21676f7665726e616e636500000000000000000000000000000000000000000081525060200191505060405180910390fd5b80600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b60066020528060005260406000206000915054906101000a900460ff1681565b60008082840190508381101561107e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415611116576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260248152602001806118716024913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141561119c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806117dc6022913960400191505060405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040518082815260200191505060405180910390a3505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141561130d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602581526020018061184c6025913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611393576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001806117b96023913960400191505060405180910390fd5b6113fe816040518060600160405280602681526020016117fe602691396000808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461153d9092919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550611491816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461100090919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b60008383111582906115ea576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b838110156115af578082015181840152602081019050611594565b50505050905090810190601f1680156115dc5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5060008385039050809150509392505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156116a0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f45524332303a206d696e7420746f20746865207a65726f20616464726573730081525060200191505060405180910390fd5b6116b58160025461100090919063ffffffff16565b60028190555061170c816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461100090919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505056fe45524332303a207472616e7366657220746f20746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f206164647265737345524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636545524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636545524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737345524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa26469706673582212206bcc014fa94a13b23a66eb50f566266aeefcd5a3f652526cba894f975217690064736f6c634300060c0033")
	_, mixTokenContractAddress, _, createErr := mockCreate(imTokenCodeBytes, config)
	fmt.Printf("Create mixToken contract address:%v,createErr:%v\n", mixTokenContractAddress.GetHexString(), createErr)

	//部署Pool 0x7303204139749c46f8256c13ddae1e1a8a47c2a2
	poolCodeBytes := common.Hex2Bytes("60806040526283d600600655600060085560006009553480156200002257600080fd5b506040516200251a3803806200251a833981810160405260408110156200004857600080fd5b81019080805190602001909291908051906020019092919050505080806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050620000b5620001cc60201b60201c565b600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a381600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550620001c433620001d460201b60201c565b505062000302565b600033905090565b620001e46200029b60201b60201c565b62000257576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657281525060200191505060405180910390fd5b80600460006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16620002e6620001cc60201b60201c565b73ffffffffffffffffffffffffffffffffffffffff1614905090565b61220880620003126000396000f3fe608060405234801561001057600080fd5b50600436106101a85760003560e01c80637b0a47ee116100f9578063be32cf8d11610097578063df136d6511610071578063df136d65146105e9578063e9fad8ee14610607578063ebe2b12b14610611578063f2fde38b1461062f576101a8565b8063be32cf8d14610579578063c8f33c91146105ad578063cd3daf9d146105cb576101a8565b80638da58897116100d35780638da58897146104d95780638da5cb5b146104f75780638f32d59b1461052b578063a694fc3a1461054b576101a8565b80637b0a47ee1461044557806380faa57d146104635780638b87634714610481576101a8565b80632e1a7d4d116101665780635fcbd285116101405780635fcbd2851461037757806370a08231146103ab578063715018a6146104035780637a442b3b1461040d576101a8565b80632e1a7d4d146103115780633c6b16ab1461033f5780633d18b9121461036d576101a8565b80628cc262146101ad5780630700037d146102055780630d68b7611461025d578063101114cf146102a157806318160ddd146102d55780631be05289146102f3575b600080fd5b6101ef600480360360208110156101c357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610673565b6040518082815260200191505060405180910390f35b6102476004803603602081101561021b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061075a565b6040518082815260200191505060405180910390f35b61029f6004803603602081101561027357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610772565b005b6102a9610830565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6102dd610856565b6040518082815260200191505060405180910390f35b6102fb610860565b6040518082815260200191505060405180910390f35b61033d6004803603602081101561032757600080fd5b8101908080359060200190929190505050610866565b005b61036b6004803603602081101561035557600080fd5b8101908080359060200190929190505050610a93565b005b610375610d95565b005b61037f610fec565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6103ed600480360360208110156103c157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611010565b6040518082815260200191505060405180910390f35b61040b611059565b005b6104436004803603604081101561042357600080fd5b810190808035906020019092919080359060200190929190505050611194565b005b61044d61125c565b6040518082815260200191505060405180910390f35b61046b611262565b6040518082815260200191505060405180910390f35b6104c36004803603602081101561049757600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611275565b6040518082815260200191505060405180910390f35b6104e161128d565b6040518082815260200191505060405180910390f35b6104ff611293565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6105336112bd565b60405180821515815260200191505060405180910390f35b6105776004803603602081101561056157600080fd5b810190808035906020019092919050505061131c565b005b610581611549565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6105b561156f565b6040518082815260200191505060405180910390f35b6105d3611575565b6040518082815260200191505060405180910390f35b6105f161160d565b6040518082815260200191505060405180910390f35b61060f611613565b005b61061961162e565b6040518082815260200191505060405180910390f35b6106716004803603602081101561064557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611634565b005b6000610753600d60008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610745670de0b6b3a7640000610737610720600c60008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610712611575565b6116ba90919063ffffffff16565b61072988611010565b61170490919063ffffffff16565b61178a90919063ffffffff16565b6117d490919063ffffffff16565b9050919050565b600d6020528060005260406000206000915090505481565b61077a6112bd565b6107ec576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657281525060200191505060405180910390fd5b80600460006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600154905090565b60065481565b3361086f611575565b600b8190555061087d611262565b600a81905550600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161461094a576108c081610673565b600d60008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550600b54600c60008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055505b6007544210156109c2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260098152602001807f6e6f74207374617274000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b60008211610a38576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260118152602001807f43616e6e6f74207769746864726177203000000000000000000000000000000081525060200191505060405180910390fd5b610a418261185c565b3373ffffffffffffffffffffffffffffffffffffffff167f7084f5476618d8e60b11ef0d7d3f06914655adb8793e28ff7f018d4c76d505d5836040518082815260200191505060405180910390a25050565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16610ad461195a565b73ffffffffffffffffffffffffffffffffffffffff1614610b40576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260218152602001806121886021913960400191505060405180910390fd5b6000610b4a611575565b600b81905550610b58611262565b600a81905550600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614610c2557610b9b81610673565b600d60008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550600b54600c60008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055505b600754421115610d18576008544210610c5857610c4d6006548361178a90919063ffffffff16565b600981905550610cba565b6000610c6f426008546116ba90919063ffffffff16565b90506000610c886009548361170490919063ffffffff16565b9050610cb1600654610ca383876117d490919063ffffffff16565b61178a90919063ffffffff16565b60098190555050505b42600a81905550610cd6600654426117d490919063ffffffff16565b6008819055507fde88a922e0d3b88b24e9623efeb464919c6bf9f66857a65e2bfcf2ce87a9433d826040518082815260200191505060405180910390a1610d91565b610d2d6006548361178a90919063ffffffff16565b600981905550600754600a81905550610d536006546007546117d490919063ffffffff16565b6008819055507fde88a922e0d3b88b24e9623efeb464919c6bf9f66857a65e2bfcf2ce87a9433d826040518082815260200191505060405180910390a15b5050565b33610d9e611575565b600b81905550610dac611262565b600a81905550600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614610e7957610def81610673565b600d60008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550600b54600c60008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055505b600754421015610ef1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260098152602001807f6e6f74207374617274000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b6000610efc33610673565b90506000811115610fe8576000600d60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610f993382600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166119629092919063ffffffff16565b3373ffffffffffffffffffffffffffffffffffffffff167fe2403640ba68fed3a2f88b7557551d1993f84b99bb10ff833f0cf8db0c5e0486826040518082815260200191505060405180910390a25b5050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6110616112bd565b6110d3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657281525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff16600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a36000600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166111d561195a565b73ffffffffffffffffffffffffffffffffffffffff1614611241576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260218152602001806121886021913960400191505060405180910390fd5b426007819055508160068190555061125881610a93565b5050565b60095481565b600061127042600854611a04565b905090565b600c6020528060005260406000206000915090505481565b60075481565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1661130061195a565b73ffffffffffffffffffffffffffffffffffffffff1614905090565b33611325611575565b600b81905550611333611262565b600a81905550600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16146114005761137681610673565b600d60008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550600b54600c60008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055505b600754421015611478576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260098152602001807f6e6f74207374617274000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b600082116114ee576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600e8152602001807f43616e6e6f74207374616b65203000000000000000000000000000000000000081525060200191505060405180910390fd5b6114f782611a1d565b3373ffffffffffffffffffffffffffffffffffffffff167f9e71bc8eea02a63969f509818f2dafb9254532904319f9dbda79b67bd34a5f3d836040518082815260200191505060405180910390a25050565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600a5481565b600080611580610856565b141561159057600b54905061160a565b6116076115f661159e610856565b6115e8670de0b6b3a76400006115da6009546115cc600a546115be611262565b6116ba90919063ffffffff16565b61170490919063ffffffff16565b61170490919063ffffffff16565b61178a90919063ffffffff16565b600b546117d490919063ffffffff16565b90505b90565b600b5481565b61162461161f33611010565b610866565b61162c610d95565b565b60085481565b61163c6112bd565b6116ae576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657281525060200191505060405180910390fd5b6116b781611b1d565b50565b60006116fc83836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250611c63565b905092915050565b6000808314156117175760009050611784565b600082840290508284828161172857fe5b041461177f576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260218152602001806121676021913960400191505060405180910390fd5b809150505b92915050565b60006117cc83836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f000000000000815250611d23565b905092915050565b600080828401905083811015611852576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b611871816001546116ba90919063ffffffff16565b6001819055506118c981600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546116ba90919063ffffffff16565b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550611957338260008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166119629092919063ffffffff16565b50565b600033905090565b6119ff8363a9059cbb60e01b8484604051602401808373ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050611de9565b505050565b6000818310611a135781611a15565b825b905092915050565b611a32816001546117d490919063ffffffff16565b600181905550611a8a81600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546117d490919063ffffffff16565b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550611b1a33308360008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16612034909392919063ffffffff16565b50565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415611ba3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260268152602001806121416026913960400191505060405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff16600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a380600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6000838311158290611d10576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015611cd5578082015181840152602081019050611cba565b50505050905090810190601f168015611d025780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5060008385039050809150509392505050565b60008083118290611dcf576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015611d94578082015181840152602081019050611d79565b50505050905090810190601f168015611dc15780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b506000838581611ddb57fe5b049050809150509392505050565b611e088273ffffffffffffffffffffffffffffffffffffffff166120f5565b611e7a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f5361666545524332303a2063616c6c20746f206e6f6e2d636f6e74726163740081525060200191505060405180910390fd5b600060608373ffffffffffffffffffffffffffffffffffffffff16836040518082805190602001908083835b60208310611ec95780518252602082019150602081019050602083039250611ea6565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d8060008114611f2b576040519150601f19603f3d011682016040523d82523d6000602084013e611f30565b606091505b509150915081611fa8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c656481525060200191505060405180910390fd5b60008151111561202e57808060200190516020811015611fc757600080fd5b810190808051906020019092919050505061202d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602a8152602001806121a9602a913960400191505060405180910390fd5b5b50505050565b6120ef846323b872dd60e01b858585604051602401808473ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050611de9565b50505050565b60008060007fc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a47060001b9050833f91506000801b82141580156121375750808214155b9250505091905056fe4f776e61626c653a206e6577206f776e657220697320746865207a65726f2061646472657373536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f7743616c6c6572206973206e6f742072657761726420646973747269627574696f6e5361666545524332303a204552433230206f7065726174696f6e20646964206e6f742073756363656564a2646970667358221220c1be6c4889e687af8bc27c7b20b4f804add6a8ff1bd00857bb85ef13cb45951564736f6c634300060c0033000000000000000000000000bfdb68fde47566caa49bfdc18f20c61eceb11005000000000000000000000000d8c59bbc68b982fab30435d8379c48afe1bd067f")
	_, poolContractAddress, _, createErr := mockCreate(poolCodeBytes, config)
	fmt.Printf("Create pool contract address:%v,createErr:%v\n", poolContractAddress.GetHexString(), createErr)

	//mixTokenContract.transfer(pool.address, 1000);
	input = common.Hex2Bytes("a9059cbb0000000000000000000000007303204139749c46f8256c13ddae1e1a8a47c2a200000000000000000000000000000000000000000000000000000000000003e8")
	callResult, callLeftGas, callErr = mockCall(mixContract, input, config)
	fmt.Printf("mix transfer 1000 to pool result:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)

	//pool.startNewReward(864000, 1000); // 10 days, 1000 token
	input = common.Hex2Bytes("7a442b3b00000000000000000000000000000000000000000000000000000000000d2f0000000000000000000000000000000000000000000000000000000000003333e8")
	callResult, callLeftGas, callErr = mockCall(poolContract, input, config)
	fmt.Printf("pool start new reward result:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)

	//账户给 LpToken 打钱
	config.Value = big.NewInt(500)
	input = common.Hex2Bytes("")
	callResult, callLeftGas, callErr = mockCall(lpContract, input, config)
	fmt.Printf("transfer to lpContract  result:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)
	config.Value = nil

	//lpToken.balanceOf() 余额 500
	input = common.Hex2Bytes("70a0823100000000000000000000000050f4a728b5e5ddc053e4386e8ce7bce3171fd3e7")
	callResult, callLeftGas, callErr = mockCall(lpContract, input, config)
	fmt.Printf("balance result:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)

	//b := config.State.GetCode(poolContract)
	//fmt.Printf("pool contract:%s\n", common.Bytes2Hex(b))

	//lpToken.approve(Pool, "100000000000000000000000000000000")
	input = common.Hex2Bytes("095ea7b30000000000000000000000007303204139749c46f8256c13ddae1e1a8a47c2a20000000000000000000000000000000000000000000000000000000000002710")
	callResult, callLeftGas, callErr = mockCall(lpContract, input, config)
	fmt.Printf("lpToken approve  result:%v,costGas:%d,callErr:%v\n", string(callResult), config.GasLimit-callLeftGas, callErr)

	//pool.stake(100) stake
	input = common.Hex2Bytes("a694fc3a0000000000000000000000000000000000000000000000000000000000000064")
	callResult, callLeftGas, callErr = mockCall(poolContract, input, config)
	fmt.Printf("stake 100 result:%v,costGas:%d,callErr:%v\n", string(callResult), config.GasLimit-callLeftGas, callErr)

	//lpToken.balanceOf() 余额 400
	input = common.Hex2Bytes("70a0823100000000000000000000000050f4a728b5e5ddc053e4386e8ce7bce3171fd3e7")
	callResult, callLeftGas, callErr = mockCall(lpContract, input, config)
	fmt.Printf("lp balance result:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)

	//pool.balanceOf()  质押量 100
	input = common.Hex2Bytes("70a0823100000000000000000000000050f4a728b5e5ddc053e4386e8ce7bce3171fd3e7")
	callResult, callLeftGas, callErr = mockCall(poolContract, input, config)
	fmt.Printf("stake balance result:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)

	//pool.earned(0x50f4a728b5e5ddc053e4386e8ce7bce3171fd3e7)
	config.Time = new(big.Int).SetUint64(uint64(time.Now().Unix()))
	input = common.Hex2Bytes("008cc26200000000000000000000000050f4a728b5e5ddc053e4386e8ce7bce3171fd3e7")
	callResult, callLeftGas, callErr = mockCall(poolContract, input, config)
	fmt.Printf("earned result:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)

	for i := 0; i < 4; i++ {
		time.Sleep(time.Second * 30)
		config.Time = new(big.Int).SetUint64(uint64(time.Now().Unix()))
		callResult, callLeftGas, callErr = mockCall(poolContract, input, config)
		fmt.Printf("earned result:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)
	}

	//pool.getReward(0x50f4a728b5e5ddc053e4386e8ce7bce3171fd3e7)       harvest
	input = common.Hex2Bytes("3d18b91200000000000000000000000050f4a728b5e5ddc053e4386e8ce7bce3171fd3e7")
	callResult, callLeftGas, callErr = mockCall(poolContract, input, config)
	fmt.Printf("get reward result:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)

	//pool.earned(0x50f4a728b5e5ddc053e4386e8ce7bce3171fd3e7)
	config.Time = new(big.Int).SetUint64(uint64(time.Now().Unix()))
	input = common.Hex2Bytes("008cc26200000000000000000000000050f4a728b5e5ddc053e4386e8ce7bce3171fd3e7")
	callResult, callLeftGas, callErr = mockCall(poolContract, input, config)
	fmt.Printf("earned result:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)

	for i := 0; i < 10; i++ {
		time.Sleep(time.Second * 30)
		config.Time = new(big.Int).SetUint64(uint64(time.Now().Unix()))
		callResult, callLeftGas, callErr = mockCall(poolContract, input, config)
		fmt.Printf("earned result:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)
	}

	//pool.withdraw(50)      unstake
}

func TestBase64(t *testing.T) {
	//s := "YGBgQFJgBDYQYQCuV2P/////fAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAA1BBZjBv3eA4EUYQC4V4BjCV6nsxRhAUJXgGMYFg3dFGEBeFeAYyO4ct0UYQGdV4BjLhp9TRRhAcVXgGMxPOVnFGEB21eAY3CggjEUYQIEV4BjldibQRRhAiNXgGOpBZy7FGECNleAY9DjDbAUYQCuV4Bj3WLtPhRhAlhXW2EAtmECfVZbAFs0FWEAw1dgAID9W2EAy2EC01ZbYEBRYCCAglKBkIEBg4GBUYFSYCABkVCAUZBgIAGQgIODYABbg4EQFWEBB1eAggFRg4IBUmAgAWEA71ZbUFBQUJBQkIEBkGAfFoAVYQE0V4CCA4BRYAGDYCADYQEACgMZFoFSYCABkVBbUJJQUFBgQFGAkQOQ81s0FWEBTVdgAID9W2EBZGABYKBgAgoDYAQ1FmAkNWEDcVZbYEBRkBUVgVJgIAFgQFGAkQOQ81s0FWEBg1dgAID9W2EBi2ED3VZbYEBRkIFSYCABYEBRgJEDkPNbNBVhAahXYACA/VthAWRgAWCgYAIKA2AENYEWkGAkNRZgRDVhA+tWWzQVYQHQV2AAgP1bYQC2YAQ1YQUxVls0FWEB5ldgAID9W2EB7mEF31ZbYEBRYP+QkRaBUmAgAWBAUYCRA5DzWzQVYQIPV2AAgP1bYQGLYAFgoGACCgNgBDUWYQXoVls0FWECLldgAID9W2EAy2EF+lZbNBVhAkFXYACA/VthAWRgAWCgYAIKA2AENRZgJDVhBmVWWzQVYQJjV2AAgP1bYQGLYAFgoGACCgNgBDWBFpBgJDUWYQZ5VltgAWCgYAIKAzMWYACBgVJgA2AgUmBAkIGQIIBUNJCBAZCRVX/h//zEkj0EtVn00pqL/GzaBOtbDTxGB1HCQCxcXMkQnJFRkIFSYCABYEBRgJEDkKJWW2AAgFRgAYFgARYVYQEAAgMWYAKQBIBgHwFgIICRBAJgIAFgQFGQgQFgQFKAkpGQgYFSYCABgoBUYAGBYAEWFWEBAAIDFmACkASAFWEDaVeAYB8QYQM+V2EBAICDVAQCg1KRYCABkWEDaVZbggGRkGAAUmAgYAAgkFuBVIFSkGABAZBgIAGAgxFhA0xXgpADYB8WggGRW1BQUFBQgVZbYAFgoGACCgMzgRZgAIGBUmAEYCCQgVJgQICDIJSHFoCEUpSQkVKAgiCFkFWQkpGQf4xb4eXr7H1b0U9xQn0ehPPdAxTA97IpHlsgCsjHw7klkIWQUZCBUmAgAWBAUYCRA5CjUGABkpFQUFZbYAFgoGACCgMwFjGQVltgAWCgYAIKA4MWYACQgVJgA2AgUmBAgSBUgpAQFWEEEVdgAID9WzNgAWCgYAIKAxaEYAFgoGACCgMWFBWAFWEEW1dQYAFgoGACCgOAhRZgAJCBUmAEYCCQgVJgQICDIDOQlBaDUpKQUiBUYAAZFBVbFWEEwldgAWCgYAIKA4CFFmAAkIFSYARgIJCBUmBAgIMgM5CUFoNSkpBSIFSCkBAVYQSUV2AAgP1bYAFgoGACCgOAhRZgAJCBUmAEYCCQgVJgQICDIDOQlBaDUpKQUiCAVIOQA5BVW2ABYKBgAgoDgIUWYACBgVJgA2AgUmBAgIIggFSHkAOQVZKGFoCCUpCDkCCAVIYBkFWRf93yUq0b4sibacKwaPw3jaqVK6fxY8ShFij1Wk31I7PvkIWQUZCBUmAgAWBAUYCRA5CjUGABk5JQUFBWW2ABYKBgAgoDMxZgAJCBUmADYCBSYECQIFSBkBAVYQVXV2AAgP1bYAFgoGACCgMzFmAAgYFSYANgIFJgQJCBkCCAVISQA5BVghVhCPwCkIOQUWAAYEBRgIMDgYWIiPGTUFBQUBUVYQWfV2AAgP1bM2ABYKBgAgoDFn9/z1MsFfCm2wvW0OA4vqcdMNgIx9mMs79yaKlb9QgbZYJgQFGQgVJgIAFgQFGAkQOQolBWW2ACVGD/FoFWW2ADYCBSYACQgVJgQJAgVIFWW2ABgFRgAYFgARYVYQEAAgMWYAKQBIBgHwFgIICRBAJgIAFgQFGQgQFgQFKAkpGQgYFSYCABgoBUYAGBYAEWFWEBAAIDFmACkASAFWEDaVeAYB8QYQM+V2EBAICDVAQCg1KRYCABkWEDaVZbYABhBnIzhIRhA+tWW5OSUFBQVltgBGAgkIFSYACSg1JgQICEIJCRUpCCUpAgVIFWAKFlYnp6cjBYIGGg+Han5qM0PXP/FmEH0DoeoaY0iw8fIx4FFLRks15FACk="
	//s := "YIBgQFI0gBVhABBXYACA/VtQYAQ2EGEBC1dgADVg4ByAY1qm5nURYQCiV4BjpFfC1xFhAHFXgGOkV8LXFGEFA1eAY6kFnLsUYQVnV4BjqwM+qRRhBctXgGPdYu0+FGEGD1eAY/RuzMQUYQaHV2EBC1ZbgGNapuZ1FGEDsFeAY3CggjEUYQPkV4BjldibQRRhBDxXgGOYOy1WFGEEv1dhAQtWW4BjMJKv1RFhAN5XgGMwkq/VFGECmVeAYzE85WcUYQLdV4BjOVCTURRhAv5XgGNAwQ8ZFGEDYldhAQtWW4BjBv3eAxRhARBXgGMJXqezFGEBk1eAYxgWDd0UYQH3V4BjI7hy3RRhAhVXW2AAgP1bYQEYYQbhVltgQFGAgGAgAYKBA4JSg4GBUYFSYCABkVCAUZBgIAGQgIODYABbg4EQFWEBWFeAggFRgYQBUmAggQGQUGEBPVZbUFBQUJBQkIEBkGAfFoAVYQGFV4CCA4BRYAGDYCADYQEACgMZFoFSYCABkVBbUJJQUFBgQFGAkQOQ81thAd9gBIA2A2BAgRAVYQGpV2AAgP1bgQGQgIA1c///////////////////////////FpBgIAGQkpGQgDWQYCABkJKRkFBQUGEHg1ZbYEBRgIIVFYFSYCABkVBQYEBRgJEDkPNbYQH/YQehVltgQFGAgoFSYCABkVBQYEBRgJEDkPNbYQKBYASANgNgYIEQFWECK1dgAID9W4EBkICANXP//////////////////////////xaQYCABkJKRkIA1c///////////////////////////FpBgIAGQkpGQgDWQYCABkJKRkFBQUGEHq1ZbYEBRgIIVFYFSYCABkVBQYEBRgJEDkPNbYQLbYASANgNgIIEQFWECr1dgAID9W4EBkICANXP//////////////////////////xaQYCABkJKRkFBQUGEIhFZbAFthAuVhCaJWW2BAUYCCYP8WgVJgIAGRUFBgQFGAkQOQ81thA0pgBIA2A2BAgRAVYQMUV2AAgP1bgQGQgIA1c///////////////////////////FpBgIAGQkpGQgDWQYCABkJKRkFBQUGEJuVZbYEBRgIIVFYFSYCABkVBQYEBRgJEDkPNbYQOuYASANgNgQIEQFWEDeFdgAID9W4EBkICANXP//////////////////////////xaQYCABkJKRkIA1kGAgAZCSkZBQUFBhCmxWWwBbYQO4YQs5VltgQFGAgnP//////////////////////////xaBUmAgAZFQUGBAUYCRA5DzW2EEJmAEgDYDYCCBEBVhA/pXYACA/VuBAZCAgDVz//////////////////////////8WkGAgAZCSkZBQUFBhC19WW2BAUYCCgVJgIAGRUFBgQFGAkQOQ81thBERhC6dWW2BAUYCAYCABgoEDglKDgYFRgVJgIAGRUIBRkGAgAZCAg4NgAFuDgRAVYQSEV4CCAVGBhAFSYCCBAZBQYQRpVltQUFBQkFCQgQGQYB8WgBVhBLFXgIIDgFFgAYNgIANhAQAKAxkWgVJgIAGRUFtQklBQUGBAUYCRA5DzW2EFAWAEgDYDYCCBEBVhBNVXYACA/VuBAZCAgDVz//////////////////////////8WkGAgAZCSkZBQUFBhDElWWwBbYQVPYASANgNgQIEQFWEFGVdgAID9W4EBkICANXP//////////////////////////xaQYCABkJKRkIA1kGAgAZCSkZBQUFBhDWdWW2BAUYCCFRWBUmAgAZFQUGBAUYCRA5DzW2EFs2AEgDYDYECBEBVhBX1XYACA/VuBAZCAgDVz//////////////////////////8WkGAgAZCSkZCANZBgIAGQkpGQUFBQYQ40VltgQFGAghUVgVJgIAGRUFBgQFGAkQOQ81thBg1gBIA2A2AggRAVYQXhV2AAgP1bgQGQgIA1c///////////////////////////FpBgIAGQkpGQUFBQYQ5SVlsAW2EGcWAEgDYDYECBEBVhBiVXYACA/VuBAZCAgDVz//////////////////////////8WkGAgAZCSkZCANXP//////////////////////////xaQYCABkJKRkFBQUGEPWVZbYEBRgIKBUmAgAZFQUGBAUYCRA5DzW2EGyWAEgDYDYCCBEBVhBp1XYACA/VuBAZCAgDVz//////////////////////////8WkGAgAZCSkZBQUFBhD+BWW2BAUYCCFRWBUmAgAZFQUGBAUYCRA5DzW2BgYAOAVGABgWABFhVhAQACAxZgApAEgGAfAWAggJEEAmAgAWBAUZCBAWBAUoCSkZCBgVJgIAGCgFRgAYFgARYVYQEAAgMWYAKQBIAVYQd5V4BgHxBhB05XYQEAgINUBAKDUpFgIAGRYQd5VluCAZGQYABSYCBgACCQW4FUgVKQYAEBkGAgAYCDEWEHXFeCkANgHxaCAZFbUFBQUFCQUJBWW2AAYQeXYQeQYRCIVluEhGEQkFZbYAGQUJKRUFBWW2AAYAJUkFCQVltgAGEHuISEhGESh1ZbYQh5hGEHxGEQiFZbYQh0hWBAUYBgYAFgQFKAYCiBUmAgAWEYJGAokTlgAWAAi3P//////////////////////////xZz//////////////////////////8WgVJgIAGQgVJgIAFgACBgAGEIKmEQiFZbc///////////////////////////FnP//////////////////////////xaBUmAgAZCBUmAgAWAAIFRhFT2QkpGQY/////8WVlthEJBWW2ABkFCTklBQUFZbYAVgAZBUkGEBAAqQBHP//////////////////////////xZz//////////////////////////8WM3P//////////////////////////xYUYQlHV2BAUX8Iw3mgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFSYAQBgIBgIAGCgQOCUmALgVJgIAGAfyFnb3Zlcm5hbmNlAAAAAAAAAAAAAAAAAAAAAAAAAAAAgVJQYCABkVBQYEBRgJEDkP1bYABgBmAAg3P//////////////////////////xZz//////////////////////////8WgVJgIAGQgVJgIAFgACBgAGEBAAqBVIFg/wIZFpCDFRUCF5BVUFBWW2AAYAVgAJBUkGEBAAqQBGD/FpBQkFZbYABhCmJhCcZhEIhWW4RhCl2FYAFgAGEJ12EQiFZbc///////////////////////////FnP//////////////////////////xaBUmAgAZCBUmAgAWAAIGAAiXP//////////////////////////xZz//////////////////////////8WgVJgIAGQgVJgIAFgACBUYRAAkJGQY/////8WVlthEJBWW2ABkFCSkVBQVltgBmAAM3P//////////////////////////xZz//////////////////////////8WgVJgIAGQgVJgIAFgACBgAJBUkGEBAAqQBGD/FmELK1dgQFF/CMN5oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBUmAEAYCAYCABgoEDglJgB4FSYCABgH8hbWludGVyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFSUGAgAZFQUGBAUYCRA5D9W2ELNYKCYRX9VltQUFZbYAVgAZBUkGEBAAqQBHP//////////////////////////xaBVltgAIBgAINz//////////////////////////8Wc///////////////////////////FoFSYCABkIFSYCABYAAgVJBQkZBQVltgYGAEgFRgAYFgARYVYQEAAgMWYAKQBIBgHwFgIICRBAJgIAFgQFGQgQFgQFKAkpGQgYFSYCABgoBUYAGBYAEWFWEBAAIDFmACkASAFWEMP1eAYB8QYQwUV2EBAICDVAQCg1KRYCABkWEMP1ZbggGRkGAAUmAgYAAgkFuBVIFSkGABAZBgIAGAgxFhDCJXgpADYB8WggGRW1BQUFBQkFCQVltgBWABkFSQYQEACpAEc///////////////////////////FnP//////////////////////////xYzc///////////////////////////FhRhDQxXYEBRfwjDeaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgVJgBAGAgGAgAYKBA4JSYAuBUmAgAYB/IWdvdmVybmFuY2UAAAAAAAAAAAAAAAAAAAAAAAAAAACBUlBgIAGRUFBgQFGAkQOQ/VtgAWAGYACDc///////////////////////////FnP//////////////////////////xaBUmAgAZCBUmAgAWAAIGAAYQEACoFUgWD/AhkWkIMVFQIXkFVQUFZbYABhDiphDXRhEIhWW4RhDiWFYEBRgGBgAWBAUoBgJYFSYCABYRiVYCWROWABYABhDZ5hEIhWW3P//////////////////////////xZz//////////////////////////8WgVJgIAGQgVJgIAFgACBgAIpz//////////////////////////8Wc///////////////////////////FoFSYCABkIFSYCABYAAgVGEVPZCSkZBj/////xZWW2EQkFZbYAGQUJKRUFBWW2AAYQ5IYQ5BYRCIVluEhGESh1ZbYAGQUJKRUFBWW2AFYAGQVJBhAQAKkARz//////////////////////////8Wc///////////////////////////FjNz//////////////////////////8WFGEPFVdgQFF/CMN5oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBUmAEAYCAYCABgoEDglJgC4FSYCABgH8hZ292ZXJuYW5jZQAAAAAAAAAAAAAAAAAAAAAAAAAAAIFSUGAgAZFQUGBAUYCRA5D9W4BgBWABYQEACoFUgXP//////////////////////////wIZFpCDc///////////////////////////FgIXkFVQUFZbYABgAWAAhHP//////////////////////////xZz//////////////////////////8WgVJgIAGQgVJgIAFgACBgAINz//////////////////////////8Wc///////////////////////////FoFSYCABkIFSYCABYAAgVJBQkpFQUFZbYAZgIFKAYABSYEBgACBgAJFQVJBhAQAKkARg/xaBVltgAICChAGQUIOBEBVhEH5XYEBRfwjDeaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgVJgBAGAgGAgAYKBA4JSYBuBUmAgAYB/U2FmZU1hdGg6IGFkZGl0aW9uIG92ZXJmbG93AAAAAACBUlBgIAGRUFBgQFGAkQOQ/VuAkVBQkpFQUFZbYAAzkFCQVltgAHP//////////////////////////xaDc///////////////////////////FhQVYREWV2BAUX8Iw3mgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFSYAQBgIBgIAGCgQOCUmAkgVJgIAGAYRhxYCSROWBAAZFQUGBAUYCRA5D9W2AAc///////////////////////////FoJz//////////////////////////8WFBVhEZxXYEBRfwjDeaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgVJgBAGAgGAgAYKBA4JSYCKBUmAgAYBhF9xgIpE5YEABkVBQYEBRgJEDkP1bgGABYACFc///////////////////////////FnP//////////////////////////xaBUmAgAZCBUmAgAWAAIGAAhHP//////////////////////////xZz//////////////////////////8WgVJgIAGQgVJgIAFgACCBkFVQgXP//////////////////////////xaDc///////////////////////////Fn+MW+Hl6+x9W9FPcUJ9HoTz3QMUwPeyKR5bIArIx8O5JYNgQFGAgoFSYCABkVBQYEBRgJEDkKNQUFBWW2AAc///////////////////////////FoNz//////////////////////////8WFBVhEw1XYEBRfwjDeaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgVJgBAGAgGAgAYKBA4JSYCWBUmAgAYBhGExgJZE5YEABkVBQYEBRgJEDkP1bYABz//////////////////////////8WgnP//////////////////////////xYUFWETk1dgQFF/CMN5oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBUmAEAYCAYCABgoEDglJgI4FSYCABgGEXuWAjkTlgQAGRUFBgQFGAkQOQ/VthE/6BYEBRgGBgAWBAUoBgJoFSYCABYRf+YCaROWAAgIdz//////////////////////////8Wc///////////////////////////FoFSYCABkIFSYCABYAAgVGEVPZCSkZBj/////xZWW2AAgIVz//////////////////////////8Wc///////////////////////////FoFSYCABkIFSYCABYAAggZBVUGEUkYFgAICFc///////////////////////////FnP//////////////////////////xaBUmAgAZCBUmAgAWAAIFRhEACQkZBj/////xZWW2AAgIRz//////////////////////////8Wc///////////////////////////FoFSYCABkIFSYCABYAAggZBVUIFz//////////////////////////8Wg3P//////////////////////////xZ/3fJSrRviyJtpwrBo/DeNqpUrp/FjxKEWKPVaTfUjs++DYEBRgIKBUmAgAZFQUGBAUYCRA5CjUFBQVltgAIODERWCkGEV6ldgQFF/CMN5oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBUmAEAYCAYCABgoEDglKDgYFRgVJgIAGRUIBRkGAgAZCAg4NgAFuDgRAVYRWvV4CCAVGBhAFSYCCBAZBQYRWUVltQUFBQkFCQgQGQYB8WgBVhFdxXgIIDgFFgAYNgIANhAQAKAxkWgVJgIAGRUFtQklBQUGBAUYCRA5D9W1BgAIOFA5BQgJFQUJOSUFBQVltgAHP//////////////////////////xaCc///////////////////////////FhQVYRagV2BAUX8Iw3mgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFSYAQBgIBgIAGCgQOCUmAfgVJgIAGAf0VSQzIwOiBtaW50IHRvIHRoZSB6ZXJvIGFkZHJlc3MAgVJQYCABkVBQYEBRgJEDkP1bYRa1gWACVGEQAJCRkGP/////FlZbYAKBkFVQYRcMgWAAgIVz//////////////////////////8Wc///////////////////////////FoFSYCABkIFSYCABYAAgVGEQAJCRkGP/////FlZbYACAhHP//////////////////////////xZz//////////////////////////8WgVJgIAGQgVJgIAFgACCBkFVQgXP//////////////////////////xZgAHP//////////////////////////xZ/3fJSrRviyJtpwrBo/DeNqpUrp/FjxKEWKPVaTfUjs++DYEBRgIKBUmAgAZFQUGBAUYCRA5CjUFBW/kVSQzIwOiB0cmFuc2ZlciB0byB0aGUgemVybyBhZGRyZXNzRVJDMjA6IGFwcHJvdmUgdG8gdGhlIHplcm8gYWRkcmVzc0VSQzIwOiB0cmFuc2ZlciBhbW91bnQgZXhjZWVkcyBiYWxhbmNlRVJDMjA6IHRyYW5zZmVyIGFtb3VudCBleGNlZWRzIGFsbG93YW5jZUVSQzIwOiB0cmFuc2ZlciBmcm9tIHRoZSB6ZXJvIGFkZHJlc3NFUkMyMDogYXBwcm92ZSBmcm9tIHRoZSB6ZXJvIGFkZHJlc3NFUkMyMDogZGVjcmVhc2VkIGFsbG93YW5jZSBiZWxvdyB6ZXJvomRpcGZzWCISIGvMAU+pShOyOmbrUPVmJmru/NWj9lJSbLqJT5dSF2kAZHNvbGNDAAYMADM="
	//s := "YIBgQFI0gBVhABBXYACA/VtQYAQ2EGEBqFdgADVg4ByAY3sKR+4RYQD5V4BjvjLPjRFhAJdXgGPfE21lEWEAcVeAY98TbWUUYQXpV4Bj6frY7hRhBgdXgGPr4rErFGEGEVeAY/L944sUYQYvV2EBqFZbgGO+Ms+NFGEFeVeAY8jzPJEUYQWtV4BjzT2vnRRhBctXYQGoVluAY42liJcRYQDTV4BjjaWIlxRhBNlXgGONpctbFGEE91eAY48y1ZsUYQUrV4BjppT8OhRhBUtXYQGoVluAY3sKR+4UYQRFV4BjgPqlfRRhBGNXgGOLh2NHFGEEgVdhAahWW4BjLhp9TRFhAWZXgGNfy9KFEWEBQFeAY1/L0oUUYQN3V4BjcKCCMRRhA6tXgGNxUBimFGEEA1eAY3pEKzsUYQQNV2EBqFZbgGMuGn1NFGEDEVeAYzxrFqsUYQM/V4BjPRi5EhRhA21XYQGoVluAYozCYhRhAa1XgGMHAAN9FGECBVeAYw1ot2EUYQJdV4BjEBEUzxRhAqFXgGMYFg3dFGEC1VeAYxvgUokUYQLzV1tgAID9W2EB72AEgDYDYCCBEBVhAcNXYACA/VuBAZCAgDVz//////////////////////////8WkGAgAZCSkZBQUFBhBnNWW2BAUYCCgVJgIAGRUFBgQFGAkQOQ81thAkdgBIA2A2AggRAVYQIbV2AAgP1bgQGQgIA1c///////////////////////////FpBgIAGQkpGQUFBQYQdaVltgQFGAgoFSYCABkVBQYEBRgJEDkPNbYQKfYASANgNgIIEQFWECc1dgAID9W4EBkICANXP//////////////////////////xaQYCABkJKRkFBQUGEHclZbAFthAqlhCDBWW2BAUYCCc///////////////////////////FoFSYCABkVBQYEBRgJEDkPNbYQLdYQhWVltgQFGAgoFSYCABkVBQYEBRgJEDkPNbYQL7YQhgVltgQFGAgoFSYCABkVBQYEBRgJEDkPNbYQM9YASANgNgIIEQFWEDJ1dgAID9W4EBkICANZBgIAGQkpGQUFBQYQhmVlsAW2EDa2AEgDYDYCCBEBVhA1VXYACA/VuBAZCAgDWQYCABkJKRkFBQUGEKk1ZbAFthA3VhDZVWWwBbYQN/YQ/sVltgQFGAgnP//////////////////////////xaBUmAgAZFQUGBAUYCRA5DzW2ED7WAEgDYDYCCBEBVhA8FXYACA/VuBAZCAgDVz//////////////////////////8WkGAgAZCSkZBQUFBhEBBWW2BAUYCCgVJgIAGRUFBgQFGAkQOQ81thBAthEFlWWwBbYQRDYASANgNgQIEQFWEEI1dgAID9W4EBkICANZBgIAGQkpGQgDWQYCABkJKRkFBQUGERlFZbAFthBE1hElxWW2BAUYCCgVJgIAGRUFBgQFGAkQOQ81thBGthEmJWW2BAUYCCgVJgIAGRUFBgQFGAkQOQ81thBMNgBIA2A2AggRAVYQSXV2AAgP1bgQGQgIA1c///////////////////////////FpBgIAGQkpGQUFBQYRJ1VltgQFGAgoFSYCABkVBQYEBRgJEDkPNbYQThYRKNVltgQFGAgoFSYCABkVBQYEBRgJEDkPNbYQT/YRKTVltgQFGAgnP//////////////////////////xaBUmAgAZFQUGBAUYCRA5DzW2EFM2ESvVZbYEBRgIIVFYFSYCABkVBQYEBRgJEDkPNbYQV3YASANgNgIIEQFWEFYVdgAID9W4EBkICANZBgIAGQkpGQUFBQYRMcVlsAW2EFgWEVSVZbYEBRgIJz//////////////////////////8WgVJgIAGRUFBgQFGAkQOQ81thBbVhFW9WW2BAUYCCgVJgIAGRUFBgQFGAkQOQ81thBdNhFXVWW2BAUYCCgVJgIAGRUFBgQFGAkQOQ81thBfFhFg1WW2BAUYCCgVJgIAGRUFBgQFGAkQOQ81thBg9hFhNWWwBbYQYZYRYuVltgQFGAgoFSYCABkVBQYEBRgJEDkPNbYQZxYASANgNgIIEQFWEGRVdgAID9W4EBkICANXP//////////////////////////xaQYCABkJKRkFBQUGEWNFZbAFtgAGEHU2ANYACEc///////////////////////////FnP//////////////////////////xaBUmAgAZCBUmAgAWAAIFRhB0VnDeC2s6dkAABhBzdhByBgDGAAiXP//////////////////////////xZz//////////////////////////8WgVJgIAGQgVJgIAFgACBUYQcSYRV1VlthFrqQkZBj/////xZWW2EHKYhhEBBWW2EXBJCRkGP/////FlZbYReKkJGQY/////8WVlthF9SQkZBj/////xZWW5BQkZBQVltgDWAgUoBgAFJgQGAAIGAAkVCQUFSBVlthB3phEr1WW2EH7FdgQFF/CMN5oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBUmAEAYCAYCABgoEDglJgIIFSYCABgH9Pd25hYmxlOiBjYWxsZXIgaXMgbm90IHRoZSBvd25lcoFSUGAgAZFQUGBAUYCRA5D9W4BgBGAAYQEACoFUgXP//////////////////////////wIZFpCDc///////////////////////////FgIXkFVQUFZbYARgAJBUkGEBAAqQBHP//////////////////////////xaBVltgAGABVJBQkFZbYAZUgVZbM2EIb2EVdVZbYAuBkFVQYQh9YRJiVltgCoGQVVBgAHP//////////////////////////xaBc///////////////////////////FhRhCUpXYQjAgWEGc1ZbYA1gAINz//////////////////////////8Wc///////////////////////////FoFSYCABkIFSYCABYAAggZBVUGALVGAMYACDc///////////////////////////FnP//////////////////////////xaBUmAgAZCBUmAgAWAAIIGQVVBbYAdUQhAVYQnCV2BAUX8Iw3mgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFSYAQBgIBgIAGCgQOCUmAJgVJgIAGAf25vdCBzdGFydAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgVJQYCABkVBQYEBRgJEDkP1bYACCEWEKOFdgQFF/CMN5oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBUmAEAYCAYCABgoEDglJgEYFSYCABgH9DYW5ub3Qgd2l0aGRyYXcgMAAAAAAAAAAAAAAAAAAAAIFSUGAgAZFQUGBAUYCRA5D9W2EKQYJhGFxWWzNz//////////////////////////8Wf3CE9UdmGNjmCxHvDX0/BpFGVa24eT4o/38BjUx21QXVg2BAUYCCgVJgIAGRUFBgQFGAkQOQolBQVltgBGAAkFSQYQEACpAEc///////////////////////////FnP//////////////////////////xZhCtRhGVpWW3P//////////////////////////xYUYQtAV2BAUX8Iw3mgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFSYAQBgIBgIAGCgQOCUmAhgVJgIAGAYSGIYCGROWBAAZFQUGBAUYCRA5D9W2AAYQtKYRV1VltgC4GQVVBhC1hhEmJWW2AKgZBVUGAAc///////////////////////////FoFz//////////////////////////8WFGEMJVdhC5uBYQZzVltgDWAAg3P//////////////////////////xZz//////////////////////////8WgVJgIAGQgVJgIAFgACCBkFVQYAtUYAxgAINz//////////////////////////8Wc///////////////////////////FoFSYCABkIFSYCABYAAggZBVUFtgB1RCERVhDRhXYAhUQhBhDFhXYQxNYAZUg2EXipCRkGP/////FlZbYAmBkFVQYQy6VltgAGEMb0JgCFRhFrqQkZBj/////xZWW5BQYABhDIhgCVSDYRcEkJGQY/////8WVluQUGEMsWAGVGEMo4OHYRfUkJGQY/////8WVlthF4qQkZBj/////xZWW2AJgZBVUFBQW0JgCoGQVVBhDNZgBlRCYRfUkJGQY/////8WVltgCIGQVVB/3oipIuDTuIsk6WI+/rRkkZxr+fZoV6ZeK/zyzoepQz2CYEBRgIKBUmAgAZFQUGBAUYCRA5ChYQ2RVlthDS1gBlSDYReKkJGQY/////8WVltgCYGQVVBgB1RgCoGQVVBhDVNgBlRgB1RhF9SQkZBj/////xZWW2AIgZBVUH/eiKki4NO4iyTpYj7+tGSRnGv59mhXpl4r/PLOh6lDPYJgQFGAgoFSYCABkVBQYEBRgJEDkKFbUFBWWzNhDZ5hFXVWW2ALgZBVUGENrGESYlZbYAqBkFVQYABz//////////////////////////8WgXP//////////////////////////xYUYQ55V2EN74FhBnNWW2ANYACDc///////////////////////////FnP//////////////////////////xaBUmAgAZCBUmAgAWAAIIGQVVBgC1RgDGAAg3P//////////////////////////xZz//////////////////////////8WgVJgIAGQgVJgIAFgACCBkFVQW2AHVEIQFWEO8VdgQFF/CMN5oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBUmAEAYCAYCABgoEDglJgCYFSYCABgH9ub3Qgc3RhcnQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFSUGAgAZFQUGBAUYCRA5D9W2AAYQ78M2EGc1ZbkFBgAIERFWEP6FdgAGANYAAzc///////////////////////////FnP//////////////////////////xaBUmAgAZCBUmAgAWAAIIGQVVBhD5kzgmAFYACQVJBhAQAKkARz//////////////////////////8Wc///////////////////////////FmEZYpCSkZBj/////xZWWzNz//////////////////////////8Wf+JANkC6aP7ToviLdVdVHRmT+EuZuxD/gz8M+NsMXgSGgmBAUYCCgVJgIAGRUFBgQFGAkQOQoltQUFZbYACAVJBhAQAKkARz//////////////////////////8WgVZbYABgAmAAg3P//////////////////////////xZz//////////////////////////8WgVJgIAGQgVJgIAFgACBUkFCRkFBWW2EQYWESvVZbYRDTV2BAUX8Iw3mgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFSYAQBgIBgIAGCgQOCUmAggVJgIAGAf093bmFibGU6IGNhbGxlciBpcyBub3QgdGhlIG93bmVygVJQYCABkVBQYEBRgJEDkP1bYABz//////////////////////////8WYANgAJBUkGEBAAqQBHP//////////////////////////xZz//////////////////////////8Wf4vgB5xTFlkUE0TNH9Ck8oQZSX+XIqPar+O0GG9rZFfgYEBRYEBRgJEDkKNgAGADYABhAQAKgVSBc///////////////////////////AhkWkINz//////////////////////////8WAheQVVBWW2AEYACQVJBhAQAKkARz//////////////////////////8Wc///////////////////////////FmER1WEZWlZbc///////////////////////////FhRhEkFXYEBRfwjDeaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgVJgBAGAgGAgAYKBA4JSYCGBUmAgAYBhIYhgIZE5YEABkVBQYEBRgJEDkP1bQmAHgZBVUIFgBoGQVVBhEliBYQqTVltQUFZbYAlUgVZbYABhEnBCYAhUYRoEVluQUJBWW2AMYCBSgGAAUmBAYAAgYACRUJBQVIFWW2AHVIFWW2AAYANgAJBUkGEBAAqQBHP//////////////////////////xaQUJBWW2AAYANgAJBUkGEBAAqQBHP//////////////////////////xZz//////////////////////////8WYRMAYRlaVltz//////////////////////////8WFJBQkFZbM2ETJWEVdVZbYAuBkFVQYRMzYRJiVltgCoGQVVBgAHP//////////////////////////xaBc///////////////////////////FhRhFABXYRN2gWEGc1ZbYA1gAINz//////////////////////////8Wc///////////////////////////FoFSYCABkIFSYCABYAAggZBVUGALVGAMYACDc///////////////////////////FnP//////////////////////////xaBUmAgAZCBUmAgAWAAIIGQVVBbYAdUQhAVYRR4V2BAUX8Iw3mgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFSYAQBgIBgIAGCgQOCUmAJgVJgIAGAf25vdCBzdGFydAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgVJQYCABkVBQYEBRgJEDkP1bYACCEWEU7ldgQFF/CMN5oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBUmAEAYCAYCABgoEDglJgDoFSYCABgH9DYW5ub3Qgc3Rha2UgMAAAAAAAAAAAAAAAAAAAAAAAAIFSUGAgAZFQUGBAUYCRA5D9W2EU94JhGh1WWzNz//////////////////////////8Wf55xvI7qAqY5afUJgY8tr7klRTKQQxn529p5tnvTSl89g2BAUYCCgVJgIAGRUFBgQFGAkQOQolBQVltgBWAAkFSQYQEACpAEc///////////////////////////FoFWW2AKVIFWW2AAgGEVgGEIVlZbFBVhFZBXYAtUkFBhFgpWW2EWB2EV9mEVnmEIVlZbYRXoZw3gtrOnZAAAYRXaYAlUYRXMYApUYRW+YRJiVlthFrqQkZBj/////xZWW2EXBJCRkGP/////FlZbYRcEkJGQY/////8WVlthF4qQkZBj/////xZWW2ALVGEX1JCRkGP/////FlZbkFBbkFZbYAtUgVZbYRYkYRYfM2EQEFZbYQhmVlthFixhDZVWW1ZbYAhUgVZbYRY8YRK9VlthFq5XYEBRfwjDeaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgVJgBAGAgGAgAYKBA4JSYCCBUmAgAYB/T3duYWJsZTogY2FsbGVyIGlzIG5vdCB0aGUgb3duZXKBUlBgIAGRUFBgQFGAkQOQ/VthFreBYRsdVltQVltgAGEW/IODYEBRgGBAAWBAUoBgHoFSYCABf1NhZmVNYXRoOiBzdWJ0cmFjdGlvbiBvdmVyZmxvdwAAgVJQYRxjVluQUJKRUFBWW2AAgIMUFWEXF1dgAJBQYReEVltgAIKEApBQgoSCgWEXKFf+WwQUYRd/V2BAUX8Iw3mgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFSYAQBgIBgIAGCgQOCUmAhgVJgIAGAYSFnYCGROWBAAZFQUGBAUYCRA5D9W4CRUFBbkpFQUFZbYABhF8yDg2BAUYBgQAFgQFKAYBqBUmAgAX9TYWZlTWF0aDogZGl2aXNpb24gYnkgemVybwAAAAAAAIFSUGEdI1ZbkFCSkVBQVltgAICChAGQUIOBEBVhGFJXYEBRfwjDeaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgVJgBAGAgGAgAYKBA4JSYBuBUmAgAYB/U2FmZU1hdGg6IGFkZGl0aW9uIG92ZXJmbG93AAAAAACBUlBgIAGRUFBgQFGAkQOQ/VuAkVBQkpFQUFZbYRhxgWABVGEWupCRkGP/////FlZbYAGBkFVQYRjJgWACYAAzc///////////////////////////FnP//////////////////////////xaBUmAgAZCBUmAgAWAAIFRhFrqQkZBj/////xZWW2ACYAAzc///////////////////////////FnP//////////////////////////xaBUmAgAZCBUmAgAWAAIIGQVVBhGVczgmAAgFSQYQEACpAEc///////////////////////////FnP//////////////////////////xZhGWKQkpGQY/////8WVltQVltgADOQUJBWW2EZ/4NjqQWcu2DgG4SEYEBRYCQBgINz//////////////////////////8WgVJgIAGCgVJgIAGSUFBQYEBRYCCBgwMDgVKQYEBSkHv/////////////////////////////////////GRZgIIIBgFF7/////////////////////////////////////4OBgxYXg1JQUFBQYR3pVltQUFBWW2AAgYMQYRoTV4FhGhVWW4JbkFCSkVBQVlthGjKBYAFUYRfUkJGQY/////8WVltgAYGQVVBhGoqBYAJgADNz//////////////////////////8Wc///////////////////////////FoFSYCABkIFSYCABYAAgVGEX1JCRkGP/////FlZbYAJgADNz//////////////////////////8Wc///////////////////////////FoFSYCABkIFSYCABYAAggZBVUGEbGjMwg2AAgFSQYQEACpAEc///////////////////////////FnP//////////////////////////xZhIDSQk5KRkGP/////FlZbUFZbYABz//////////////////////////8WgXP//////////////////////////xYUFWEbo1dgQFF/CMN5oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBUmAEAYCAYCABgoEDglJgJoFSYCABgGEhQWAmkTlgQAGRUFBgQFGAkQOQ/VuAc///////////////////////////FmADYACQVJBhAQAKkARz//////////////////////////8Wc///////////////////////////Fn+L4AecUxZZFBNEzR/QpPKEGUl/lyKj2q/jtBhva2RX4GBAUWBAUYCRA5CjgGADYABhAQAKgVSBc///////////////////////////AhkWkINz//////////////////////////8WAheQVVBQVltgAIODERWCkGEdEFdgQFF/CMN5oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBUmAEAYCAYCABgoEDglKDgYFRgVJgIAGRUIBRkGAgAZCAg4NgAFuDgRAVYRzVV4CCAVGBhAFSYCCBAZBQYRy6VltQUFBQkFCQgQGQYB8WgBVhHQJXgIIDgFFgAYNgIANhAQAKAxkWgVJgIAGRUFtQklBQUGBAUYCRA5D9W1BgAIOFA5BQgJFQUJOSUFBQVltgAICDEYKQYR3PV2BAUX8Iw3mgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFSYAQBgIBgIAGCgQOCUoOBgVGBUmAgAZFQgFGQYCABkICDg2AAW4OBEBVhHZRXgIIBUYGEAVJgIIEBkFBhHXlWW1BQUFCQUJCBAZBgHxaAFWEdwVeAggOAUWABg2AgA2EBAAoDGRaBUmAgAZFQW1CSUFBQYEBRgJEDkP1bUGAAg4WBYR3bV/5bBJBQgJFQUJOSUFBQVlthHgiCc///////////////////////////FmEg9VZbYR56V2BAUX8Iw3mgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFSYAQBgIBgIAGCgQOCUmAfgVJgIAGAf1NhZmVFUkMyMDogY2FsbCB0byBub24tY29udHJhY3QAgVJQYCABkVBQYEBRgJEDkP1bYABgYINz//////////////////////////8Wg2BAUYCCgFGQYCABkICDg1tgIIMQYR7JV4BRglJgIIIBkVBgIIEBkFBgIIMDklBhHqZWW2ABg2AgA2EBAAoDgBmCURaBhFEWgIIXhVJQUFBQUFCQUAGRUFBgAGBAUYCDA4FgAIZa8ZFQUD2AYACBFGEfK1dgQFGRUGAfGWA/PQEWggFgQFI9glI9YABgIIQBPmEfMFZbYGCRUFtQkVCRUIFhH6hXYEBRfwjDeaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgVJgBAGAgGAgAYKBA4JSYCCBUmAgAYB/U2FmZUVSQzIwOiBsb3ctbGV2ZWwgY2FsbCBmYWlsZWSBUlBgIAGRUFBgQFGAkQOQ/VtgAIFRERVhIC5XgIBgIAGQUWAggRAVYR/HV2AAgP1bgQGQgIBRkGAgAZCSkZBQUFBhIC1XYEBRfwjDeaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgVJgBAGAgGAgAYKBA4JSYCqBUmAgAYBhIalgKpE5YEABkVBQYEBRgJEDkP1bW1BQUFBWW2Eg74RjI7hy3WDgG4WFhWBAUWAkAYCEc///////////////////////////FoFSYCABg3P//////////////////////////xaBUmAgAYKBUmAgAZNQUFBQYEBRYCCBgwMDgVKQYEBSkHv/////////////////////////////////////GRZgIIIBgFF7/////////////////////////////////////4OBgxYXg1JQUFBQYR3pVltQUFBQVltgAIBgAH/F0kYBhvcjPJJ+fbLcxwPA5QC2U8qCJzt7+tgEXYWkcGAAG5BQgz+RUGAAgBuCFBWAFWEhN1dQgIIUFVuSUFBQkZBQVv5Pd25hYmxlOiBuZXcgb3duZXIgaXMgdGhlIHplcm8gYWRkcmVzc1NhZmVNYXRoOiBtdWx0aXBsaWNhdGlvbiBvdmVyZmxvd0NhbGxlciBpcyBub3QgcmV3YXJkIGRpc3RyaWJ1dGlvblNhZmVFUkMyMDogRVJDMjAgb3BlcmF0aW9uIGRpZCBub3Qgc3VjY2VlZKJkaXBmc1giEiDBvmxIieaHr4vCfHsgtPgErdao/xvQCFe7he8Ty0WVFWRzb2xjQwAGDAAz"
	s := "AAAAAAAAAAAAAAAAAAAAAAAAAAAACEVfARPnjc+cSAM="
	b, _ := base64.StdEncoding.DecodeString(s)
	fmt.Printf("%v\n", common.Bytes2Hex(b))
	fmt.Printf("%v\n", b)

	a := big.NewInt(0)
	a.SetBytes(b)
	fmt.Printf("%v\n", a.String())
}

func TestVM10(t *testing.T) {
	mockInit()
	common.DefaultLogger = log.GetLoggerByIndex(log.VMLogConfig, "0")
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	var (
		usdtContractData = "0x608060405260008060146101000a81548160ff021916908315150217905550600060035560006004553480156200003557600080fd5b5060405162002ead38038062002ead83398101806040528101908080519060200190929190805182019291906020018051820192919060200180519060200190929190505050336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550836001819055508260079080519060200190620000da92919062000185565b508160089080519060200190620000f392919062000185565b508060098190555083600260008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506000600a60146101000a81548160ff0219169083151502179055505050505062000234565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620001c857805160ff1916838001178555620001f9565b82800160010185558215620001f9579182015b82811115620001f8578251825591602001919060010190620001db565b5b5090506200020891906200020c565b5090565b6200023191905b808211156200022d57600081600090555060010162000213565b5090565b90565b612c6980620002446000396000f300608060405260043610610196576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806306fdde031461019b5780630753c30c1461022b578063095ea7b31461026e5780630e136b19146102bb5780630ecb93c0146102ea57806318160ddd1461032d57806323b872dd1461035857806326976e3f146103c557806327e235e31461041c578063313ce56714610473578063353907141461049e5780633eaaf86b146104c95780633f4ba83a146104f457806359bf1abe1461050b5780635c658165146105665780635c975abb146105dd57806370a082311461060c5780638456cb5914610663578063893d20e81461067a5780638da5cb5b146106d157806395d89b4114610728578063a9059cbb146107b8578063c0324c7714610805578063cc872b661461083c578063db006a7514610869578063dd62ed3e14610896578063dd644f721461090d578063e47d606014610938578063e4997dc514610993578063e5b5019a146109d6578063f2fde38b14610a01578063f3bdc22814610a44575b600080fd5b3480156101a757600080fd5b506101b0610a87565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156101f05780820151818401526020810190506101d5565b50505050905090810190601f16801561021d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561023757600080fd5b5061026c600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610b25565b005b34801561027a57600080fd5b506102b9600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610c42565b005b3480156102c757600080fd5b506102d0610d95565b604051808215151515815260200191505060405180910390f35b3480156102f657600080fd5b5061032b600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610da8565b005b34801561033957600080fd5b50610342610ec1565b6040518082815260200191505060405180910390f35b34801561036457600080fd5b506103c3600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610fa9565b005b3480156103d157600080fd5b506103da61118e565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561042857600080fd5b5061045d600480360381019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506111b4565b6040518082815260200191505060405180910390f35b34801561047f57600080fd5b506104886111cc565b6040518082815260200191505060405180910390f35b3480156104aa57600080fd5b506104b36111d2565b6040518082815260200191505060405180910390f35b3480156104d557600080fd5b506104de6111d8565b6040518082815260200191505060405180910390f35b34801561050057600080fd5b506105096111de565b005b34801561051757600080fd5b5061054c600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061129c565b604051808215151515815260200191505060405180910390f35b34801561057257600080fd5b506105c7600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506112f2565b6040518082815260200191505060405180910390f35b3480156105e957600080fd5b506105f2611317565b604051808215151515815260200191505060405180910390f35b34801561061857600080fd5b5061064d600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061132a565b6040518082815260200191505060405180910390f35b34801561066f57600080fd5b50610678611451565b005b34801561068657600080fd5b5061068f611511565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156106dd57600080fd5b506106e661153a565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561073457600080fd5b5061073d61155f565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561077d578082015181840152602081019050610762565b50505050905090810190601f1680156107aa5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156107c457600080fd5b50610803600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506115fd565b005b34801561081157600080fd5b5061083a60048036038101908080359060200190929190803590602001909291905050506117ac565b005b34801561084857600080fd5b5061086760048036038101908080359060200190929190505050611891565b005b34801561087557600080fd5b5061089460048036038101908080359060200190929190505050611a88565b005b3480156108a257600080fd5b506108f7600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611c1b565b6040518082815260200191505060405180910390f35b34801561091957600080fd5b50610922611d78565b6040518082815260200191505060405180910390f35b34801561094457600080fd5b50610979600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611d7e565b604051808215151515815260200191505060405180910390f35b34801561099f57600080fd5b506109d4600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611d9e565b005b3480156109e257600080fd5b506109eb611eb7565b6040518082815260200191505060405180910390f35b348015610a0d57600080fd5b50610a42600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611edb565b005b348015610a5057600080fd5b50610a85600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611fb0565b005b60078054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610b1d5780601f10610af257610100808354040283529160200191610b1d565b820191906000526020600020905b815481529060010190602001808311610b0057829003601f168201915b505050505081565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610b8057600080fd5b6001600a60146101000a81548160ff02191690831515021790555080600a60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507fcc358699805e9a8b7f77b522628c7cb9abd07d9efb86b6fb616af1609036a99e81604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a150565b604060048101600036905010151515610c5a57600080fd5b600a60149054906101000a900460ff1615610d8557600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663aee92d333385856040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050600060405180830381600087803b158015610d6857600080fd5b505af1158015610d7c573d6000803e3d6000fd5b50505050610d90565b610d8f8383612134565b5b505050565b600a60149054906101000a900460ff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610e0357600080fd5b6001600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055507f42e160154868087d6bfdc0ca23d96a1c1cfa32f1b72ba9ba27b69b98a0d819dc81604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a150565b6000600a60149054906101000a900460ff1615610fa057600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166318160ddd6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b158015610f5e57600080fd5b505af1158015610f72573d6000803e3d6000fd5b505050506040513d6020811015610f8857600080fd5b81019080805190602001909291905050509050610fa6565b60015490505b90565b600060149054906101000a900460ff16151515610fc557600080fd5b600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1615151561101e57600080fd5b600a60149054906101000a900460ff161561117d57600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b477adb338585856040518563ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001828152602001945050505050600060405180830381600087803b15801561116057600080fd5b505af1158015611174573d6000803e3d6000fd5b50505050611189565b6111888383836122d1565b5b505050565b600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60026020528060005260406000206000915090505481565b60095481565b60045481565b60015481565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561123957600080fd5b600060149054906101000a900460ff16151561125457600080fd5b60008060146101000a81548160ff0219169083151502179055507f7805862f689e2f13df9f062ff482ad3ad112aca9e0847911ed832e158c525b3360405160405180910390a1565b6000600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff169050919050565b6005602052816000526040600020602052806000526040600020600091509150505481565b600060149054906101000a900460ff1681565b6000600a60149054906101000a900460ff161561144057600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166370a08231836040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b1580156113fe57600080fd5b505af1158015611412573d6000803e3d6000fd5b505050506040513d602081101561142857600080fd5b8101908080519060200190929190505050905061144c565b61144982612778565b90505b919050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156114ac57600080fd5b600060149054906101000a900460ff161515156114c857600080fd5b6001600060146101000a81548160ff0219169083151502179055507f6985a02210a168e66602d3235cb6db0e70f92b3ba4d376a33c0f3d9434bff62560405160405180910390a1565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60088054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156115f55780601f106115ca576101008083540402835291602001916115f5565b820191906000526020600020905b8154815290600101906020018083116115d857829003601f168201915b505050505081565b600060149054906101000a900460ff1615151561161957600080fd5b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1615151561167257600080fd5b600a60149054906101000a900460ff161561179d57600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16636e18980a3384846040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050600060405180830381600087803b15801561178057600080fd5b505af1158015611794573d6000803e3d6000fd5b505050506117a8565b6117a782826127c1565b5b5050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561180757600080fd5b60148210151561181657600080fd5b60328110151561182557600080fd5b81600381905550611844600954600a0a82612b2990919063ffffffff16565b6004819055507fb044a1e409eac5c48e5af22d4af52670dd1a99059537a78b31b48c6500a6354e600354600454604051808381526020018281526020019250505060405180910390a15050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156118ec57600080fd5b600154816001540111151561190057600080fd5b600260008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205481600260008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054011115156119d057600080fd5b80600260008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540192505081905550806001600082825401925050819055507fcb8241adb0c3fdb35b70c24ce35c5eb0c17af7431c99f827d44a445ca624176a816040518082815260200191505060405180910390a150565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515611ae357600080fd5b8060015410151515611af457600080fd5b80600260008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205410151515611b6357600080fd5b8060016000828254039250508190555080600260008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055507f702d5967f45f6513a38ffc42d6ba9bf230bd40e8f53b16363c7eb4fd2deb9a44816040518082815260200191505060405180910390a150565b6000600a60149054906101000a900460ff1615611d6557600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663dd62ed3e84846040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200192505050602060405180830381600087803b158015611d2357600080fd5b505af1158015611d37573d6000803e3d6000fd5b505050506040513d6020811015611d4d57600080fd5b81019080805190602001909291905050509050611d72565b611d6f8383612b64565b90505b92915050565b60035481565b60066020528060005260406000206000915054906101000a900460ff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515611df957600080fd5b6000600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055507fd7e9ec6e6ecd65492dce6bf513cd6867560d49544421d0783ddf06e76c24470c81604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a150565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff81565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515611f3657600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515611fad57806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b50565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561200d57600080fd5b600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16151561206557600080fd5b61206e8261132a565b90506000600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550806001600082825403925050819055507f61e6e66b0d6339b2980aecc6ccc0039736791f0ccde9ed512e789a7fbdd698c68282604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019250505060405180910390a15050565b60406004810160003690501015151561214c57600080fd5b600082141580156121da57506000600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205414155b1515156121e657600080fd5b81600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925846040518082815260200191505060405180910390a3505050565b60008060006060600481016000369050101515156122ee57600080fd5b600560008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054935061239661271061238860035488612b2990919063ffffffff16565b612beb90919063ffffffff16565b92506004548311156123a85760045492505b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff841015612464576123e38585612c0690919063ffffffff16565b600560008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055505b6124778386612c0690919063ffffffff16565b91506124cb85600260008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054612c0690919063ffffffff16565b600260008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061256082600260008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054612c1f90919063ffffffff16565b600260008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550600083111561270a5761261f83600260008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054612c1f90919063ffffffff16565b600260008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168773ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef856040518082815260200191505060405180910390a35b8573ffffffffffffffffffffffffffffffffffffffff168773ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a350505050505050565b6000600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6000806040600481016000369050101515156127dc57600080fd5b6128056127106127f760035487612b2990919063ffffffff16565b612beb90919063ffffffff16565b92506004548311156128175760045492505b61282a8385612c0690919063ffffffff16565b915061287e84600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054612c0690919063ffffffff16565b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061291382600260008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054612c1f90919063ffffffff16565b600260008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506000831115612abd576129d283600260008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054612c1f90919063ffffffff16565b600260008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef856040518082815260200191505060405180910390a35b8473ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a35050505050565b6000806000841415612b3e5760009150612b5d565b8284029050828482811515612b4f57fe5b04141515612b5957fe5b8091505b5092915050565b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b6000808284811515612bf957fe5b0490508091505092915050565b6000828211151515612c1457fe5b818303905092915050565b6000808284019050838110151515612c3357fe5b80915050929150505600a165627a7a72305820e4fc3a34d58644d5864db1d059c2745140e4b65f6dbc3d50bf901bbeeca21f130029000000000000000000000000000000000000000000000000002386f26fc10000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a757364745f746f6b656e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000047573647400000000000000000000000000000000000000000000000000000000"
		wRPGContractData = "60806040526040805190810160405280600b81526020017f57726170706564205250470000000000000000000000000000000000000000008152506000908051906020019061004f9291906100ca565b506040805190810160405280600481526020017f57525047000000000000000000000000000000000000000000000000000000008152506001908051906020019061009b9291906100ca565b506012600260006101000a81548160ff021916908360ff1602179055503480156100c457600080fd5b5061016f565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061010b57805160ff1916838001178555610139565b82800160010185558215610139579182015b8281111561013857825182559160200191906001019061011d565b5b509050610146919061014a565b5090565b61016c91905b80821115610168576000816000905550600101610150565b5090565b90565b610c848061017e6000396000f3006080604052600436106100af576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806306fdde03146100b9578063095ea7b31461014957806318160ddd146101ae57806323b872dd146101d95780632e1a7d4d1461025e578063313ce5671461028b57806370a08231146102bc57806395d89b4114610313578063a9059cbb146103a3578063d0e30db014610408578063dd62ed3e14610412575b6100b7610489565b005b3480156100c557600080fd5b506100ce610526565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561010e5780820151818401526020810190506100f3565b50505050905090810190601f16801561013b5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561015557600080fd5b50610194600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506105c4565b604051808215151515815260200191505060405180910390f35b3480156101ba57600080fd5b506101c36106b6565b6040518082815260200191505060405180910390f35b3480156101e557600080fd5b50610244600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506106d5565b604051808215151515815260200191505060405180910390f35b34801561026a57600080fd5b5061028960048036038101908080359060200190929190505050610a22565b005b34801561029757600080fd5b506102a0610b55565b604051808260ff1660ff16815260200191505060405180910390f35b3480156102c857600080fd5b506102fd600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610b68565b6040518082815260200191505060405180910390f35b34801561031f57600080fd5b50610328610b80565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561036857808201518184015260208101905061034d565b50505050905090810190601f1680156103955780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156103af57600080fd5b506103ee600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610c1e565b604051808215151515815260200191505060405180910390f35b610410610489565b005b34801561041e57600080fd5b50610473600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610c33565b6040518082815260200191505060405180910390f35b34600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055503373ffffffffffffffffffffffffffffffffffffffff167fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c346040518082815260200191505060405180910390a2565b60008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105bc5780601f10610591576101008083540402835291602001916105bc565b820191906000526020600020905b81548152906001019060200180831161059f57829003601f168201915b505050505081565b600081600460003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925846040518082815260200191505060405180910390a36001905092915050565b60003073ffffffffffffffffffffffffffffffffffffffff1631905090565b600081600360008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541015151561072557600080fd5b3373ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16141580156107fd57507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205414155b156109185781600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541015151561088d57600080fd5b81600460008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055505b81600360008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254039250508190555081600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a3600190509392505050565b80600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205410151515610a7057600080fd5b80600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055503373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f19350505050158015610b03573d6000803e3d6000fd5b503373ffffffffffffffffffffffffffffffffffffffff167f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65826040518082815260200191505060405180910390a250565b600260009054906101000a900460ff1681565b60036020528060005260406000206000915090505481565b60018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c165780601f10610beb57610100808354040283529160200191610c16565b820191906000526020600020905b815481529060010190602001808311610bf957829003601f168201915b505050505081565b6000610c2b3384846106d5565b905092915050565b60046020528160005260406000206020528060005260406000206000915091505054815600a165627a7a723058208d83d87967718602350c05d7f59993d2ca4c78edd9d8ef953954b8e4ae1fb8df0029"
		proxyData        = "0x608060405234801561001057600080fd5b5060405161092c38038061092c8339818101604052602081101561003357600080fd5b8101908080519060200190929190505050808060405180806108ce60239139602301905060405180910390207f7050c9e0f4ca769c69bd3a8ef740bc37934f8e2c036e5a723fd8ee048ed3f8c360001b1461008a57fe5b6100998161011160201b60201c565b5060405180807f6f72672e7a657070656c696e6f732e70726f78792e61646d696e000000000000815250601a01905060405180910390207f10d6a54a4754c8869d6886b5f5d7fbfa5b4522237ea5c60d11bc4e7a1ff9390b60001b146100fb57fe5b61010a336101a860201b60201c565b50506101ea565b610124816101d760201b6105ea1760201c565b610179576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603b8152602001806108f1603b913960400191505060405180910390fd5b60007f7050c9e0f4ca769c69bd3a8ef740bc37934f8e2c036e5a723fd8ee048ed3f8c360001b90508181555050565b60007f10d6a54a4754c8869d6886b5f5d7fbfa5b4522237ea5c60d11bc4e7a1ff9390b60001b90508181555050565b600080823b905060008111915050919050565b6106d5806101f96000396000f3fe60806040526004361061003f5760003560e01c80633659cfe6146100495780635c60da1b1461009a5780638f283970146100f1578063f851a44014610142575b610047610199565b005b34801561005557600080fd5b506100986004803603602081101561006c57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506101b3565b005b3480156100a657600080fd5b506100af610208565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156100fd57600080fd5b506101406004803603602081101561011457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610217565b005b34801561014e57600080fd5b50610157610390565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6101a161039f565b6101b16101ac610435565b610466565b565b6101bb61048c565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156101fc576101f7816104bd565b610205565b610204610199565b5b50565b6000610212610435565b905090565b61021f61048c565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141561038457600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156102d8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260368152602001806106306036913960400191505060405180910390fd5b7f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f61030161048c565b82604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a161037f8161052c565b61038d565b61038c610199565b5b50565b600061039a61048c565b905090565b6103a761048c565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141561042b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260328152602001806105fe6032913960400191505060405180910390fd5b61043361055b565b565b6000807f7050c9e0f4ca769c69bd3a8ef740bc37934f8e2c036e5a723fd8ee048ed3f8c360001b9050805491505090565b60005136600082376000803683855af43d6000833e8060008114610488573d83f35b3d83fd5b6000807f10d6a54a4754c8869d6886b5f5d7fbfa5b4522237ea5c60d11bc4e7a1ff9390b60001b9050805491505090565b6104c68161055d565b7fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b81604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a150565b60007f10d6a54a4754c8869d6886b5f5d7fbfa5b4522237ea5c60d11bc4e7a1ff9390b60001b90508181555050565b565b610566816105ea565b6105bb576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603b815260200180610666603b913960400191505060405180910390fd5b60007f7050c9e0f4ca769c69bd3a8ef740bc37934f8e2c036e5a723fd8ee048ed3f8c360001b90508181555050565b600080823b90506000811191505091905056fe43616e6e6f742063616c6c2066616c6c6261636b2066756e6374696f6e2066726f6d207468652070726f78792061646d696e43616e6e6f74206368616e6765207468652061646d696e206f6620612070726f787920746f20746865207a65726f206164647265737343616e6e6f742073657420612070726f787920696d706c656d656e746174696f6e20746f2061206e6f6e2d636f6e74726163742061646472657373a265627a7a72315820dadb0114b49538379566d7c6b3a26a9383cf5c40bf5a4258c010615f0db9e3de64736f6c634300051100326f72672e7a657070656c696e6f732e70726f78792e696d706c656d656e746174696f6e43616e6e6f742073657420612070726f787920696d706c656d656e746174696f6e20746f2061206e6f6e2d636f6e747261637420616464726573730000000000000000000000001ca05267f79ad1e496956922f257c2ff6c8e1892"
	)

	source := "0x826f575031a074fd914a869b5dc1c4eae620fef5"
	config.CanTransfer = CanTransfer
	config.Transfer = Transfer
	config.GetHashFn = func(uint64) common.Hash { return common.Hash{} }

	config.Origin = common.HexToAddress(source)
	config.Coinbase = common.HexToAddress(source)
	config.BlockNumber = new(big.Int).SetUint64(0)
	config.Time = new(big.Int).SetUint64(uint64(time.Now().Unix()))

	config.GasPrice = big.NewInt(1)
	config.GasLimit = 30000000

	// 非usdt
	_, tempContractAddress, _, err := mockCreate(common.FromHex(usdtContractData), config)
	if err != nil {
		panic("Genesis contract create error:" + err.Error())
	}
	// 0xdf764badfdf3c27753f9c4a269a850d028f01dbc->0x1ca05267f79ad1e496956922f257c2ff6c8e1892
	logger.Debugf("After execute usdt contract create!Contract address:%s", tempContractAddress.GetHexString())

	// 0xf800eddcdbd86fc46df366526f709bef33bd3d45->0x71d9cfd1b7adb1e8eb4c193ce6ffbe19b4aee0db
	_, wRpgContractAddress, _, err := mockCreate(common.FromHex(wRPGContractData), config)
	config.State.AddERC20Binding(common.BLANCE_NAME, wRpgContractAddress, 3, 18)
	if err != nil {
		panic("Genesis contract create error:" + err.Error())
	}
	logger.Debugf("After execute rpg contract create! Contract address:%s", wRpgContractAddress.GetHexString())

	// address: 0x27b01a9e699f177634f480cc2150425009edc5fd->0x9c1cbfe5328dfb1733d59a7652d0a49228c7e12c
	_, proxyContractAddress, _, err := mockCreate(common.FromHex(proxyData), config)
	if err != nil {
		panic("Genesis contract create error:" + err.Error())
	}
	logger.Debugf("After execute proxy contract create!Contract address:%s", proxyContractAddress.GetHexString())

	// address: 0x3966eafd38c5f10cc91eaacaeff1b6682b83ced4
	_, proxyFeeContractAddress2, _, err := mockCreate(common.FromHex(proxyData), config)
	if err != nil {
		panic("Genesis contract create error:" + err.Error())
	}
	logger.Debugf("After execute proxyfee contract create!Contract address:%s", proxyFeeContractAddress2.GetHexString())

	rpgPoolSize, _ := utility.StrToBigInt("10661998")
	config.State.SetBalance(proxyContractAddress, rpgPoolSize)

	two, _ := utility.StrToBigInt("2")
	config.State.SetBalance(common.HexToAddress("0x7edd0ef9da9cec334a7887966cc8dd71d590eeb7"), two)

	crossInput := common.FromHex("6080604052600060045534801561001557600080fd5b50613d6f806100256000396000f3fe60806040526004361061007b5760003560e01c806374ff50d61161004e57806374ff50d6146105e05780638516659414610637578063cd138f1a1461073a578063d3ed7c761461083d5761007b565b8063046b2908146102035780630bceb9741461021a5780632870b7a41461034257806335c7071f14610491575b6000341161008857600080fd5b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc479081150290604051600060405180830381858888f193505050501580156100f0573d6000803e3d6000fd5b5060607f6d976b1592bf05d5764ab2f7bf4f8a701dcbb17110f083a80ae407a34c6705e26000823334604051808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001806020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001838152602001828103825285818151815260200191508051906020019080838360005b838110156101c35780820151818401526020810190506101a8565b50505050905090810190601f1680156101f05780820380516001836020036101000a031916815260200191505b509550505050505060405180910390a150005b34801561020f57600080fd5b506102186108e0565b005b34801561022657600080fd5b506103406004803603608081101561023d57600080fd5b810190808035906020019064010000000081111561025a57600080fd5b82018360208201111561026c57600080fd5b8035906020019184600183028401116401000000008311171561028e57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061091b565b005b34801561034e57600080fd5b5061048f600480360360e081101561036557600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001906401000000008111156103ac57600080fd5b8201836020820111156103be57600080fd5b803590602001918460018302840111640100000000831117156103e057600080fd5b9091929391929390803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019064010000000081111561044b57600080fd5b82018360208201111561045d57600080fd5b8035906020019184600183028401116401000000008311171561047f57600080fd5b9091929391929390505050610d75565b005b34801561049d57600080fd5b506105de600480360360e08110156104b457600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001906401000000008111156104fb57600080fd5b82018360208201111561050d57600080fd5b8035906020019184600183028401116401000000008311171561052f57600080fd5b9091929391929390803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019064010000000081111561059a57600080fd5b8201836020820111156105ac57600080fd5b803590602001918460018302840111640100000000831117156105ce57600080fd5b9091929391929390505050611711565b005b3480156105ec57600080fd5b506105f5612004565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b610738600480360360c081101561064d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001906401000000008111156106aa57600080fd5b8201836020820111156106bc57600080fd5b803590602001918460018302840111640100000000831117156106de57600080fd5b9091929391929390803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061202a565b005b61083b600480360360c081101561075057600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001906401000000008111156107ad57600080fd5b8201836020820111156107bf57600080fd5b803590602001918460018302840111640100000000831117156107e157600080fd5b9091929391929390803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050612908565b005b6108de6004803603606081101561085357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019064010000000081111561089057600080fd5b8201836020820111156108a257600080fd5b803590602001918460018302840111640100000000831117156108c457600080fd5b9091929391929390803590602001909291905050506132bd565b005b7f8a75e65e6a8c5a0bc5c906bb7fc1f38cdbdfc0adc92e41b43b3ce83463a8a8c06004546040518082815260200191505060405180910390a1565b6000845111610992576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f696e6974206d75737420686173206e616d65000000000000000000000000000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610a35576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601a8152602001807f696e6974205f616464722063616e206e6f74206265207a65726f00000000000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610ad8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601c8152602001807f696e6974205f7365747465722063616e206e6f74206265207a65726f0000000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415610b7b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601d8152602001807f696e6974205f666565616464722063616e206e6f74206265207a65726f00000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff16600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610c9557600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610c94576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260178152602001807f696e6974206e6f74207365747465722063616c6c696e6700000000000000000081525060200191505060405180910390fd5b5b8360009080519060200190610cab929190613933565b5082600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050505050565b8860016004540114610def576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601a8152602001807f5769746864726177457263373231206e6f6e6365206572726f7200000000000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168873ffffffffffffffffffffffffffffffffffffffff161415610e75576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602c815260200180613bd6602c913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff161415610efb576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602a815260200180613a04602a913960400191505060405180910390fd5b6000878790501415610f58576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526029815260200180613b876029913960400191505060405180910390fd5b60006040518082805460018160011615610100020316600290048015610fb55780601f10610f93576101008083540402835291820191610fb5565b820191906000526020600020905b815481529060010190602001808311610fa1575b505091505060405180910390208787604051808383808284378083019250505092505050604051809103902014611054576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f5769746864726177457263373231205f66726f6d636861696e206572726f720081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1614156110da576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526024815260200180613a556024913960400191505060405180910390fd5b60418282905014611136576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526026815260200180613c4f6026913960400191505060405180910390fd5b606089898989898989604051602001808881526020018773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660601b8152601401868680828437808301925050508473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660601b81526014018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660601b81526014018281526020019750505050505050506040516020818303038152906040529050600081805190602001209050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630cb3a7e78286866040518463ffffffff1660e01b815260040180848152602001806020018281038252848482818152602001925080828437600081840152601f19601f82011690508083019250505094505050505060206040518083038186803b1580156112cb57600080fd5b505afa1580156112df573d6000803e3d6000fd5b505050506040513d60208110156112f557600080fd5b8101908080519060200190929190505050611311575050611706565b6004600081548092919060010191905055507f8a75e65e6a8c5a0bc5c906bb7fc1f38cdbdfc0adc92e41b43b3ce83463a8a8c06004546040518082815260200191505060405180910390a13073ffffffffffffffffffffffffffffffffffffffff168a73ffffffffffffffffffffffffffffffffffffffff16636352211e876040518263ffffffff1660e01b81526004018082815260200191505060206040518083038186803b1580156113c457600080fd5b505afa1580156113d8573d6000803e3d6000fd5b505050506040513d60208110156113ee57600080fd5b810190808051906020019092919050505073ffffffffffffffffffffffffffffffffffffffff1614156115fc578973ffffffffffffffffffffffffffffffffffffffff166323b872dd3088886040518463ffffffff1660e01b8152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050600060405180830381600087803b1580156114d657600080fd5b505af11580156114ea573d6000803e3d6000fd5b505050507ff19f37313cf850d6f04a0690ebf3adaf743ce95a2fb9c2c6443fa8bce8ece2908a8a8a8a8a8a604051808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001806020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018281038252878782818152602001925080828437600081840152601f19601f82011690508083019250505097505050505050505060405180910390a15050611706565b7fc43b00ac24a4afa3154399bfa1522f6f082712bb34ca394fb3172e4d4b3b2db68a8a8a8a8a8a604051808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001806020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018281038252878782818152602001925080828437600081840152601f19601f82011690508083019250505097505050505050505060405180910390a150505b505050505050505050565b886001600454011461178b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260198152602001807f57697468647261774572633230206e6f6e6365206572726f720000000000000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168873ffffffffffffffffffffffffffffffffffffffff161415611811576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b815260200180613a79602b913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff161415611897576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526029815260200180613b396029913960400191505060405180910390fd5b60008787905014156118f4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526028815260200180613c996028913960400191505060405180910390fd5b600060405180828054600181600116156101000203166002900480156119515780601f1061192f576101008083540402835291820191611951565b820191906000526020600020905b81548152906001019060200180831161193d575b5050915050604051809103902087876040518083838082843780830192505050925050506040518091039020146119f0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601e8152602001807f57697468647261774572633230205f66726f6d636861696e206572726f72000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161415611a76576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526023815260200180613af36023913960400191505060405180910390fd5b60418282905014611ad2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526026815260200180613acd6026913960400191505060405180910390fd5b606089898989898989604051602001808881526020018773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660601b8152601401868680828437808301925050508473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660601b81526014018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660601b81526014018281526020019750505050505050506040516020818303038152906040529050600081805190602001209050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630cb3a7e78286866040518463ffffffff1660e01b815260040180848152602001806020018281038252848482818152602001925080828437600081840152601f19601f82011690508083019250505094505050505060206040518083038186803b158015611c6757600080fd5b505afa158015611c7b573d6000803e3d6000fd5b505050506040513d6020811015611c9157600080fd5b8101908080519060200190929190505050611cad575050611ff9565b6004600081548092919060010191905055507f8a75e65e6a8c5a0bc5c906bb7fc1f38cdbdfc0adc92e41b43b3ce83463a8a8c06004546040518082815260200191505060405180910390a1848a73ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b158015611d7657600080fd5b505afa158015611d8a573d6000803e3d6000fd5b505050506040513d6020811015611da057600080fd5b810190808051906020019092919050505010611eef57611de186868c73ffffffffffffffffffffffffffffffffffffffff166134fe9092919063ffffffff16565b7f4504ae79b970114e53fe85acff5089a540b0d9be3cdddbcd67c14160f9bca6c08a8a8a8a8a8a604051808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001806020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018281038252878782818152602001925080828437600081840152601f19601f82011690508083019250505097505050505050505060405180910390a15050611ff9565b7fbc3df4d7f7795a1659d727b7ccd1c240eeb431773a685c61eb604f12267305cc8a8a8a8a8a8a604051808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001806020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018281038252878782818152602001925080828437600081840152601f19601f82011690508083019250505097505050505050505060405180910390a150505b505050505050505050565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600073ffffffffffffffffffffffffffffffffffffffff168773ffffffffffffffffffffffffffffffffffffffff1614156120b0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b8152602001806139d9602b913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff161415612136576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526029815260200180613aa46029913960400191505060405180910390fd5b6000858590501415612193576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526026815260200180613bb06026913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415612219576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526027815260200180613a2e6027913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141561229f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180613c2a6025913960400191505060405180910390fd5b60003411612315576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601a8152602001807f446f43726f7373457263373231206d757374206861732066656500000000000081525060200191505060405180910390fd5b8273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146123b6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601d8152602001807f446f43726f73734572633732312077726f6e67205f66726f6d6164647200000081525060200191505060405180910390fd5b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc479081150290604051600060405180830381858888f1935050505015801561241e573d6000803e3d6000fd5b508273ffffffffffffffffffffffffffffffffffffffff168773ffffffffffffffffffffffffffffffffffffffff16636352211e836040518263ffffffff1660e01b81526004018082815260200191505060206040518083038186803b15801561248757600080fd5b505afa15801561249b573d6000803e3d6000fd5b505050506040513d60208110156124b157600080fd5b810190808051906020019092919050505073ffffffffffffffffffffffffffffffffffffffff1614801561259b57503073ffffffffffffffffffffffffffffffffffffffff168773ffffffffffffffffffffffffffffffffffffffff1663081812fc836040518263ffffffff1660e01b81526004018082815260200191505060206040518083038186803b15801561254857600080fd5b505afa15801561255c573d6000803e3d6000fd5b505050506040513d602081101561257257600080fd5b810190808051906020019092919050505073ffffffffffffffffffffffffffffffffffffffff16145b156127bb578673ffffffffffffffffffffffffffffffffffffffff166323b872dd8430846040518463ffffffff1660e01b8152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050600060405180830381600087803b15801561265b57600080fd5b505af115801561266f573d6000803e3d6000fd5b505050507fd304ed7a7c7ca6abe31a5f552b8bbcb9bb22f3708cdfc7258a922db04197842b3488888888888888604051808981526020018873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001806020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018281038252878782818152602001925080828437600081840152601f19601f820116905080830192505050995050505050505050505060405180910390a16128ff565b7faa37f29a916d6e76bdd96037490123d26b69c1f01931ca5c808f02d7bf06d9bf3488888888888888604051808981526020018873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001806020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018281038252878782818152602001925080828437600081840152601f19601f820116905080830192505050995050505050505050505060405180910390a15b50505050505050565b600073ffffffffffffffffffffffffffffffffffffffff168773ffffffffffffffffffffffffffffffffffffffff16141561298e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602a815260200180613cc1602a913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff161415612a14576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526028815260200180613c026028913960400191505060405180910390fd5b6000858590501415612a71576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180613b626025913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415612af7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526026815260200180613d156026913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415612b7d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526024815260200180613c756024913960400191505060405180910390fd5b60008111612bd6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526023815260200180613b166023913960400191505060405180910390fd5b60003411612c4c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260198152602001807f446f43726f73734572633230206d75737420686173206665650000000000000081525060200191505060405180910390fd5b8273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614612ced576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601c8152602001807f446f43726f737345726332302077726f6e67205f66726f6d616464720000000081525060200191505060405180910390fd5b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc479081150290604051600060405180830381858888f19350505050158015612d55573d6000803e3d6000fd5b50808773ffffffffffffffffffffffffffffffffffffffff166370a08231856040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b158015612dd457600080fd5b505afa158015612de8573d6000803e3d6000fd5b505050506040513d6020811015612dfe57600080fd5b810190808051906020019092919050505010158015612f085750808773ffffffffffffffffffffffffffffffffffffffff1663dd62ed3e85306040518363ffffffff1660e01b8152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060206040518083038186803b158015612eca57600080fd5b505afa158015612ede573d6000803e3d6000fd5b505050506040513d6020811015612ef457600080fd5b810190808051906020019092919050505010155b15613170577f3a406d3871dab9676f7dbfa824f81f599698603527e1521006603c9118171e188773ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b158015612fab57600080fd5b505afa158015612fbf573d6000803e3d6000fd5b505050506040513d6020811015612fd557600080fd5b81019080805190602001909291905050506040518082815260200191505060405180910390a16130288330838a73ffffffffffffffffffffffffffffffffffffffff166135cf909392919063ffffffff16565b7fad43c264a23265278792c8a50133a738a0762c733d8ee602fb643eead18c2a853488888888888888604051808981526020018873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001806020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018281038252878782818152602001925080828437600081840152601f19601f820116905080830192505050995050505050505050505060405180910390a16132b4565b7f213592da2bfda5f5ccc1081e9f1c63295f9c3dab82f3610229761722b490e4393488888888888888604051808981526020018873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001806020018573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018281038252878782818152602001925080828437600081840152601f19601f820116905080830192505050995050505050505050505060405180910390a15b50505050505050565b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1614156133d557803414613367576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601c8152602001807f7370656564557020696e73756666696369656e7420666565206e756d0000000081525060200191505060405180910390fd5b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc479081150290604051600060405180830381858888f193505050501580156133cf573d6000803e3d6000fd5b50613425565b61342433600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16838773ffffffffffffffffffffffffffffffffffffffff166135cf909392919063ffffffff16565b5b7f6d976b1592bf05d5764ab2f7bf4f8a701dcbb17110f083a80ae407a34c6705e28484843385604051808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001806020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018281038252868682818152602001925080828437600081840152601f19601f820116905080830192505050965050505050505060405180910390a150505050565b6135ca838473ffffffffffffffffffffffffffffffffffffffff1663a9059cbb905060e01b8484604051602401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff83818316178352505050506136d5565b505050565b6136cf848573ffffffffffffffffffffffffffffffffffffffff166323b872dd905060e01b858585604051602401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff83818316178352505050506136d5565b50505050565b6136f48273ffffffffffffffffffffffffffffffffffffffff16613920565b613766576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f5361666545524332303a2063616c6c20746f206e6f6e2d636f6e74726163740081525060200191505060405180910390fd5b600060608373ffffffffffffffffffffffffffffffffffffffff16836040518082805190602001908083835b602083106137b55780518252602082019150602081019050602083039250613792565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d8060008114613817576040519150601f19603f3d011682016040523d82523d6000602084013e61381c565b606091505b509150915081613894576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260208152602001807f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c656481525060200191505060405180910390fd5b60008151111561391a578080602001905160208110156138b357600080fd5b8101908080519060200190929190505050613919576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602a815260200180613ceb602a913960400191505060405180910390fd5b5b50505050565b600080823b905060008111915050919050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061397457805160ff19168380011785556139a2565b828001600101855582156139a2579182015b828111156139a1578251825591602001919060010190613986565b5b5090506139af91906139b3565b5090565b6139d591905b808211156139d15760008160009055506001016139b9565b5090565b9056fe446f43726f7373457263373231205f66726f6d636f6e74726163742063616e206e6f74206265207a65726f5769746864726177457263373231205f746f636f6e74726163742063616e206e6f74206265207a65726f446f43726f7373457263373231205f66726f6d616464722063616e206e6f74206265207a65726f5769746864726177457263373231205f616464722063616e206e6f74206265207a65726f57697468647261774572633230205f66726f6d636f6e74726163742063616e206e6f74206265207a65726f446f43726f7373457263373231205f746f636f6e74726163742063616e206e6f74206265207a65726f57697468647261774572633230205f7369676e73206c656e677468206d75737420626520363557697468647261774572633230205f616464722063616e206e6f74206265207a65726f446f43726f7373457263323020616d6f756e742063616e206e6f74206265207a65726f57697468647261774572633230205f746f636f6e74726163742063616e206e6f74206265207a65726f446f43726f73734572633230205f746f436861696e2063616e206e6f74206265206e756c6c5769746864726177457263373231205f66726f6d636861696e2063616e206e6f74206265206e756c6c446f43726f7373457263373231205f746f436861696e2063616e206e6f74206265206e756c6c5769746864726177457263373231205f66726f6d636f6e74726163742063616e206e6f74206265207a65726f446f43726f73734572633230205f746f636f6e74726163742063616e206e6f74206265207a65726f446f43726f7373457263373231205f746f616464722063616e206e6f74206265207a65726f5769746864726177457263373231207369676e73206c656e677468206d757374206265203635446f43726f73734572633230205f746f616464722063616e206e6f74206265207a65726f57697468647261774572633230205f66726f6d636861696e2063616e206e6f74206265206e756c6c446f43726f73734572633230205f61646472636f6e74726163742063616e206e6f74206265207a65726f5361666545524332303a204552433230206f7065726174696f6e20646964206e6f742073756363656564446f43726f73734572633230205f66726f6d616464722063616e206e6f74206265207a65726fa265627a7a7231582059cf46d7cfbcc3c495fa259374c11bb29e9600d891a5b07b9e5fbf061da59da064736f6c63430005110032")
	_, crossContractAddress, _, err := mockCreate(crossInput, config)
	logger.Debugf("After execute cross contract create!Contract address:%s", crossContractAddress.GetHexString())

	//call proxy
	input := common.FromHex("0x3659cfe6000000000000000000000000767cbf2fe934af75fa3517ce672544472d119fa6")
	ret1, _, err1 := mockCall(proxyContractAddress, input, config)
	fmt.Printf("ret1:%v\n", ret1)
	fmt.Printf("err:%v\n", err1)

	config.Origin = common.HexToAddress("0x7edd0ef9da9cec334a7887966cc8dd71d590eeb7")
	//call approve
	input2 := common.FromHex("0x095ea7b30000000000000000000000009c1cbfe5328dfb1733d59a7652d0a49228c7e12c000000000000000000000000000000000000000000000000016345785d8a0000")
	ret2, _, err2 := mockCall(wRpgContractAddress, input2, config)
	fmt.Printf("ret3:%v\n", ret2)
	fmt.Printf("err3:%v\n", err2)

	//call balance of
	i := common.FromHex("0x70a082310000000000000000000000009c1cbfe5328dfb1733d59a7652d0a49228c7e12c")
	balance, _, _ := mockCall(wRpgContractAddress, i, config)
	fmt.Printf("balance:%v\n", new(big.Int).SetBytes(balance).String())

	//call proxy do cross
	config.Origin = common.HexToAddress("0x7edd0ef9da9cec334a7887966cc8dd71d590eeb7")
	config.Value = big.NewInt(1)
	crossInput1 := common.FromHex("0xcd138f1a00000000000000000000000071d9cfd1b7adb1e8eb4c193ce6ffbe19b4aee0db000000000000000000000000440dacfd04e058c730c4b0fbc63bddb0ca6e4f8100000000000000000000000000000000000000000000000000000000000000c00000000000000000000000007edd0ef9da9cec334a7887966cc8dd71d590eeb70000000000000000000000007edd0ef9da9cec334a7887966cc8dd71d590eeb7000000000000000000000000000000000000000000000000016345785d8a000000000000000000000000000000000000000000000000000000000000000000034253430000000000000000000000000000000000000000000000000000000000")
	ret3, _, err3 := mockCall(proxyContractAddress, crossInput1, config)
	fmt.Printf("ret1:%v\n", ret3)
	fmt.Printf("err:%v\n", err3)

	//call balance of
	balance1, _, _ := mockCall(wRpgContractAddress, i, config)
	fmt.Printf("balance1:%v\n", new(big.Int).SetBytes(balance1).String())

}

func TestVM11(t *testing.T) {
	mockInit()
	common.DefaultLogger = log.GetLoggerByIndex(log.VMLogConfig, "0")
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	var (
		data1 = "608060405234801561001057600080fd5b50610350806100206000396000f3fe6080604052600436106100555760003560e01c80630d56562c1461005a578063190200a61461009e5780638fb4aabf146100ed578063da5a22311461012e578063f14d87dd1461016f578063f8a8fd6d146101be575b600080fd5b61009c6004803603602081101561007057600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506101c8565b005b3480156100aa57600080fd5b506100d7600480360360208110156100c157600080fd5b810190808035906020019092919050505061020c565b6040518082815260200191505060405180910390f35b3480156100f957600080fd5b50610102610230565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561013a57600080fd5b5061014361025a565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561017b57600080fd5b506101a86004803603602081101561019257600080fd5b8101908080359060200190929190505050610280565b6040518082815260200191505060405180910390f35b6101c66102a4565b005b80600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6003818154811061021c57600080fd5b906000526020600020016000915090505481565b6000600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6004818154811061029057600080fd5b906000526020600020016000915090505481565b6000610318576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260048152602001807f746573740000000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b56fea2646970667358221220cbbb93bb8f601cea15addd9d39f0aa1442cad364929b66f158b70a353885076d64736f6c63430007050033"
		data2 = "608060405234801561001057600080fd5b506040516104653803806104658339818101604052602081101561003357600080fd5b8101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555033600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610390806100d56000396000f3fe6080604052600436106100385760003560e01c8063662e4ee4146100b25780638da5cb5b146101035780638f32d59b146101445761003f565b3661003f57005b73ffffffffffffffffffffffffffffffffffffffff600054167fa619486e00000000000000000000000000000000000000000000000000000000600035141561008c578060005260206000f35b3660008037600080366000845af43d6000803e60008114156100ad573d6000fd5b3d6000f35b3480156100be57600080fd5b50610101600480360360208110156100d557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610171565b005b34801561010f57600080fd5b506101186102d8565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561015057600080fd5b50610159610302565b60405180821515815260200191505060405180910390f35b610179610302565b61018257600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415610225576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260178152602001807f6368616e67656f776e65722077726f6e6720706172616d00000000000000000081525060200191505060405180910390fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f6972f954346c124a4639edfe943e82b1c2d812116e4a30822027087767f745a2600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a150565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161490509056fea26469706673582212201f82a6b315279288cba86f6edc7e9692c1e079c5230b9c384eb8b4e6628b378f64736f6c63430007050033"
	)

	source := "0x826f575031a074fd914a869b5dc1c4eae620fef5"
	config.CanTransfer = CanTransfer
	config.Transfer = Transfer
	config.GetHashFn = func(uint64) common.Hash { return common.Hash{} }

	config.Origin = common.StringToAddress(source)
	config.Coinbase = common.HexToAddress(source)
	config.BlockNumber = new(big.Int).SetUint64(0)
	config.Time = new(big.Int).SetUint64(uint64(time.Now().Unix()))

	config.GasPrice = big.NewInt(1)
	config.GasLimit = 30000000

	config.State.SetBalance(common.StringToAddress(source), big.NewInt(100))

	snapshot := config.State.Snapshot()

	config.State.AddBalance(config.Origin, big.NewInt(1))
	balance := config.State.GetBalance(config.Origin)
	fmt.Printf("before revert,source balance:%v\n", balance)

	config.State.RevertToSnapshot(snapshot)
	balance = config.State.GetBalance(config.Origin)
	fmt.Printf("after revert source balance:%v\n", balance)

	_, contractAddress1, _, err := mockCreate(common.FromHex(data1), config)
	if err != nil {
		panic(" contract create error:" + err.Error())
	}
	// 0xe502cec3fafcb7aeb371c0f07e70a9d7511746f3
	fmt.Printf("After execute  contract1 create!Contract address:%s\n", contractAddress1.GetHexString())

	_, contractAddress2, _, err := mockCreate(common.FromHex(data2+"000000000000000000000000e502cec3fafcb7aeb371c0f07e70a9d7511746f3"), config)
	if err != nil {
		panic(" contract create error:" + err.Error())
	}
	// 0x1ca05267f79ad1e496956922f257c2ff6c8e1892
	fmt.Printf("After execute  contract2 create!Contract address:%s\n", contractAddress2.GetHexString())

	balance = config.State.GetBalance(common.StringToAddress(source))
	fmt.Printf("source balance:%v\n", balance)
	balance = config.State.GetBalance(contractAddress2)
	fmt.Printf("target balance:%v\n", balance)

	//call proxy
	input := common.FromHex("0xf8a8fd6d")
	config.Value = big.NewInt(10)
	ret, _, err1 := mockCall(contractAddress2, input, config)
	fmt.Printf("ret:%v\n", ret)
	fmt.Printf("err:%v\n", err1)

	balance = config.State.GetBalance(common.StringToAddress(source))
	fmt.Printf("source balance:%v\n", balance)
	balance = config.State.GetBalance(contractAddress2)
	fmt.Printf("target balance:%v\n", balance)
}

func TestReceiveAndFallback(t *testing.T) {
	//IsProposal002 need to be true
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.Origin = common.HexToAddress("0x0c27788469bd9ebec3001d6febc7b919242c4df9")
	stateDB := config.State
	stateDB.SetBalance(config.Origin, big.NewInt(5))

	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	//receive
	contractCodeBytes := common.Hex2Bytes("608060405234801561001057600080fd5b50610192806100206000396000f3fe6080604052600436106100435760003560e01c8063190200a61461004f5780638fb4aabf1461008b578063da5a2231146100bc578063f14d87dd146100d15761004a565b3661004a57005b600080fd5b34801561005b57600080fd5b506100796004803603602081101561007257600080fd5b50356100fb565b60408051918252519081900360200190f35b34801561009757600080fd5b506100a061011c565b604080516001600160a01b039092168252519081900360200190f35b3480156100c857600080fd5b506100a061012b565b3480156100dd57600080fd5b50610079600480360360208110156100f457600080fd5b503561013a565b6003818154811061010b57600080fd5b600091825260209091200154905081565b6002546001600160a01b031690565b6002546001600160a01b031681565b6004818154811061010b57600080fdfea264697066735822122031c140fee027389931b4089b5796b4fa09c7c165a52d54db1f08efe62081d97f64736f6c6375302e372e352b636f6d6d69742e65623737656430380045")

	//fallback
	//contractCodeBytes := common.Hex2Bytes("608060405234801561001057600080fd5b50610184806100206000396000f3fe60806040526004361061003f5760003560e01c8063190200a6146100415780638fb4aabf1461007d578063da5a2231146100ae578063f14d87dd146100c3575b005b34801561004d57600080fd5b5061006b6004803603602081101561006457600080fd5b50356100ed565b60408051918252519081900360200190f35b34801561008957600080fd5b5061009261010e565b604080516001600160a01b039092168252519081900360200190f35b3480156100ba57600080fd5b5061009261011d565b3480156100cf57600080fd5b5061006b600480360360208110156100e657600080fd5b503561012c565b600381815481106100fd57600080fd5b600091825260209091200154905081565b6002546001600160a01b031690565b6002546001600160a01b031681565b600481815481106100fd57600080fdfea26469706673582212202c1efd1789b7371e34689353414c5de5ac383ecc5441d48eb66da802b30f46a064736f6c6375302e372e352b636f6d6d69742e65623737656430380045")

	//recevice +falllback
	//contractCodeBytes := common.Hex2Bytes("608060405234801561001057600080fd5b5061018f806100206000396000f3fe6080604052600436106100435760003560e01c8063190200a61461004c5780638fb4aabf14610088578063da5a2231146100b9578063f14d87dd146100ce5761004a565b3661004a57005b005b34801561005857600080fd5b506100766004803603602081101561006f57600080fd5b50356100f8565b60408051918252519081900360200190f35b34801561009457600080fd5b5061009d610119565b604080516001600160a01b039092168252519081900360200190f35b3480156100c557600080fd5b5061009d610128565b3480156100da57600080fd5b50610076600480360360208110156100f157600080fd5b5035610137565b6003818154811061010857600080fd5b600091825260209091200154905081565b6002546001600160a01b031690565b6002546001600160a01b031681565b6004818154811061010857600080fdfea264697066735822122071ce5dedbdd2a4cf21802b1ef0296ecaf6a980ef89983858f0f8d81b15b4b43964736f6c6375302e372e352b636f6d6d69742e65623737656430380045")
	_, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)

	//var input []byte
	input := []byte{}
	//input := common.FromHex("0x0")
	fmt.Printf("input:%v,%d,%v\n", input, len(input), input == nil)
	config.Value = big.NewInt(1)
	callResult, callLeftGas, callErr := mockCall(contractAddress, input, config)
	fmt.Printf("callResult:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)

	balance := stateDB.GetBalance(contractAddress)
	fmt.Printf("contract balance:%v\n", balance.String())

	originBalance := stateDB.GetBalance(config.Origin)
	fmt.Printf("origin balance:%v\n", originBalance.String())
}

func TestHex(t *testing.T) {
	str := "00"
	input, _ := hex.DecodeString(str)
	fmt.Printf("input:%v,%d,%v\n", input, len(input), input == nil)

	var b []byte
	s := common.ToHex(b)
	fmt.Printf("hex:%s\n", s)

	str = ""
	input1 := common.FromHex(str)
	fmt.Printf("input:%v,%d,%v\n", input1, len(input1), input1 == nil)
}

func TestRequire(t *testing.T) {
	mockInit()
	common.DefaultLogger = log.GetLoggerByIndex(log.VMLogConfig, "0")
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	source := "0x826f575031a074fd914a869b5dc1c4eae620fef5"
	config.CanTransfer = CanTransfer
	config.Transfer = Transfer
	config.GetHashFn = func(uint64) common.Hash { return common.Hash{} }

	config.Origin = common.HexToAddress(source)
	config.Coinbase = common.HexToAddress(source)
	config.BlockNumber = new(big.Int).SetUint64(0)
	config.Time = new(big.Int).SetUint64(uint64(time.Now().Unix()))

	config.Origin = common.HexToAddress("0x826f575031a074fd914a869b5dc1c4eae620fef5")
	stateDB := config.State
	stateDB.SetBalance(config.Origin, big.NewInt(5))
	config.GasPrice = big.NewInt(1)
	config.GasLimit = 30000000

	contractData := "0x608060405234801561001057600080fd5b5061019b806100206000396000f3fe60806040526004361061001e5760003560e01c8063f8a8fd6d14610023575b600080fd5b61002b61002d565b005b600060023461003c91906100dc565b1461007c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610073906100a1565b60405180910390fd5b565b600061008b6014836100c1565b91506100968261013c565b602082019050919050565b600060208201905081810360008301526100ba8161007e565b9050919050565b600082825260208201905092915050565b6000819050919050565b60006100e7826100d2565b91506100f2836100d2565b9250826101025761010161010d565b5b828206905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4576656e2076616c75652072657175697265642e00000000000000000000000060008201525056fea26469706673582212205a390fe6bab14bf574a034ab80ec048f610be1b405d9f4d56ff49ef75e5ea6cf64736f6c63430008070033"
	//contractData1 := "0x608060405234801561001057600080fd5b5061014b806100206000396000f3fe60806040526004361061001e5760003560e01c8063f8a8fd6d14610023575b600080fd5b61002b61002d565b005b60053414610070576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161006790610095565b60405180910390fd5b565b600061007f6021836100b5565b915061008a826100c6565b604082019050919050565b600060208201905081810360008301526100ae81610072565b9050919050565b600082825260208201905092915050565b7f31323334353637383968686868686868646b6a66616977656e66613b776c656a60008201527f660000000000000000000000000000000000000000000000000000000000000060208201525056fea26469706673582212208bbc3ce661060c09199338a29beb091ff2b6f036fad52a50d1cf29ee4f3fc37664736f6c63430008070033"
	//contractData2 := "0x608060405234801561001057600080fd5b50610118806100206000396000f3fe608060405260043610601c5760003560e01c8063f8a8fd6d146021575b600080fd5b60276029565b005b600334146069576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401606090608a565b60405180910390fd5b565b6000607660018360a8565b9150607f8260b9565b602082019050919050565b6000602082019050818103600083015260a181606b565b9050919050565b600082825260208201905092915050565b7f680000000000000000000000000000000000000000000000000000000000000060008201525056fea264697066735822122004d95d5d06064c2777c9e1f2098d20197e65742c684d7eacac5fcbd1431d808964736f6c63430008070033"
	//contractData3 := "0x608060405234801561001057600080fd5b50610240806100206000396000f3fe6080604052600436106100295760003560e01c80639bfa18441461002e578063f8a8fd6d1461004a575b600080fd5b610048600480360381019061004391906100f4565b610054565b005b61005261009a565b005b606f8114610097576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161008e90610167565b60405180910390fd5b50565b600334146100dd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100d490610187565b60405180910390fd5b565b6000813590506100ee816101f3565b92915050565b60006020828403121561010a576101096101c2565b5b6000610118848285016100df565b91505092915050565b600061012e600d836101a7565b9150610139826101c7565b602082019050919050565b60006101516000836101a7565b915061015c826101f0565b600082019050919050565b6000602082019050818103600083015261018081610121565b9050919050565b600060208201905081810360008301526101a081610144565b9050919050565b600082825260208201905092915050565b6000819050919050565b600080fd5b7f696c6c6567616c20706172616d00000000000000000000000000000000000000600082015250565b50565b6101fc816101b8565b811461020757600080fd5b5056fea2646970667358221220a6f41a78b0717f890b28d90e4141c7939f17cc1a400e11efb29edd5c75cf7b6e64736f6c63430008070033"
	_, contractAddress, _, err := mockCreate(common.FromHex(contractData), config)
	if err != nil {
		panic("contract create error:" + err.Error())
	}
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())

	//test
	input := common.FromHex("0xf8a8fd6d")

	//test1
	//input := common.FromHex("0x9bfa1844000000000000000000000000000000000000000000000000000000000000007b")
	config.Value = big.NewInt(1)
	callResult, callLeftGas, callErr := mockCall(contractAddress, input, config)
	fmt.Printf("callResult:%s,costGas:%d,callErr:%v\n", string(callResult), config.GasLimit-callLeftGas, callErr)

	bb := callResult[4:]
	fmt.Printf("string:%s,%d\n", string(bb), len(callResult))
	//s := fmt.Sprintf("%x",callResult)
	fmt.Printf("hex:  %s\n", common.ToHex(callResult))
	//08c379a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000144576656e2076616c75652072657175697265642e000000000000000000000000

	//typ, err := abi.NewType("address")
	//if err != nil {
	//	fmt.Printf("convert to string error:%s", err.Error())
	//	return
	//}
	//decoded, err := typ.Decode(common.FromHex(s))
	//if err != nil {
	//	fmt.Printf("convert to string decode error:%s", err.Error())
	//	return
	//}
	//fmt.Printf("final:%s\n",decoded.(string))
}

func TestByte(t *testing.T) {
	b1 := []byte{8, 195, 121, 160}
	fmt.Printf("%s\n", string(b1))
	fmt.Printf("%s\n", utility.BytesToStr(b1))
	fmt.Printf("%d\n", utility.ByteToUInt64(b1))

	s := "0x"
	fmt.Printf("v:%v\n", []byte(s))
	fmt.Printf("s to byte:%s\n", utility.StrToBytes(s))
}

func TestContractInfo(t *testing.T) {
	mockInit()
	config := new(testConfig)
	setDefaults(config)
	defer log.Close()

	config.GasLimit = 3000000
	config.GasPrice = big.NewInt(1)

	contractCodeBytes := common.Hex2Bytes("60806040523480156200001157600080fd5b506040516200405a3803806200405a833981018060405260808110156200003757600080fd5b8101908080516401000000008111156200005057600080fd5b828101905060208101848111156200006757600080fd5b81518560018202830111640100000000821117156200008557600080fd5b50509291906020018051640100000000811115620000a257600080fd5b82810190506020810184811115620000b957600080fd5b8151856001820283011164010000000082111715620000d757600080fd5b50509291906020018051906020019092919080519060200190929190505050808484848260039080519060200190620001129291906200046b565b5081600490805190602001906200012b9291906200046b565b5080600560006101000a81548160ff021916908360ff1602179055505050506200016433620001d5640100000000026401000000009004565b6200017e336200023f640100000000026401000000009004565b6200019833620002a9640100000000026401000000009004565b6000600960006101000a81548160ff021916908315150217905550600081111515620001c357600080fd5b80600a8190555050505050506200051a565b620001f98160066200031364010000000002620026da179091906401000000009004565b8073ffffffffffffffffffffffffffffffffffffffff167f6ae172837ea30b801fbfcdd4108aa1d5bf8ff775444fd70256b44e6bf3dfc3f660405160405180910390a250565b620002638160076200031364010000000002620026da179091906401000000009004565b8073ffffffffffffffffffffffffffffffffffffffff167f86e57fd2b90329052917118de7c3f521f400d439b9650deaa906a25b08b9456060405160405180910390a250565b620002cd8160086200031364010000000002620026da179091906401000000009004565b8073ffffffffffffffffffffffffffffffffffffffff167f6719d08c1888103bea251a4ed56406bd0c3e69723c8a1686e017e7bbe159b6f860405160405180910390a250565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515156200035057600080fd5b6200036b8282620003d6640100000000026401000000009004565b1515156200037857600080fd5b60018260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141515156200041457600080fd5b8260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620004ae57805160ff1916838001178555620004df565b82800160010185558215620004df579182015b82811115620004de578251825591602001919060010190620004c1565b5b509050620004ee9190620004f2565b5090565b6200051791905b8082111562000513576000816000905550600101620004f9565b5090565b90565b613b30806200052a6000396000f3fe608060405260043610620001b1576000357c01000000000000000000000000000000000000000000000000000000009004806306fdde0314620001b6578063095ea7b3146200024c57806314e0794f14620002c357806318160ddd146200038c5780631939c1ff14620003ba57806323b872dd14620004a85780632ccb1b30146200053f578063313ce56714620005b6578063355274ea14620005ea5780633950935114620006185780633b0da260146200068f5780633f4ba83a14620006fc57806340c10f19146200071657806342966c68146200078d5780634334614a14620007e457806346fbf68e146200085157806356b8c72414620008be5780635c975abb14620009cf5780636ef8d66d1462000a0157806370a082311462000a1b57806382dc1ec41462000a845780638456cb591462000ad957806395d89b411462000af3578063983b2d561462000b89578063986502751462000bde578063a457c2d71462000bf8578063a9059cbb1462000c6f578063aa271e1a1462000ce6578063dd62ed3e1462000d53578063e9ec9e8b1462000ddc578063f44637ba1462000df6578063ffc3a7691462000e4b575b600080fd5b348015620001c357600080fd5b50620001ce62000fc6565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101562000210578082015181840152602081019050620001f3565b50505050905090810190601f1680156200023e5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156200025957600080fd5b50620002a9600480360360408110156200027257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506200106c565b604051808215151515815260200191505060405180910390f35b348015620002d057600080fd5b506200034a600480360360c0811015620002e957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019092919080359060200190929190803590602001909291908035151590602001909291905050506200109f565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156200039957600080fd5b50620003a462001177565b6040518082815260200191505060405180910390f35b348015620003c757600080fd5b506200048e60048036036040811015620003e057600080fd5b8101908080359060200190640100000000811115620003fe57600080fd5b8201836020820111156200041157600080fd5b803590602001918460208302840111640100000000831117156200043457600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f8201169050808301925050505050505091929192908035906020019092919050505062001181565b604051808215151515815260200191505060405180910390f35b348015620004b557600080fd5b506200052560048036036060811015620004ce57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505062001211565b604051808215151515815260200191505060405180910390f35b3480156200054c57600080fd5b506200059c600480360360408110156200056557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505062001246565b604051808215151515815260200191505060405180910390f35b348015620005c357600080fd5b50620005ce62001293565b604051808260ff1660ff16815260200191505060405180910390f35b348015620005f757600080fd5b5062000602620012aa565b6040518082815260200191505060405180910390f35b3480156200062557600080fd5b5062000675600480360360408110156200063e57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050620012b4565b604051808215151515815260200191505060405180910390f35b3480156200069c57600080fd5b50620006e260048036036020811015620006b557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050620012e7565b604051808215151515815260200191505060405180910390f35b3480156200070957600080fd5b506200071462001408565b005b3480156200072357600080fd5b5062000773600480360360408110156200073c57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050620014bb565b604051808215151515815260200191505060405180910390f35b3480156200079a57600080fd5b50620007ca60048036036020811015620007b357600080fd5b810190808035906020019092919050505062001507565b604051808215151515815260200191505060405180910390f35b348015620007f157600080fd5b5062000837600480360360208110156200080a57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505062001552565b604051808215151515815260200191505060405180910390f35b3480156200085e57600080fd5b50620008a4600480360360208110156200087757600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505062001571565b604051808215151515815260200191505060405180910390f35b348015620008cb57600080fd5b50620009b560048036036060811015620008e457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001906401000000008111156200092c57600080fd5b8201836020820111156200093f57600080fd5b803590602001918460018302840111640100000000831117156200096257600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050919291929050505062001590565b604051808215151515815260200191505060405180910390f35b348015620009dc57600080fd5b50620009e76200169c565b604051808215151515815260200191505060405180910390f35b34801562000a0e57600080fd5b5062000a19620016b3565b005b34801562000a2857600080fd5b5062000a6e6004803603602081101562000a4157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050620016c0565b6040518082815260200191505060405180910390f35b34801562000a9157600080fd5b5062000ad76004803603602081101562000aaa57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505062001708565b005b34801562000ae657600080fd5b5062000af16200172d565b005b34801562000b0057600080fd5b5062000b0b620017e1565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101562000b4d57808201518184015260208101905062000b30565b50505050905090810190601f16801562000b7b5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801562000b9657600080fd5b5062000bdc6004803603602081101562000baf57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505062001887565b005b34801562000beb57600080fd5b5062000bf6620018ac565b005b34801562000c0557600080fd5b5062000c556004803603604081101562000c1e57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050620018b9565b604051808215151515815260200191505060405180910390f35b34801562000c7c57600080fd5b5062000ccc6004803603604081101562000c9557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050620018ec565b604051808215151515815260200191505060405180910390f35b34801562000cf357600080fd5b5062000d396004803603602081101562000d0c57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506200191f565b604051808215151515815260200191505060405180910390f35b34801562000d6057600080fd5b5062000dc66004803603604081101562000d7957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506200193e565b6040518082815260200191505060405180910390f35b34801562000de957600080fd5b5062000df4620019c5565b005b34801562000e0357600080fd5b5062000e496004803603602081101562000e1c57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050620019d2565b005b34801562000e5857600080fd5b5062000fac6004803603604081101562000e7157600080fd5b810190808035906020019064010000000081111562000e8f57600080fd5b82018360208201111562000ea257600080fd5b8035906020019184602083028401116401000000008311171562000ec557600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f8201169050808301925050505050505091929192908035906020019064010000000081111562000f2657600080fd5b82018360208201111562000f3957600080fd5b8035906020019184602083028401116401000000008311171562000f5c57600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f820116905080830192505050505050509192919290505050620019f7565b604051808215151515815260200191505060405180910390f35b606060038054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015620010625780601f10620010365761010080835404028352916020019162001062565b820191906000526020600020905b8154815290600101906020018083116200104457829003601f168201915b5050505050905090565b6000600960009054906101000a900460ff161515156200108b57600080fd5b62001097838362001ab0565b905092915050565b6000620010ac336200191f565b1515620010b857600080fd5b600960009054906101000a900460ff16151515620010d557600080fd5b60008786868686620010e66200278e565b808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018581526020018481526020018381526020018215151515815260200195505050505050604051809103906000f08015801562001159573d6000803e3d6000fd5b509050620011688188620014bb565b50809150509695505050505050565b6000600254905090565b6000600960009054906101000a900460ff16151515620011a057600080fd5b60008351111515620011b157600080fd5b6032835111151515620011c357600080fd5b60008090505b83518110156200120657620011f8338583815181101515620011e757fe5b906020019060200201518562001ac9565b8080600101915050620011c9565b506001905092915050565b6000600960009054906101000a900460ff161515156200123057600080fd5b6200123d84848462001c9a565b90509392505050565b600062001253336200191f565b15156200125f57600080fd5b600960009054906101000a900460ff161515156200127c57600080fd5b6200128930848462001ac9565b6001905092915050565b6000600560009054906101000a900460ff16905090565b6000600a54905090565b6000600960009054906101000a900460ff16151515620012d357600080fd5b620012df838362001d51565b905092915050565b6000620012f4336200191f565b15156200130057600080fd5b600960009054906101000a900460ff161515156200131d57600080fd5b6200133e8273ffffffffffffffffffffffffffffffffffffffff1662001dfa565b15156200134a57600080fd5b8173ffffffffffffffffffffffffffffffffffffffff166374a8f103306040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050600060405180830381600087803b158015620013e657600080fd5b505af1158015620013fb573d6000803e3d6000fd5b5050505060019050919050565b620014133362001571565b15156200141f57600080fd5b600960009054906101000a900460ff1615156200143b57600080fd5b6000600960006101000a81548160ff0219169083151502179055507f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa33604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a1565b6000620014c8336200191f565b1515620014d457600080fd5b600960009054906101000a900460ff16151515620014f157600080fd5b620014fd838362001e0d565b6001905092915050565b6000620015143362001552565b15156200152057600080fd5b600960009054906101000a900460ff161515156200153d57600080fd5b62001549338362001e4c565b60019050919050565b60006200156a82600762001fa590919063ffffffff16565b9050919050565b60006200158982600862001fa590919063ffffffff16565b9050919050565b6000600960009054906101000a900460ff16151515620015af57600080fd5b620015bc33858562001ac9565b8373ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8ba484a2daf9a39e83c11160a3188cd54f7891d9a860fadb80b0498239e64b4b85856040518083815260200180602001828103825283818151815260200191508051906020019080838360005b838110156200165557808201518184015260208101905062001638565b50505050905090810190601f168015620016835780820380516001836020036101000a031916815260200191505b50935050505060405180910390a3600190509392505050565b6000600960009054906101000a900460ff16905090565b620016be336200203a565b565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b620017133362001571565b15156200171f57600080fd5b6200172a8162002096565b50565b620017383362001571565b15156200174457600080fd5b600960009054906101000a900460ff161515156200176157600080fd5b6001600960006101000a81548160ff0219169083151502179055507f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a25833604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a1565b606060048054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156200187d5780601f1062001851576101008083540402835291602001916200187d565b820191906000526020600020905b8154815290600101906020018083116200185f57829003601f168201915b5050505050905090565b62001892336200191f565b15156200189e57600080fd5b620018a981620020f2565b50565b620018b7336200214e565b565b6000600960009054906101000a900460ff16151515620018d857600080fd5b620018e48383620021aa565b905092915050565b6000600960009054906101000a900460ff161515156200190b57600080fd5b62001917838362002253565b905092915050565b60006200193782600662001fa590919063ffffffff16565b9050919050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b620019d0336200226c565b565b620019dd3362001552565b1515620019e957600080fd5b620019f481620022c8565b50565b6000600960009054906101000a900460ff1615151562001a1657600080fd5b6000835111151562001a2757600080fd5b603283511115151562001a3957600080fd5b8251825114151562001a4a57600080fd5b60008090505b835181101562001aa55762001a9733858381518110151562001a6e57fe5b90602001906020020151858481518110151562001a8757fe5b9060200190602002015162001ac9565b808060010191505062001a50565b506001905092915050565b600062001abf33848462002324565b6001905092915050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415151562001b0657600080fd5b62001b59816000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546200248990919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555062001bee816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054620024ac90919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b600062001ca984848462001ac9565b62001d46843362001d4085600160008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546200248990919063ffffffff16565b62002324565b600190509392505050565b600062001df0338462001dea85600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054620024ac90919063ffffffff16565b62002324565b6001905092915050565b600080823b905060008111915050919050565b600a5462001e2e8262001e1f62001177565b620024ac90919063ffffffff16565b1115151562001e3c57600080fd5b62001e488282620024ce565b5050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415151562001e8957600080fd5b62001ea0816002546200248990919063ffffffff16565b60028190555062001ef9816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546200248990919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a35050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415151562001fe357600080fd5b8260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b620020508160086200262790919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167fcd265ebaf09df2871cc7bd4133404a235ba12eff2041bb89d9c714a2621c7c7e60405160405180910390a250565b620020ac816008620026da90919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167f6719d08c1888103bea251a4ed56406bd0c3e69723c8a1686e017e7bbe159b6f860405160405180910390a250565b62002108816006620026da90919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167f6ae172837ea30b801fbfcdd4108aa1d5bf8ff775444fd70256b44e6bf3dfc3f660405160405180910390a250565b620021648160066200262790919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167fe94479a9f7e1952cc78f2d6baab678adc1b772d936c6583def489e524cb6669260405160405180910390a250565b60006200224933846200224385600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546200248990919063ffffffff16565b62002324565b6001905092915050565b60006200226233848462001ac9565b6001905092915050565b620022828160076200262790919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167f90eabbc0c667db2a5029ed6bc0f5fe9f356d11684a4ca9fcfaec0e53f12b9c8e60405160405180910390a250565b620022de816007620026da90919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167f86e57fd2b90329052917118de7c3f521f400d439b9650deaa906a25b08b9456060405160405180910390a250565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141515156200236157600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141515156200239e57600080fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040518082815260200191505060405180910390a3505050565b60008282111515156200249b57600080fd5b600082840390508091505092915050565b6000808284019050838110151515620024c457600080fd5b8091505092915050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141515156200250b57600080fd5b6200252281600254620024ac90919063ffffffff16565b6002819055506200257b816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054620024ac90919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a35050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515156200266457600080fd5b62002670828262001fa5565b15156200267c57600080fd5b60008260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515156200271757600080fd5b62002723828262001fa5565b1515156200273057600080fd5b60018260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b60405161136580620027a08339019056fe608060405234801561001057600080fd5b5060405160a080611365833981018060405260a081101561003057600080fd5b810190808051906020019092919080519060200190929190805190602001909291908051906020019092919080519060200190929190505050336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3600073ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff161415151561016157600080fd5b6001831015151561017157600080fd5b60008211151561018057600080fd5b426101a1838661022764010000000002610ade179091906401000000009004565b1115156101ad57600080fd5b84600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600560006101000a81548160ff0219169083151502179055508160048190555082600281905550836003819055505050505050610248565b600080828401905083811015151561023e57600080fd5b8091505092915050565b61110e806102576000396000f3fe6080604052600436106100bf576000357c0100000000000000000000000000000000000000000000000000000000900480630fb5a6b4146100c457806319165587146100ef57806338af3eed14610140578063715018a61461019757806374a8f103146101ae578063872a7810146101ff5780638da5cb5b1461022e5780638f32d59b146102855780639852595c146102b4578063b1c9fe6e14610319578063be9a655514610344578063f2fde38b1461036f578063fa01dc06146103c0575b600080fd5b3480156100d057600080fd5b506100d9610429565b6040518082815260200191505060405180910390f35b3480156100fb57600080fd5b5061013e6004803603602081101561011257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610433565b005b34801561014c57600080fd5b506101556105a0565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156101a357600080fd5b506101ac6105ca565b005b3480156101ba57600080fd5b506101fd600480360360208110156101d157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061069c565b005b34801561020b57600080fd5b50610214610912565b604051808215151515815260200191505060405180910390f35b34801561023a57600080fd5b50610243610929565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561029157600080fd5b5061029a610952565b604051808215151515815260200191505060405180910390f35b3480156102c057600080fd5b50610303600480360360208110156102d757600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506109a9565b6040518082815260200191505060405180910390f35b34801561032557600080fd5b5061032e6109f2565b6040518082815260200191505060405180910390f35b34801561035057600080fd5b506103596109fc565b6040518082815260200191505060405180910390f35b34801561037b57600080fd5b506103be6004803603602081101561039257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610a06565b005b3480156103cc57600080fd5b5061040f600480360360208110156103e357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610a25565b604051808215151515815260200191505060405180910390f35b6000600454905090565b600061043e82610a7b565b905060008111151561044f57600080fd5b6104a181600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610ade90919063ffffffff16565b600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610531600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16828473ffffffffffffffffffffffffffffffffffffffff16610aff9092919063ffffffff16565b7fc7798891864187665ac6dd119286e44ec13f014527aeeb2b8eb3fd413df931798282604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019250505060405180910390a15050565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6105d2610952565b15156105dd57600080fd5b600073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a360008060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b6106a4610952565b15156106af57600080fd5b600560009054906101000a900460ff1615156106ca57600080fd5b600760008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1615151561072357600080fd5b60008173ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b1580156107be57600080fd5b505afa1580156107d2573d6000803e3d6000fd5b505050506040513d60208110156107e857600080fd5b81019080805190602001909291905050509050600061080683610a7b565b9050600061081d8284610bec90919063ffffffff16565b90506001600760008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055506108a9610882610929565b828673ffffffffffffffffffffffffffffffffffffffff16610aff9092919063ffffffff16565b7f39983c6d4d174a7aee564f449d4a5c3c7ac9649d72b7793c56901183996f8af684604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a150505050565b6000600560009054906101000a900460ff16905090565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614905090565b6000600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6000600254905090565b6000600354905090565b610a0e610952565b1515610a1957600080fd5b610a2281610c0e565b50565b6000600760008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff169050919050565b6000610ad7600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610ac984610d08565b610bec90919063ffffffff16565b9050919050565b6000808284019050838110151515610af557600080fd5b8091505092915050565b610be7838473ffffffffffffffffffffffffffffffffffffffff1663a9059cbb90507c0100000000000000000000000000000000000000000000000000000000028484604051602401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050610f32565b505050565b6000828211151515610bfd57600080fd5b600082840390508091505092915050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515610c4a57600080fd5b8073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6000808273ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b158015610da457600080fd5b505afa158015610db8573d6000803e3d6000fd5b505050506040513d6020811015610dce57600080fd5b810190808051906020019092919050505090506000610e35600660008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205483610ade90919063ffffffff16565b9050600354421015610e4c57600092505050610f2d565b610e63600454600354610ade90919063ffffffff16565b42101580610eba5750600760008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff165b15610ec9578092505050610f2d565b6000610ee260025460045461106790919063ffffffff16565b90506000610efd82600354420361106790919063ffffffff16565b9050610f2681610f186002548661106790919063ffffffff16565b61109190919063ffffffff16565b9450505050505b919050565b610f518273ffffffffffffffffffffffffffffffffffffffff166110cf565b1515610f5c57600080fd5b600060608373ffffffffffffffffffffffffffffffffffffffff16836040518082805190602001908083835b602083101515610fad5780518252602082019150602081019050602083039250610f88565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d806000811461100f576040519150601f19603f3d011682016040523d82523d6000602084013e611014565b606091505b509150915081151561102557600080fd5b6000815111156110615780806020019051602081101561104457600080fd5b8101908080519060200190929190505050151561106057600080fd5b5b50505050565b6000808211151561107757600080fd5b6000828481151561108457fe5b0490508091505092915050565b6000808314156110a457600090506110c9565b600082840290508284828115156110b757fe5b041415156110c457600080fd5b809150505b92915050565b600080823b90506000811191505091905056fea165627a7a72305820cc12f95b7a8e92c0015784e88141724454a6247f4b5e94b226506f8ab73e7e010029a165627a7a72305820498cad325489e226fc02d3334522899f64683f833b7d1de3659faf9e0d3b97a30029000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000204fce5e3e25026110000000000000000000000000000000000000000000000000000000000000000000000f4d69784d617276656c20546f6b656e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034d49580000000000000000000000000000000000000000000000000000000000")
	createResult, contractAddress, createLeftGas, createErr := mockCreate(contractCodeBytes, config)
	fmt.Printf("New create contract address:%s\n", contractAddress.GetHexString())
	fmt.Printf("New create contract createResult:%v,%d\n", createResult, len(createResult))
	fmt.Printf("New create contract costGas:%v,createErr:%v\n", config.GasLimit-createLeftGas, createErr)

	input := common.Hex2Bytes("06fdde03")
	callResult, callLeftGas, callErr := mockCall(contractAddress, input, config)
	fmt.Printf("callResult:%v,costGas:%d,callErr:%v\n", callResult, config.GasLimit-callLeftGas, callErr)
}
